/*! For license information please see bundle.editorial-tracking.js.LICENSE.txt */
/* nemo v170.0.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-tracking-objects")):"function"==typeof define&&define.amd?define("editorial-tracking",["core-tracking-objects"],t):"object"==typeof exports?exports["editorial-tracking"]=t(require("core-tracking-objects")):e["editorial-tracking"]=t(e["core-tracking-objects"])}(globalThis,(e=>(()=>{"use strict";var t={525:t=>{t.exports=e}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{r.r(a);var e=r(525);class t{constructor(){if(t._instance)return t._instance;e.clickEventService.register(t.getTrackingData),t._instance=this}static async getTrackingData(e){const n=e.currentTarget;return n&&t._linkContainsRelevantClasses(n)?{eventInfo:{eventAction:"download"},attributes:{value:n.classList.contains("nm-j-zip-download-delegate-click")?"ZIP":"PDF"}}:{}}static _linkContainsRelevantClasses(e){return!!e.classList&&(e.classList.contains("nm-j-zip-download-delegate-click")||e.classList.contains("nm-configuration-print")||e.classList.contains("j-pdf-configuration"))}}new t;class n{constructor(){if(n._instance)return n._instance;this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),n._instance=this}async getTrackingData(e){return e&&e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.contains("header-login__link")?{eventInfo:{eventAction:"exit_link",eventName:"generic"},attributes:{componentName:"one-header",currentURL:window.location.href,elementName:"icon",label:"myAudi",pos:this._getLoginLinkPosition(e.currentTarget),targetURL:e.currentTarget.getAttribute("href")}}:{}}_getLoginLinkPosition(e){let t=1;const n=e.closest(".header"),r=n.querySelector(".header-nav__list");return r&&r.children&&(t+=r.children.length),n.querySelector(".header-search")&&(t+=1),t.toString()}}new n;class i{constructor(){if(i._instance)return i._instance;this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),i._instance=this}async getTrackingData(e){return e&&e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.contains("header-logo__link")?{eventInfo:{eventAction:"internal_link",eventName:"generic"},attributes:{componentName:"one-header",currentURL:window.location.href,elementName:"icon",label:"Audi Logo",targetURL:e.currentTarget.getAttribute("href")}}:{}}}new i;class c{constructor(){if(c._instance)return c._instance;e.clickEventService.registerClickSelector(".header-menu-button__button"),this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),c._instance=this}async getTrackingData(e){return e&&e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.contains("header-menu-button__button")?{eventInfo:{eventAction:"navigation",eventName:"main navigation - "+this._getHeaderState(e.currentTarget)},attributes:{componentName:"one-header",currentURL:window.location.href,elementName:"text link",label:e.currentTarget.querySelector(".header-menu-button__text").textContent,pos:"0"}}:{}}_getHeaderState(e){return e.closest(".header").classList.contains("header--navigation-closed")?"open":"close"}}new c;class s{static _isExternalLink(e){return(-1!==e.indexOf("http")||-1!==e.indexOf("//"))&&!this._isLinkOfSameDomain(e,window.location)}static _isLinkOfSameDomain(e,t){let n=e.split("/"),r=t.hostname,a=t.hostname+":"+t.port;return n[2]===r||n[2]===a}}class o{constructor(){if(o._instance)return o._instance;this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),o._instance=this}async getTrackingData(t){const n={};if(!(t&&t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.contains("header-nav-item__link")))return n;const r=e.ClickEventHelperDom.getTargetUrl(t);let a="internal_link";s._isExternalLink(r)&&(a="exit_link");const i=t.currentTarget.closest('.header[data-module="one-header"]').querySelector(".header-menu-button .header-menu-button__text").textContent;n.eventInfo={eventAction:a,eventName:"generic"},n.attributes={componentName:"one-header",currentURL:window.location.href,elementName:"text link",label:i+" > "+t.currentTarget.querySelector(".header-nav-item__text").textContent,pos:this._getItemPosition(t.currentTarget),targetURL:t.currentTarget.getAttribute("href")};const c=t.currentTarget.parentNode;return c&&c.dataset.subNavOpen&&(n.eventInfo={eventAction:"navigation",eventName:"main navigation - "+("true"===c.dataset.subNavOpen?"close":"open")}),n}_getItemPosition(e){const t=e.parentNode;return t&&t.parentNode?(Array.prototype.indexOf.call(t.parentNode.children,t)+1).toString():""}}new o;class l{constructor(){if(l._instance)return l._instance;e.clickEventService.registerClickSelector(".header-search-button__button"),e.clickEventService.registerClickSelector(".header-search__close"),this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),l._instance=this}async getTrackingData(e){return e&&e.currentTarget&&e.currentTarget.classList&&(e.currentTarget.classList.contains("header-search-button__button")||e.currentTarget.classList.contains("header-search__close"))?{eventInfo:{eventAction:"navigation",eventName:"main search - "+this._getClickType(e.currentTarget.classList)},attributes:{componentName:"one-header",currentURL:window.location.href,elementName:"text link",label:this._getLabel(e.currentTarget),pos:this._getSearchButtonPosition(e.currentTarget)}}:{}}_getClickType(e){return e.contains("header-search__close")?"close":"access"}_getLabel(e){let t="";const n=e.closest(".header");return n.querySelector(".header-search-button__label")&&n.querySelector(".header-search-button__label").textContent&&(t=n.querySelector(".header-search-button__label").textContent),t}_getSearchButtonPosition(e){let t=1;const n=e.closest(".header").querySelector(".header-nav__list");return n&&n.children&&(t+=n.children.length),t.toString()}}new l;class g{constructor(){if(g._instance)return g._instance;this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),g._instance=this}async getTrackingData(t){if(!(t&&t.currentTarget&&t.currentTarget.classList&&t.currentTarget.classList.contains("header-sub-nav__item-link")))return{};const n=t.currentTarget.closest('.header[data-module="one-header"]'),r=e.ClickEventHelperDom.getTargetUrl(t);let a="internal_link";return s._isExternalLink(r)&&(a="exit_link"),{eventInfo:{eventAction:a,eventName:"generic"},attributes:{componentName:"one-header",currentURL:window.location.href,elementName:"text link",label:this._getLabel(t.currentTarget,n),pos:this._getItemPosition(t.currentTarget),targetURL:t.currentTarget.getAttribute("href")}}}_getLabel(e,t){let n=t.querySelector(".header-menu-button .header-menu-button__text").textContent;const r=t.querySelector(".header-nav-item[data-sub-nav-open='true']");return r&&(n+=" > "+r.querySelector(".header-nav-item__link .header-nav-item__text").textContent),n+=" > "+e.textContent,n}_getItemPosition(e){const t=e.parentNode;if(t&&t.parentNode){const e=(Array.prototype.indexOf.call(t.parentNode.children,t)+1).toString(),n=t.closest(".header-nav-item[data-sub-nav-open='true']");if(n&&n.parentNode){return(Array.prototype.indexOf.call(n.parentNode.children,n)+1).toString()+"-"+e}}return""}}new g;class u{constructor(){if(u._instance)return u._instance;this.getTrackingData=this.getTrackingData.bind(this),e.clickEventService.register(this.getTrackingData),u._instance=this}async getTrackingData(e){if(!(e&&e.currentTarget&&e.currentTarget.classList&&e.currentTarget.classList.contains("header-teaser__link")))return{};const t=e.currentTarget.closest('.header[data-module="one-header"]');return{eventInfo:{eventAction:"internal_link",eventName:"main navigation - teaser click"},attributes:{componentName:"one-header",label:this._getLabel(e.currentTarget,t),currentURL:window.location.href,targetURL:e.currentTarget.getAttribute("href"),elementName:"image",pos:this._getTeaserPosition(e.currentTarget)}}}_getLabel(e,t){let n=t.querySelector(".header-menu-button .header-menu-button__text").textContent;const r=t.querySelector(".header-nav-item[data-sub-nav-open='true']");return r&&(n+=" > "+r.querySelector(".header-nav-item__link .header-nav-item__text").textContent),n+=" > "+e.querySelector(".header-teaser__text").textContent,n}_getTeaserPosition(e){const t=e.closest(".header-sub-nav__list-teaser-wrapper");if(t){const e=(t.querySelector(".header-sub-nav__list").children.length+1).toString(),n=t.closest(".header-nav-item[data-sub-nav-open='true']");if(n&&n.parentNode){return(Array.prototype.indexOf.call(n.parentNode.children,n)+1).toString()+"-"+e}}return""}}new u})(),a})()));
//# sourceMappingURL=bundle.editorial-tracking.js.map