/*! For license information please see intro.js.LICENSE.txt */
(()=>{"use strict";var e={d:(i,t)=>{for(var s in t)e.o(t,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:t[s]})},o:(e,i)=>Object.prototype.hasOwnProperty.call(e,i),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},i={};e.r(i),e.d(i,{default:()=>n});const t=window["core-utils"],s=window["core-application"];class n extends HTMLElement{constructor(){super(),this.globalEventBus=s.signal.getEmitter(),this._handleVisibility=t.dom.throttle(this._handleVisibility.bind(this,!0),200),this._onLayerLoaded=this._onLayerLoaded.bind(this,!0)}connectedCallback(){this._initializeModule()}disconnectedCallback(){window.removeEventListener("scroll",this._handleVisibility),this.globalEventBus.off(s.appEvents.LAYER_LOADED,this._onLayerLoaded);const e=this._getLayerWrapper();e&&e.removeEventListener("scroll",this._handleVisibility)}_initializeModule(){this._addEvents(),this._handleVisibility()}_addEvents(){window.addEventListener("scroll",this._handleVisibility),this.globalEventBus.on(s.appEvents.LAYER_LOADED,this._onLayerLoaded)}_getLayerWrapper(){if("function"==typeof this.closest){return this.closest(".nm-layer-wrapper")}}_onLayerLoaded(){const e=this._getLayerWrapper();e&&e.addEventListener("scroll",this._handleVisibility),this._handleVisibility()}_handleVisibility(){t.dom.getVisibleVerticalPercentageInViewport(this)>25&&!this.classList.contains("nm-j-intro-show")&&this.classList.add("nm-j-intro-show")}}void 0===window.customElements.get("audi-intro")&&window.customElements.define("audi-intro",n),window.intro=i})();
//# sourceMappingURL=intro.js.map