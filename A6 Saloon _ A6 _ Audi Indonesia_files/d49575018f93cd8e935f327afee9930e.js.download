/*

 Adobe Visitor API for JavaScript version: 5.5.0
 Copyright 2022 Adobe, Inc. All Rights Reserved
 More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
*/
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(Bootstrapper.analyticsHelper.isFeatureAppEvent()){var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]}};var compId=Bootstrapper.data.resolve("Manage.Event.componentIndex");var curComp=helperFunctions.getComp(compId);if(curComp&&
curComp.products){var vehicle=curComp.products.usedVehicle||curComp.products.newVehicle;var warenkob=curComp.products.cart;if(vehicle)return vehicle[0]&&vehicle[0].category&&vehicle[0].category.primaryCategory;if(warenkob)return warenkob&&warenkob.item[0]&&warenkob.item[0].category&&warenkob.item[0].category.primaryCategory}}return""},transform:function(val){return val},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"Global - oneShop - primaryCategory",collection:"Product",
source:"Manage",priv:"false"},{id:"68650"})},68650)},-1,-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return _audiDataLayer.page.attributes.applicationVersion}catch(err){return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"applicationVersion",collection:"Page",source:"Manage",priv:"false"},{id:"53736"})},
53736)},-1,-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var market=window._audiDataLayer.page.pageInfo.market||(window._audiDataLayer.page.pageInfo.language.split("-").length>1?window._audiDataLayer.page.pageInfo.language.split("-")[1]:window._audiDataLayer.page.pageInfo.language.split("_")[1]);market=market.replace("GB","UK");return market.toUpperCase()}catch(err){return""}},
transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"market",collection:"Page",source:"Manage",priv:"false"},{id:"53738"})},53738)},-1,-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return _audiDataLayer.page.attributes.logbookID}catch(err){return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"logbookID",collection:"Page",source:"Manage",priv:"false"},{id:"63745"})},63745)},
-1,-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var result=Bootstrapper.data.resolve("Manage.URL.csref")||"";if(result=="Data definition specified does not exist on the page")return"";return result}catch(e){return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"Global - All - Campaign Tracking Code",
collection:"URL",source:"Manage",priv:"false"},{id:"59992"})},59992)},-1,-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var pageID=Bootstrapper.data.resolve("Manage.Page.pageID");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var displayType=Bootstrapper.data.resolve("Manage.Page.displayType");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var storageEventName=
Bootstrapper.data.resolve("Manage.localStorage.eventName");var value=Bootstrapper.data.resolve("Manage.Event.value");var componentName=Bootstrapper.data.resolve("Manage.Event.componentName");var storageComponentName=Bootstrapper.data.resolve("Manage.localStorage.componentName");var pageType=Bootstrapper.data.resolve("Manage.Page.pageType");var storagePageType=Bootstrapper.data.resolve("Manage.localStorage.pageType");var elementName=Bootstrapper.data.resolve("Manage.Event.elementName");var storageElementName=
Bootstrapper.data.resolve("Manage.localStorage.elementName");if((eventAction==="page_load"||eventAction==="step")&&Bootstrapper.getVariable("configStarted")===true&&(pageID.indexOf("show_audicode")>-1||pageID.indexOf("carstore_save")>-1||pageID.indexOf("new-save-configuration")>-1||pageType==="configurationSummary"&&displayType!=="layer"))return true;if(Bootstrapper.getVariable("configStarted")===true&&eventAction!=="impression"&&eventAction!=="non_interaction"&&eventAction!=="error"&&(eventName.indexOf("click on wallet download")>
-1||storageEventName.indexOf("click on wallet download")>-1||(eventName.indexOf("click on image download")>-1||storageEventName.indexOf("click on image download")>-1)||(eventName.indexOf("click on contact")>-1||storageEventName.indexOf("click on contact")>-1)||(eventName.indexOf("click on testdrive")>-1||storageEventName.indexOf("click on testdrive")>-1)||Bootstrapper.data.resolve("Manage.Page.applicationName")==="nemo"&&value.indexOf("PDF")>-1&&eventName!=="vtp print"||componentName==="basket"&&
pageType==="configurationSummary"&&elementName==="button"||storageComponentName==="basket"&&storagePageType==="configurationSummary"&&storageElementName==="button"))return true;return false}catch(err){Bootstrapper.notify("Error in Data definition 'nemo - config finish events'");return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.afterEnsightenCompleteTrigger,dataDefName:"nemo - config finish",collection:"Adobe",source:"Manage",priv:"false"},{id:"58316"})},
58316)},-1,-1,-1);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if(eventName==="configurator - configuration start"){_audiDataLayer.event[0].eventInfo.eventAction="configuration";var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",
tagIDs+"173,")}else if(eventName==="configurator - configuration change"){_audiDataLayer.event[0].eventInfo.eventAction="configuration";var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"173,")}}catch(e){Bootstrapper.analyticsError.report(e,"173 - Error")}})},3821109,727412,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","form_field","impression","navigation","non_interaction","opt-in","order","page_load","print","search_result_click","search_result_load","step","tooltip","video","view_change","image"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=
window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl","62604"]);Bootstrapper.AF.push(["join","__s","dl","58370"]);Bootstrapper.AF.push(["join","__s","dl","68005"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join",
"__s","pre",[["events",function anon(){try{var events=[];var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction")||"";var eventName=Bootstrapper.data.resolve("Manage.Event.eventName")||"";var componentName=Bootstrapper.data.resolve("Manage.Event.componentName")||"";var eventNameLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.eventName")||"";var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href")||"";var pageID=Bootstrapper.data.resolve("Manage.Page.pageID")||
"";var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName")||"";var cartTotal="";var serializationID="";var vtpConversion=false;var sid=Bootstrapper.data.resolve("Manage.localStorage.sessionID");var v30=Bootstrapper.data.resolve("Manage.Adobe.nemo - eVar30 - Microconversion");if(Bootstrapper.data.resolve("Manage.Adobe.nemo - config finish")===true){serializationID=sid+"ac"+nemo.configurator.api.getCarline();cartTotal=Bootstrapper.analyticsHelper.nemo.getConfiguratorPrices("cartTotal");
var engineBasePrice=Bootstrapper.analyticsHelper.nemo.getConfiguratorPrices("engineBasePrice");var carlineBasePrice=Bootstrapper.analyticsHelper.nemo.getConfiguratorPrices("carlineBasePrice");var addonPrice=cartTotal-engineBasePrice;events.push("event8");events.push("event89:"+serializationID);events.push("event67\x3d"+cartTotal+":"+serializationID);events.push("event71\x3d"+engineBasePrice+":"+serializationID);events.push("event80\x3d"+carlineBasePrice+":"+serializationID);events.push("event72\x3d"+
addonPrice+":"+serializationID)}if(v30!==""&&v30!=="YourAudiPageOpened"){events.push("event98:"+serializationID);events.push("event99")}if(eventName==="acc ave stream ready"){cartTotal=Bootstrapper.analyticsHelper.nemo.getConfiguratorPrices("cartTotal");serializationID=sid+"ac"+nemo.configurator.api.getCarline();if(cartTotal!=="")events.push("event68\x3d"+cartTotal+":"+serializationID)}if(v30!=="")events.push("event9");switch(true){case eventName==="vtp print":events.push("event40");vtpConversion=
true;break;case eventName==="vtp audi code":events.push("event83");vtpConversion=true;break;case eventName==="vtp add to favorites"||eventName==="vtp results - add to favorites":events.push("event58");vtpConversion=true;break;case eventName==="vtp remove from favorites"||eventName==="vtp results - remove from favorites":events.push("event59");break;case eventName==="vtp call dealer"||eventName==="vtp results - call dealer":events.push("event54");if(applicationName==="vtp 3.0-used-cus")events.push("event851");
if(applicationName==="vtp 3.0-new-cus")events.push("event853");vtpConversion=true;break;case eventName==="vtp add to compare"||eventName==="vtp results - add to compare":events.push("event61");vtpConversion=true;break;case eventName==="vtp remove from compare"||eventName==="vtp results - remove from compare":events.push("event62");break;case eventName==="car compare - add to comparison":events.push("event61");break;case eventName==="car compare - add to comparison bar":events.push("event61");break;
case eventName==="car compare - remove from comparison bar":events.push("event62");break;case eventName==="car compare - remove from comparison":events.push("event62");break;case eventName==="vtp click on live consulting":vtpConversion=true;break}if(eventNameLocalStorage==="vtp change rate")events.push("event14");else if(eventNameLocalStorage==="vtp contact - layer open"||eventName==="vtp contact"||eventName==="vtp results - click on contact")vtpConversion=true;if(eventName==="vtp details"&&(eventAction===
"page_load"||eventAction==="step")){events.push("event402");if(applicationName==="vtp 3.0-used-cus")events.push("event850");if(applicationName==="vtp 3.0-new-cus")events.push("event852")}if(targetURL.indexOf("maps.google.com")>-1&&applicationName.indexOf("vtp 3.0")>-1){events.push("event53");vtpConversion=true}function clearPrice(price){if(typeof price=="number")return price;if(typeof price=="string")return price.replace(/,/g,".").replace(/\s/g,"").replace(/[a-zA-z]/g,"").replace(/;/g,"").replace(/\|/g,
"");return""}var vtpProduct=Bootstrapper.analyticsHelper.nemo.getVtpProductContext();var market=Bootstrapper.data.resolve("Manage.Page.market");if(Bootstrapper.data.resolve("Manage.Event.initialStart")===true)events.push("event131");if(eventNameLocalStorage==="vtp click on vehicle lite reservation"||eventName==="vtp click on vehicle lite reservation"||eventNameLocalStorage==="vtp click on vehicle reservation"||eventName==="vtp click on vehicle reservation"||eventNameLocalStorage==="vtp click on oneaudi shop"||
eventName==="vtp click on oneaudi shop"||eventNameLocalStorage==="vtp results - click on oneaudi shop"||eventName==="vtp results - click on oneaudi shop")vtpConversion=true;if(eventNameLocalStorage==="vtp change rate - layer open")vtpConversion=true;if(vtpConversion&&vtpProduct&&vtpProduct[0]&&vtpProduct[0][0]){var productId=vtpProduct[0][0].productInfo.productId;events.push("event85:"+sid+Bootstrapper.analyticsHelper.hashCode(productId,8));events.push("event86")}if(_audiDataLayer.event[0]&&_audiDataLayer.event[0].attributes&&
_audiDataLayer.event[0].attributes.relatedProducts){var products=_audiDataLayer.event[0].attributes.relatedProducts;if(products.addedItems&&products.addedItems.carParts&&products.addedItems.package&&(products.addedItems.carParts.length>0||products.addedItems.package.length>0))events.push("event69");if(products.removedItems&&products.removedItems.carParts&&products.removedItems.package&&(products.removedItems.carParts.length>0||products.removedItems.package.length>0))events.push("event70")}return events.join(",")}catch(e){Bootstrapper.notify("Events 120: "+
e);return""}}],["eVar27",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"62604")}],["eVar100",function anon(){var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";return tagIDs+"120"}],["doPlugins",function anon(){Bootstrapper.notify("doPlugins");var rsid="audiag.global.dev";var hostName=Bootstrapper.data.resolve("Manage.URL.hostname");try{if((Bootstrapper.ensightenOptions.nexus==="nexus.ensighten.com"||Bootstrapper.ensightenOptions.nexus==="tms.audi.com")&&digitalData.page.pageInfo.sysEnv===
"production"){rsid="audiag.global.prod";if(hostName==="www.audi.pl")rsid="audiag.audi.pl.prod";if(hostName==="www.audi.com.my")rsid="audiag.audi.my.prod"}if(Bootstrapper.ensightenOptions.nexus==="nexus-test.ensighten.com"&&digitalData.page.pageInfo.sysEnv!=="production"&&hostName.indexOf("audi.pl")>-1)rsid="audiag.audi.poland.dev";__s.account=rsid;return""}catch(e){__s.account="audiag.global.dev";return""}}],["eVar16",function anon(){try{var template=_audiDataLayer.page.category.pageType;var currentEvent=
_audiDataLayer.event[0];if(currentEvent.attributes&&currentEvent.attributes.componentName=="car compare"||currentEvent.eventInfo&&currentEvent.eventInfo.eventName.indexOf("car compare")>-1)return"";if(template==="configurableHome"||template==="configurableModel"||template==="configurationSummary"){var splittedPath=Bootstrapper.data.resolve("Manage.URL.URL path").split("/")[5]||"";var line=splittedPath.toUpperCase();var modelShortCode=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Shortcode");
if(modelShortCode!=="")return"line|"+line+";model|"+modelShortCode;return"line|"+line+";model|"}var vtpProduct=Bootstrapper.analyticsHelper.nemo.getVtpProductContext();if(Array.isArray(vtpProduct))if(vtpProduct[0].length===1)return"line|"+vtpProduct[0][0].attributes.symbolicCarlineGroup.code.toUpperCase()+";model|"+vtpProduct[0][0].attributes.symbolicCarline.code;return""}catch(e){return""}}],["products",function anon(){try{function clearFuncCh(string){if(typeof string==="string")return string.replace(/,/g,
".").replace(/;/g,".").replace(/\|/g," ").replace(/\s\s+/g," ").replace(/^ /,"").replace(/ $/,"");else return string}function clearPrice(price){if(typeof price=="number")return price;if(typeof price=="string")return price.replace(/,/g,".").replace(/\s/g,"").replace(/[a-zA-z]/g,"").replace(/;/g,"").replace(/\|/g,"");return""}function executeProductTracking(products,platform,context){if(products==="")return"";var prodString=[];if(products){if(platform=="nemo")prodString.push(constructNeMoCarString());
if(platform=="car compare"){var productsData=products.data;products=products.comparedVehicle;if(context instanceof Object&&context.eventInfo&&(context.eventInfo.eventName=="car compare - add to comparison bar"||context.eventInfo.eventName=="car compare - remove from comparison bar"||context.eventInfo.eventName=="car compare - remove from comparison"))if(context.attributes&&context.attributes.relatedProduct&&context.attributes.relatedProduct.comparedVehicle&&context.attributes.relatedProduct.comparedVehicle[0]){var index=
context.attributes.relatedProduct.comparedVehicle[0].attributes?context.attributes.relatedProduct.comparedVehicle[0].attributes.index:"";index=typeof index=="string"?index=parseInt(index,10):index;if(typeof index=="number"){var tempProduct=products[index];products=[];products.push(tempProduct)}else return""}}if(Array.isArray(products)){for(var i=0;i<products.length;i++){var item="";if(platform=="car compare")item=constructCarCompareProductString(products[i],productsData);else item=constructVTPproductString(products[i],
context);if(item)prodString.push(item);else Bootstrapper.notify("product id not available")}return prodString.join(",")}else if(platform=="nemo"){var currentItems=products.currentItems;var addedCarParts=products.addedItems&&products.addedItems.carParts||[];var addedPackages=products.addedItems&&products.addedItems.package&&products.addedItems.package[0]||[];var addedCarPartsInPackages=products.addedItems&&products.addedItems.package&&products.addedItems.package[0]&&products.addedItems.package[0][0]&&
products.addedItems.package[0][0].carParts||[];var removedCarParts=products.removedItems&&products.removedItems.carParts||[];var removedPackages=products.removedItems&&products.removedItems.package&&products.removedItems.package[0]||[];var removedCarPartsInPackages=products.removedItems&&products.removedItems.package&&products.removedItems.package[0]&&products.removedItems.package[0][0]&&products.removedItems.package[0][0].carParts||[];if(context==="nemo_config_change")currentItems=[];var productList=
[[currentItems,"currentItems"],[addedCarParts,"addedCarParts"],[addedPackages,"addedPackages"],[addedCarPartsInPackages,"addedCarPartsInPackages"],[removedCarParts,"removedCarParts"],[removedPackages,"removedPackages"],[removedCarPartsInPackages,"removedCarPartsInPackages"]];for(var i=0;i<productList.length;i++)for(var j=0;j<productList[i][0].length;j++)prodString.push(constructNeMoProductString(productList[i][0][j],productList[i][1]));return prodString.join(",")}}else return""}function constructVTPproductString(product,
context){if(!product.attributes||!product.attributes.symbolicCarline||!product.attributes.symbolicCarline.code)return"";var prodType=product.category.productType||"",events=[],evars=[],evarVal=[];var market=Bootstrapper.data.resolve("Manage.Page.market");evarVal=[];var prodName=product.attributes.symbolicCarline.description||"",prodId=product.attributes.modelCode?product.attributes.modelCode.code||"":"",mbvCode=product.attributes.mbvHandbook?product.attributes.mbvHandbook.code||"":"";if(prodName)evarVal.push("pn:"+
clearFuncCh(prodName).replace("Audi ",""));if(prodId)evarVal.push("id:"+clearFuncCh(prodId));if(mbvCode)evarVal.push("mbv:"+clearFuncCh(mbvCode));evars.push("eVar90\x3d"+evarVal.join("~"));evarVal=[];var prodCat=product.category.primaryCategory||"",prodSubCat1=product.category.subCategory1||"";if(prodCat)evarVal.push("pc:"+clearFuncCh(prodCat).toUpperCase());if(prodSubCat1)evarVal.push("sc1:"+clearFuncCh(prodSubCat1));evars.push("eVar91\x3d"+evarVal.join("~"));evarVal=[];var carline=product.attributes.symbolicCarlineGroup?
product.attributes.symbolicCarlineGroup.code||"":"",model=product.attributes.symbolicCarline.description||"",modYear=product.attributes.modelYear||"",bodyType=product.attributes.bodyType?product.attributes.bodyType.code||"":"";if(carline)evarVal.push("ml:"+clearFuncCh(carline).toUpperCase());if(model)evarVal.push("mod:"+clearFuncCh(model).replace("Audi ",""));if(modYear)evarVal.push("my:"+clearFuncCh(modYear));if(bodyType&&typeof bodyType=="string"){bodyType=bodyType.replace("body-type.","");bodyType=
bodyType.charAt(0).toUpperCase()+bodyType.slice(1);evarVal.push("bt:"+clearFuncCh(bodyType))}evars.push("eVar92\x3d"+evarVal.join("~"));evarVal=[];var engine=product.attributes.modelCode?product.attributes.modelCode.description||"":"",fuelType=product.attributes.io?product.attributes.io.fuels||"":"",gearType=product.attributes.gearType?product.attributes.gearType.code||"":"",gearBox=product.attributes.gearBox?product.attributes.gearBox.code||"":"",driveType=product.attributes.driveType?product.attributes.driveType.code||
"":"",power=product.attributes.powerDisplay||"",consumption=product.attributes.consumptionDisplay||"",emissionClass=product.attributes.emissionClass?product.attributes.emissionClass.code||"":"",efficiencyClass=product.attributes.efficiencyClass||"",emission=product.attributes.emissionDisplay||"",pollutionBadge=product.attributes.pollutionBadge?product.attributes.pollutionBadge.code||"":"";if(engine)evarVal.push("en:"+clearFuncCh(engine));if(fuelType&&Array.isArray(fuelType)){var fuels=[];fuelType.forEach(function(el){if(el.fuel)fuels.push(el.fuel)});
evarVal.push("ft:"+clearFuncCh(fuels.sort().join("_")))}if(gearType&&typeof gearType=="string"){gearType=gearType.replace("gear-type.","");gearType=gearType.charAt(0).toUpperCase()+gearType.slice(1);evarVal.push("gt:"+clearFuncCh(gearType))}if(gearBox&&typeof gearBox=="string"){gearBox=gearBox.replace("gear.","");gearBox=gearBox.charAt(0).toUpperCase()+gearBox.slice(1);evarVal.push("gb:"+clearFuncCh(gearBox))}if(driveType&&typeof driveType=="string"){driveType=driveType.replace("drive.","");driveType=
driveType.charAt(0).toUpperCase()+driveType.slice(1);evarVal.push("dt:"+clearFuncCh(driveType))}if(power)evarVal.push("po:"+clearFuncCh(power));if(consumption)evarVal.push("co:"+clearFuncCh(consumption));if(emissionClass)evarVal.push("emc:"+clearFuncCh(emissionClass).replace("emissionclass.",""));if(efficiencyClass)evarVal.push("ef:"+clearFuncCh(efficiencyClass));if(emission)evarVal.push("emd:"+clearFuncCh(emission));if(pollutionBadge)evarVal.push("pb:"+clearFuncCh(pollutionBadge).replace("pollution-badge-type.",
""));evars.push("eVar93\x3d"+evarVal.join("~"));if(product.attributes.dealer){evarVal=[];var dealerId=product.attributes.dealer.trackingId||"",dealerName=product.attributes.dealer.name||"",dealerLocation=product.attributes.dealer.city||"";if(dealerId)evarVal.push("did:"+clearFuncCh(dealerId));if(dealerName)evarVal.push("dna:"+clearFuncCh(dealerName));if(dealerLocation)evarVal.push("dlo:"+clearFuncCh(dealerLocation));evars.push("eVar94\x3d"+evarVal.join("~"))}evarVal=[];var buyableOnline=typeof product.attributes.buyableOnline==
"boolean"?product.attributes.buyableOnline.toString():"",vatReclaimable=typeof product.attributes.vatReclaimable=="boolean"?product.attributes.vatReclaimable.toString():"",registrationDate=product.attributes.used?product.attributes.used.initialRegistration||"":"",commissionNumber=product.attributes.commissionNumber||"",nationWideSelling=typeof product.attributes.nationWideSelling=="boolean"?product.attributes.nationWideSelling.toString():"",mbvMarket=product.attributes.mbvMarket||"",vid=product.attributes.id||
"",liveConsulting=typeof product.attributes.liveConsulting!=="undefined"?product.attributes.liveConsulting.toString():"";if(buyableOnline)evarVal.push("buo:"+clearFuncCh(buyableOnline));if(vatReclaimable)evarVal.push("vat:"+clearFuncCh(vatReclaimable));if(prodType)evarVal.push("nou:"+clearFuncCh(prodType));if(registrationDate)evarVal.push("red:"+clearFuncCh(registrationDate));if(commissionNumber)evarVal.push("con:"+clearFuncCh(commissionNumber));if(nationWideSelling)evarVal.push("nws:"+clearFuncCh(nationWideSelling));
if(mbvMarket)evarVal.push("mbm:"+clearFuncCh(mbvMarket));if(vid)evarVal.push("vid:"+clearFuncCh(vid));if(liveConsulting)evarVal.push("lco:"+clearFuncCh(liveConsulting));evars.push("eVar98\x3d"+evarVal.join("~"));evarVal=[];if(product.attributes.extColor){var eColorId=product.attributes.extColor.code||"",eColorName=product.attributes.extColor.description||"";if(eColorId)evarVal.push("eci:"+clearFuncCh(eColorId));if(eColorName)evarVal.push("ecn:"+clearFuncCh(eColorName))}if(product.attributes.topColor){var tColorId=
product.attributes.topColor.code||"",tColorName=product.attributes.topColor.description||"";if(tColorId)evarVal.push("tci:"+clearFuncCh(tColorId));if(tColorName)evarVal.push("tcn:"+clearFuncCh(tColorName))}if(product.attributes.upholsteryType){var upholsteryId=product.attributes.upholsteryType.code||"",upholsteryName=product.attributes.upholsteryType.description||"";if(upholsteryId)evarVal.push("uti:"+clearFuncCh(upholsteryId));if(upholsteryName)evarVal.push("utn:"+clearFuncCh(upholsteryName))}if(product.attributes.upholsteryColor){var upholsteryColorId=
product.attributes.upholsteryColor.code||"",upholsteryColorName=product.attributes.upholsteryColor.description||"";if(upholsteryColorId)evarVal.push("uci:"+clearFuncCh(upholsteryColorId));if(upholsteryColorName)evarVal.push("ucn:"+clearFuncCh(upholsteryColorName))}if(product.attributes.used){var mileage=product.attributes.used.mileage||"",mileageUnit=product.attributes.used.mileageUnit||"";if(mileage)evarVal.push("mil:"+clearFuncCh(mileage));if(mileageUnit)evarVal.push("miu:"+clearFuncCh(mileageUnit))}evars.push("eVar99\x3d"+
evarVal.join("~"));evarVal=[];var threeSixtyDegrees=typeof product.attributes.threeSixtyDegrees=="boolean"?product.attributes.threeSixtyDegrees.toString():"";if(threeSixtyDegrees)evarVal.push("tsd:"+clearFuncCh(threeSixtyDegrees));if(product.attributes.used){var numPrevOwners=typeof product.attributes.used.numPreviousOwners=="number"?product.attributes.used.numPreviousOwners.toString():"";if(numPrevOwners)evarVal.push("npo:"+clearFuncCh(numPrevOwners))}var provider=product.attributes.provider||"";
if(provider)evarVal.push("pro:"+clearFuncCh(provider));var preuse=product.attributes.preuse||"";if(preuse)evarVal.push("typ:"+clearFuncCh(preuse));var preused=product.attributes.preused||"";if(preused)evarVal.push("sub:"+clearFuncCh(preused));var hasCampaigns=typeof product.attributes.hasCampaigns=="boolean"?product.attributes.hasCampaigns.toString():"";if(hasCampaigns)evarVal.push("hc:"+clearFuncCh(hasCampaigns));var campaigns=product.attributes.campaigns||"";if(campaigns.length>0){var campaignId=
"",filterText="";campaigns.forEach(function(campaign){if(campaign.campaignId)campaignId=campaignId+(campaign.campaignId+"/");if(campaign.filterText)filterText=filterText+(campaign.filterText+"/")});campaignId=campaignId.slice(0,-1);filterText=filterText.slice(0,-1);evarVal.push("cid:"+clearFuncCh(campaignId));evarVal.push("cft:"+clearFuncCh(filterText))}evars.push("eVar111\x3d"+evarVal.join("~"));evarVal=[];var availableFromDate=product.attributes.availableFromDate||"";if(availableFromDate&&availableFromDate>
0){var date=new Date(availableFromDate),formattedDate=[date.getUTCFullYear(),date.getUTCMonth()+1,date.getUTCDate()].join("-");evarVal.push("afr:"+formattedDate)}var offerType=product.attributes.offerType||"";if(offerType)evarVal.push("oft:"+clearFuncCh(offerType));var warrantyPlus=typeof product.attributes.warrantyPlus=="boolean"?product.attributes.warrantyPlus.toString():"";if(warrantyPlus)evarVal.push("wps:"+clearFuncCh(warrantyPlus));if(product.attributes.used&&product.attributes.used.warrantyTypes){var warrantyCodes=
"";product.attributes.used.warrantyTypes.forEach(function(warranty){warrantyCodes=warrantyCodes+warranty.code+"/"});evarVal.push("war:"+clearFuncCh(warrantyCodes.slice(0,-1)))}evars.push("eVar112\x3d"+evarVal.join("~"));events=[];return clearFuncCh(prodType)+";"+clearFuncCh(product.attributes.symbolicCarline.code)+";;;"+events.join("|")+";"+evars.join("|")}function getv93(){var evarVal=[];var engineName=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Engine Name");if(engineName)evarVal.push("en:"+
engineName);var fuel=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Fuel Type");if(fuel)evarVal.push("ft:"+fuel);var gearbox=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Gearbox");if(gearbox)evarVal.push("gb:"+gearbox);var trimLine=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Trimline");if(trimLine)evarVal.push("tl:"+trimLine);return"eVar93\x3d"+evarVal.join("~")}function constructNeMoCarString(){var shortcode=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Shortcode");
if(!shortcode)return"";var prodType="configured car",events=[],evars=[];var prodName=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Name");evars.push("eVar90\x3dpn:"+clearFuncCh(prodName));var prodCat=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Line"),prodSubCat1=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Shortcode"),eVar91="eVar91\x3dpc:"+clearFuncCh(prodCat)+"~sc1:"+clearFuncCh(prodSubCat1);evars.push(eVar91);var modelYear=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Year"),
eVar92="eVar92\x3dml:"+clearFuncCh(prodCat)+"~mod:"+clearFuncCh(prodName)+"~my:"+modelYear;evars.push(eVar92);var eVar93=getv93();evars.push(eVar93);var resultItem=clearFuncCh(prodType)+";"+clearFuncCh(shortcode)+";;;"+events.join("|")+";"+evars.join("|");return resultItem}function constructNeMoProductString(product,context){if(!product.productInfo.productID)return"";var prodType="car part",events=[],evars=[];var prodName=product.productInfo.productName||"",prodId=product.productInfo.productID||"";
if(prodName||prodId)evars.push("eVar90\x3dpn:"+clearFuncCh(prodName)+"~id:"+clearFuncCh(prodId));var prodCat=product.category.productType||"",prodSubCat1=product.category.primaryCategory||"",prodSubCat2=product.category.subCategory1||"";if(prodCat||prodSubCat1)var eVar91="eVar91\x3dpc:"+clearFuncCh(prodCat)+"~sc1:"+clearFuncCh(prodSubCat1);if(eVar91&&prodSubCat2)eVar91+="~sc2:"+clearFuncCh(prodSubCat2);evars.push(eVar91);if(prodCat=="engine"){var eVar93=getv93();evars.push(eVar93)}if(context==="addedCarParts"||
context==="addedPackages"||context==="addedCarPartsInPackages")events.push("event69\x3d1");else if(context==="removedCarParts"||context==="removedPackages"||context==="removedCarPartsInPackages")events.push("event70\x3d1");var mbvId=product.productInfo.productMbvId||product.attributes.productMbvId||product.productInfo.productID;var resultItem=clearFuncCh(prodType)+";"+mbvId+";;;"+events.join("|")+";"+evars.join("|");return resultItem}function correctPriceFormat(price){if(typeof price=="string"){price=
price.replace(",00","").replace(/\./g,"").replace(",",".");return clearPrice(price)}else if(typeof price=="number")return price;else return""}function constructCarCompareProductString(product,productsData){var prodType=product.category?product.category.productType||"":"",prodID=product.productInfo?product.productInfo.productID||"not available":"not available",prodIndex=product.attributes?product.attributes.index:"";events=[],evars=[],evarVal=[];prodIndex=typeof prodIndex=="string"?parseInt(prodIndex,
10):prodIndex;evarVal=[];var prodName=product.productInfo?product.productInfo.productName||"":"";if(prodName)evarVal.push("pn:"+clearFuncCh(prodName).replace("Audi ",""));evars.push("eVar90\x3d"+evarVal.join("~"));if(product.category){evarVal=[];var prodCat=product.category.primaryCategory?product.category.primaryCategory.toUpperCase():"",prodSubCat1=product.category.subCategory1||"";if(prodCat)evarVal.push("pc:"+clearFuncCh(prodCat));if(prodSubCat1)evarVal.push("sc1:"+clearFuncCh(prodSubCat1));evars.push("eVar91\x3d"+
evarVal.join("~"))}evarVal=[];var carline=product.category&&product.category.primaryCategory?product.category.primaryCategory.toUpperCase():"";if(carline)evarVal.push("ml:"+clearFuncCh(carline));evars.push("eVar92\x3d"+evarVal.join("~"));if(!isNaN(prodIndex)){evarVal=[];var fuelType=productsData.techData&&productsData.techData[4]&&productsData.techData[4].children&&productsData.techData[4].children[0]&&productsData.techData[4].children[0].compare&&productsData.techData[4].children[0].compare[0][prodIndex]?
productsData.techData[4].children[0].compare[0][prodIndex].value||"":"",driveType=productsData.model&&productsData.model[prodIndex]?productsData.model[prodIndex].driveType||"":"",power=productsData.model&&productsData.model[prodIndex]?productsData.model[prodIndex].maxLeistung||"":"";if(productsData.consumptionEmissions&&productsData.consumptionEmissions[0]&&productsData.consumptionEmissions[0].children){if(productsData.consumptionEmissions[0].children[2]&&productsData.consumptionEmissions[0].children[2].compare&&
productsData.consumptionEmissions[0].children[2].compare[0]&&productsData.consumptionEmissions[0].children[2].compare[0][prodIndex])var consumptionValue=productsData.consumptionEmissions[0].children[2].compare[0][prodIndex].value||"",consumptionUnits=consumptionValue?productsData.consumptionEmissions[0].children[2].compare[0][prodIndex].unit||"":"",consumption=consumptionUnits?consumptionValue+" "+consumptionUnits:consumptionValue;if(productsData.consumptionEmissions[0].children[4]&&productsData.consumptionEmissions[0].children[4].compare&&
productsData.consumptionEmissions[0].children[4].compare[0]&&productsData.consumptionEmissions[0].children[2].compare[0][prodIndex])var emissionValue=productsData.consumptionEmissions[0].children[4].compare[0][prodIndex].value||"",emissionUnits=emissionValue?productsData.consumptionEmissions[0].children[4].compare[0][prodIndex].unit||"":"",emission=emissionUnits?emissionValue+" "+emissionUnits:emissionValue;var efficiencyClass=productsData.consumptionEmissions[0].children[6]&&productsData.consumptionEmissions[0].children[6].compare&&
productsData.consumptionEmissions[0].children[6].compare[0]&&productsData.consumptionEmissions[0].children[6].compare[0][prodIndex]?productsData.consumptionEmissions[0].children[6].compare[0][prodIndex].value||"":"",emissionClass=productsData.consumptionEmissions[0].children[5]&&productsData.consumptionEmissions[0].children[5].compare&&productsData.consumptionEmissions[0].children[5].compare[0]&&productsData.consumptionEmissions[0].children[5].compare[0][prodIndex]?productsData.consumptionEmissions[0].children[5].compare[0][prodIndex].value||
"":""}if(fuelType)evarVal.push("ft:"+clearFuncCh(fuelType));if(driveType)evarVal.push("dt:"+clearFuncCh(driveType));if(power)evarVal.push("po:"+clearFuncCh(power));if(consumption)evarVal.push("co:"+clearFuncCh(consumption));if(emission)evarVal.push("emd:"+clearFuncCh(emission));if(efficiencyClass)evarVal.push("ef:"+clearFuncCh(efficiencyClass));if(emissionClass)evarVal.push("emc:"+clearFuncCh(emissionClass));evars.push("eVar93\x3d"+evarVal.join("~"))}if(!isNaN(prodIndex)&&productsData&&productsData.price&&
productsData.price[prodIndex]){evarVal=[];var price=productsData.price[prodIndex].total?productsData.price[prodIndex].total.value||"":"";if(price)evarVal.push("pp:"+correctPriceFormat(price));var basePrice=productsData.price[prodIndex].base?productsData.price[prodIndex].base.value||"":"";if(basePrice)evarVal.push("mbp:"+correctPriceFormat(basePrice));var optionsPrice=productsData.price[prodIndex].equipped?productsData.price[prodIndex].equipped.value||"":"";if(optionsPrice)evarVal.push("otp:"+correctPriceFormat(optionsPrice));
evars.push("eVar95\x3d"+evarVal.join("~"))}evarVal=[];if(product.attributes){var productAddSource=product.attributes.comparisonType||"",isInitial=product.attributes?product.attributes.initialVehicle:"";if(typeof isInitial=="boolean")isInitial=isInitial.toString();if(productAddSource)evarVal.push("pas:"+clearFuncCh(productAddSource));if(isInitial)evarVal.push("inp:"+clearFuncCh(isInitial));evars.push("eVar98\x3d"+evarVal.join("~"))}evarVal=[];if(!isNaN(prodIndex)&&productsData.exterior&&productsData.exterior[0]&&
productsData.exterior[0].children&&productsData.exterior[0].children[0]&&productsData.exterior[0].children[0].compare[0]&&productsData.exterior[0].children[0].compare[0][prodIndex]){var eColorId=productsData.exterior[0].children[0].compare[0][prodIndex].id||"",eColorName=productsData.exterior[0].children[0].compare[0][prodIndex].value||"";if(eColorId)evarVal.push("eci:"+clearFuncCh(eColorId));if(eColorName)evarVal.push("ecn:"+clearFuncCh(eColorName));evars.push("eVar99\x3d"+evarVal.join("~"))}events=
[];if(price){events.push("event330\x3d"+clearPrice(price));events.push("event331\x3d"+clearPrice(price))}if(basePrice){events.push("event334\x3d"+clearPrice(basePrice));events.push("event335\x3d"+clearPrice(basePrice))}if(optionsPrice){events.push("event336\x3d"+clearPrice(optionsPrice));events.push("event337\x3d"+clearPrice(optionsPrice))}return clearFuncCh(prodType)+";"+clearFuncCh(prodID)+";;;"+events.join("|")+";"+evars.join("|")}var vtpProduct=Bootstrapper.analyticsHelper.nemo.getVtpProductContext();
var NeMoProduct=Bootstrapper.analyticsHelper.nemo.getNeMoProductContext();var carCompareProduct=Bootstrapper.analyticsHelper.nemo.getCarCompareProductContext();if(Array.isArray(vtpProduct))return executeProductTracking(vtpProduct[0],vtpProduct[1],vtpProduct[2]);else if(Array.isArray(NeMoProduct))return executeProductTracking(NeMoProduct[0],NeMoProduct[1],NeMoProduct[2]);else if(Array.isArray(carCompareProduct))return executeProductTracking(carCompareProduct[0],carCompareProduct[1],carCompareProduct[2]);
return""}catch(e){Bootstrapper.notify("product Tag 120 tracking error: "+e);return""}}],["eVar93",function anon(){try{var configFinish=Bootstrapper.data.resolve("Manage.Adobe.nemo - config finish")||false;if(configFinish){var evarVal=[];var engineName=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Engine Name");if(engineName)evarVal.push("en:"+engineName);var fuel=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Fuel Type");if(fuel)evarVal.push("ft:"+fuel);var trimLine=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Trimline");
if(trimLine)evarVal.push("tl:"+trimLine);return evarVal.join("~")}return""}catch(e){Bootstrapper.notify("120 - config finish v93 error: "+e);return""}}],["eVar30",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"58370")}],["prop16","D\x3dv16"],["list3",function anon(){try{var itemsIDs=[],products=[],id="",productList=[],productPrice="",market=Bootstrapper.data.resolve("Manage.Page.market");var vtpProduct=Bootstrapper.analyticsHelper.nemo.getVtpProductContext();if(Array.isArray(vtpProduct))if(vtpProduct[0]&&
vtpProduct[0][0]&&vtpProduct[0].length>1){products=vtpProduct[0];for(var i=0;i<products.length;i++){var productID=products[i].attributes&&products[i].attributes.symbolicCarline?products[i].attributes.symbolicCarline.code||"":"",carline=products[i].attributes&&products[i].attributes.symbolicCarlineGroup?products[i].attributes.symbolicCarlineGroup.code||"":"";productName=products[i].attributes&&products[i].attributes.model?products[i].attributes.model.description||"":"";var productItem="pr*";if(productID)productItem+=
"~pi:"+productID;if(carline&&typeof carline=="string")productItem+="~cl:"+carline.toUpperCase();if(productPrice)productItem+="~pp:"+productPrice;if(productName)productItem+="~pn:"+productName;productItem=productItem.replace("~","");if(productItem!="pr*")productList.push(productItem)}return productList.join(";")}var NeMoProduct=Bootstrapper.analyticsHelper.nemo.getNeMoProductContext();if(Array.isArray(NeMoProduct)&&NeMoProduct[2]!=="nemo_config_change")if(NeMoProduct[0]&&NeMoProduct[0].currentItems&&
NeMoProduct[0].currentItems.length>1){products=NeMoProduct[0].currentItems;for(var i=0;i<products.length;i++){var productID=products[i].productInfo?products[i].productInfo.productMbvId||"":"";productPrice=products[i].price?products[i].price.price||"":"";var productName=products[i].productInfo?products[i].productInfo.productName||"":"";var productItem="pr*";if(productID)productItem+="~pi:"+productID;if(productPrice)productItem+="~pp:"+productPrice;if(productName)productItem+="~pn:"+productName;productItem=
productItem.replace("~","");if(productItem!="pr*")productList.push(productItem)}return productList.join(";")}var carCompareProduct=Bootstrapper.analyticsHelper.nemo.getCarCompareProductContext();if(Array.isArray(carCompareProduct)&&carCompareProduct[0]&&Array.isArray(carCompareProduct[0].comparedVehicle)){var eventName=carCompareProduct[2]&&carCompareProduct[2].eventInfo?carCompareProduct[2].eventInfo.eventName||"":"";if(eventName=="car compare - comparison screen"||eventName=="car compare - change tab"||
eventName=="car compare - differences on"){var comparedProducts=carCompareProduct[0].comparedVehicle;for(var i=0;i<comparedProducts.length;i++)if(comparedProducts[i]){var productID=comparedProducts[i].productInfo?comparedProducts[i].productInfo.productID||"":"",carline=comparedProducts[i].category?comparedProducts[i].category.primaryCategory||"":"";productPrice=carCompareProduct[0].data&&carCompareProduct[0].data.price&&carCompareProduct[0].data.price[i]?carCompareProduct[0].data.price[i].total.value||
"":"";var productName=comparedProducts[i].productInfo?comparedProducts[i].productInfo.productName||"":"";var productItem="pr*";if(productID)productItem+="~pi:"+productID;if(carline)productItem+="~cl:"+carline.toUpperCase();if(productPrice)productItem+="~pp:"+productPrice;if(productName)productItem+="~pn:"+productName;productItem=productItem.replace("~","");if(productItem!="pr*")productList.push(productItem)}return productList.join(";")}}return""}catch(e){Bootstrapper.notify("vlist3 error: "+e);return""}}],
["currencyCode",function anon(){try{var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName"),carCompareProduct=Bootstrapper.analyticsHelper.nemo.getCarCompareProductContext();if(applicationName.indexOf("vtp 3.0")>-1&&_audiDataLayer&&_audiDataLayer.product&&_audiDataLayer.product[0]&&digitalData.product[0].attributes.typedPrices)return digitalData.product[0].attributes.typedPrices[0].currencyCode;else if(Array.isArray(carCompareProduct)){var productData=carCompareProduct[0]?carCompareProduct[0].data:
"";if(productData&&productData.price&&productData.price[0]&&productData.price[0].base&&productData.price[0].base.unit)return productData.price[0].base.unit}if(applicationName==="nemo"&&Bootstrapper.data.resolve("Manage.Page.market")==="SE")return"SEK";return""}catch(e){Bootstrapper.notify("curencyCode error: "+e);return""}}],["eVar96",function anon(){function clearPrice(price){if(typeof price=="number")return price;if(typeof price=="string")return price.replace(/,/g,".").replace(/\s/g,"").replace(/[a-zA-z]/g,
"").replace(/;/g,"").replace(/\|/g,"");return""}try{var vtpProduct=Bootstrapper.analyticsHelper.nemo.getVtpProductContext(),carCompareProduct=Bootstrapper.analyticsHelper.nemo.getCarCompareProductContext(),market=Bootstrapper.data.resolve("Manage.Page.market");if(Array.isArray(carCompareProduct)){var productData=carCompareProduct[0]?carCompareProduct[0].data:"";if(productData&&productData.price&&productData.price[0]&&productData.price[0].base&&productData.price[0].base.unit)return"cur:"+productData.price[0].base.unit}return""}catch(e){Bootstrapper.notify("v96 error: "+
e);return""}}],["eVar70",function anon(){try{if(Bootstrapper.data.resolve("Manage.Page.applicationName")==="nemo")return nemo.configurator.api.getConfigurationStartType()}catch(e){return"not available"}}],["eVar59",function anon(){try{var carCompareProduct=Bootstrapper.analyticsHelper.nemo.getCarCompareProductContext();if(Array.isArray(carCompareProduct)&&carCompareProduct[0]&&Array.isArray(carCompareProduct[0].comparedVehicle)){var eventName=carCompareProduct[2]&&carCompareProduct[2].eventInfo?carCompareProduct[2].eventInfo.eventName||
"":"";if(eventName=="car compare - comparison screen"||eventName=="car compare - change tab"||eventName=="car compare - differences on"){var comparedProducts=carCompareProduct[0].comparedVehicle;if(comparedProducts.length){var comparisonDetails="nu:"+comparedProducts.length,carline=[],productName=[];for(var i=0;i<comparedProducts.length;i++){if(comparedProducts[i].category&&comparedProducts[i].category.primaryCategory)carline.push(comparedProducts[i].category.primaryCategory.toUpperCase());else carline.push("n/a");
if(comparedProducts[i].productInfo&&comparedProducts[i].productInfo.productName)productName.push(comparedProducts[i].productInfo.productName);else productName.push("n/a")}comparisonDetails+="~cl:"+carline.join(";")+"~pn:"+productName.join(";");return comparisonDetails}}}return""}catch(e){Bootstrapper.notify("NeMo eVar59 error: "+e);return""}}],["eVar24",function anon(){var search="";if(Bootstrapper.data.resolve("Manage.Page.applicationName").indexOf("vtp 3.0")>-1){var name=Bootstrapper.data.resolve("Manage.Search.name")||
"search type unknown";var term="search term unknown";var results=Bootstrapper.data.resolve("Manage.Search.results")||"no search results found";search=name+";"+term+";"+results}return search}],["eVar193",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"68005")}],["list2",function(){try{var eventName=Bootstrapper.data.resolve("Manage.localStorage.eventName");var eventAction=Bootstrapper.data.resolve("Manage.localStorage.eventAction");var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName");
var filterarray=Bootstrapper.data.resolve("Manage.Search.filter array");var relatedFilter=Bootstrapper.data.resolve("Manage.localStorage.relatedFilter");var contentTags=Bootstrapper.data.resolve("Manage.Page.articleContentTags");if(eventAction==="page_load"||eventAction==="opt-in"||eventAction==="step"){if(eventName==="vtp new search")return"";if(applicationName.indexOf("vtp")>-1&&filterarray&&Array.isArray(filterarray)&&filterarray.length>0)return Bootstrapper.analyticsHelper.nemo.getVTPFilterValues(_audiDataLayer.search.filter);
if(applicationName.indexOf("vtp")>-1&&Array.isArray(relatedFilter))return Bootstrapper.analyticsHelper.nemo.getVTPFilterValues(relatedFilter)}if(contentTags){var classifiedContentTags=[];contentTags.forEach(function(el){classifiedContentTags.push("act:"+el)});return classifiedContentTags.join(";")}return""}catch(e){Bootstrapper.notify("120 Pageview-Variables ListVar2:"+e);return""}}],["useBeacon",function anon(){if(Bootstrapper.analyticsHelper.isNextGenConfiUrl())return false;var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");
if(eventAction==="page_load"||eventAction==="opt-in"||eventAction==="view_change"||eventAction==="step")return false;return true}]]])})},3970496,[3976135],540029,[605647],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["impression"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events","event48,event36"],["eVar100","031"],["list1",function anon(){try{var relElements=Bootstrapper.data.resolve("Manage.Event.relatedElements");
var list1=[];for(var i=0;i<relElements.length;i++)list1.push("eln:"+relElements[i].elementName+"~elv:"+relElements[i].elementValue);return list1.join(";")}catch(e){Bootstrapper.analyticsError.report(e,"031 - impression - error in relatedElements");return""}}],["eVar67",function anon(){if(Bootstrapper.data.resolve("Manage.Event.eventName")==="video player - impression"){var name=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var length=Bootstrapper.data.resolve("Manage.Event.value");return"vn|"+
name+";vl|"}else return""}]]])})},3913831,[3954161,3970001],577849,[538663,549281],55);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(~window.location.search.indexOf("debug"))console.log("ensighten test - nemo, no mandated")},3938359,753661,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName").indexOf("audi:oneshop-frontend-checkout")===0){var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]},createProductVariables:function(prod){try{var sprod=[];for(var i=0;i<prod.length;i++)sprod.push(prod[i].category.productType+
";"+prod[i].productInfo.productID+";1;;;eVar90\x3did:"+prod[i].productInfo.productID+"~pn:"+prod[i].productInfo.productName+"~ma:"+prod[i].productInfo.manufacturer+"|eVar91\x3dpc:"+prod[i].category.primaryCategory+"~sc1:"+prod[i].category.subCategory1+"~pt:"+prod[i].category.productType+"|eVar92\x3dmy:"+prod[i].attributes.modelYear);return sprod}catch(e){Bootstrapper.notify("createProductVariable-Function-Error in 050 - OneShop - Checkout - Feature App");return""}}};var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;
var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var currentComponent=helperFunctions.getComp(compInd);if(["view_change","order","content"].indexOf(evAct)>-1){var cartArray=currentComponent&&currentComponent.products&&currentComponent.products.cart&&currentComponent.products.cart.item;var productVar=Array.isArray(cartArray)?helperFunctions.createProductVariables(cartArray):
"";if(productVar)faTracking.setVariable("products",productVar.join());if(evAct==="view_change"){var pageID=currentComponent&&currentComponent.page&&currentComponent.page.pageInfo&&currentComponent.page.pageInfo.pageName;if(pageID)faTracking.setVariable("eVar45",pageID)}if(evAct==="order"&&cartArray){var v120="pt:"+currentComponent.products.cart.paymentMethod+"~cr:"+currentComponent.products.cart.creditAssessmentResult;faTracking.setVariable("eVar120",v120);faTracking.setVariable("events","purchase");
faTracking.setVariable("purchaseID",currentComponent.products.cart.orderID)}}Bootstrapper.notify("050 - OneShop - Checkout - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"050 - OneShop - Checkout - Error")}})},3873761,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],718648,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["non_interaction"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){try{var events=["event48"];if(Bootstrapper.data.resolve("Manage.Event.eventName")=="30 seconds on page after entry")events.push("event91");
return events.join(",")}catch(e){Bootstrapper.notify("026 - non_interaction error"+e);return""}}],["eVar3",""],["eVar100","026"]]])})},3834540,[3954161],589394,[538663],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["page_load","step"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var ux_research_value=Bootstrapper.analyticsHelper.getQueryParam("ux_research");if(ux_research_value!=="")Bootstrapper.analyticsStorage.setVisitorItem("ux_research",ux_research_value)}catch(e){Bootstrapper.analyticsError.report(e,
"094 - Error")}})},3936471,[3977529],682170,[753298],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function getFileType(t){var e=t.split("/");var n=e[e.length-1].split(".");return n.length<=1?"":n[n.length-1]}try{var fileTypes=["doc","docx","eps","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe",
"wma","mov","avi","wmv","mp3","wav","m4v","ics","jpg","jpeg"];var evtName=Bootstrapper.data.resolve("Manage.Event.eventName");var evtAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var pdfNemoCondition=targetURL.indexOf("pdf")>-1&&Bootstrapper.data.resolve("Manage.Page.applicationName")==="nemo";if(evtAction==="internal_link"&&(evtName==="generic"||pdfNemoCondition)){var ft=pdfNemoCondition?"pdf":getFileType(targetURL);
if(ft!==""&&fileTypes.indexOf(ft.toLowerCase())>-1){_audiDataLayer.event[0].eventInfo.eventAction="download";_audiDataLayer.event[0].attributes.value=ft.toUpperCase();Bootstrapper.notify("185 download set:",ft.toUpperCase());var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"185,")}}}catch(e){Bootstrapper.analyticsError.report(e,"185 - nemo download")}})},3822625,593849,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["download"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar100","024"],["eVar47",function anon(){try{var fileName=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");if(fileName!==""){var fileNameArray=
fileName.split("/");fileName=fileNameArray[fileNameArray.length-1]}return"typ|"+Bootstrapper.data.resolve("Manage.Event.value")+";name|"+fileName}catch(e){return""}}],["events","event4"]]])})},2783500,[3970001],573307,[549281],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["opt-in","page_load","step"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{Bootstrapper.notify("198 - execute pageview tracking")}catch(e){}if(Bootstrapper.getVariable("suppressPageView")!==true){Bootstrapper.analyticsHelper.executeTracking("page");if(Bootstrapper.IMQR)setTimeout(function(){Bootstrapper.IMQR.push("awaken")},
1E3);Bootstrapper.setVariable("prev_url",Bootstrapper.data.resolve("Manage.Page.destinationURL"));Bootstrapper.setVariable("pageload_prev_vars",Bootstrapper.analyticsStorage.getSessionItem("prev"));Bootstrapper.setVariable("lc","");Bootstrapper.analyticsStorage.removeSessionItem("lc")}Bootstrapper.analyticsStorage.removePrefixedCookie("lc");Bootstrapper.setVariable("suppressPageView",false);Bootstrapper.setVariable("_ens_tagIDs","")})},3976153,[3911898,3842185,3413868,3969162],538672,[538671,591374,
591539,757990],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","click","compare","configuration","content","cookie_banner_click","download","email","error","exit_layer","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","registration_start","search_result_click",
"search_result_load","step","tooltip","user_action","video","view_change","form_field"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{Bootstrapper.notify("018 - clear variables")}catch(e){}Bootstrapper.AF.push(["call","SiteCatalyst","clearVariables"]);Bootstrapper.AF.push(["call","__s","clearVariables"])})},3516587,556658,24);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var ensVar0=function(){return getDomain()};var ensVar1=function(){return getCookieLifetime()};var getDomain=function(){try{var hostName=document.location.hostname;var domain=hostName;if(hostName!==null){var parts=hostName.split(".").reverse();if(parts!==null&&parts.length>1){domain=parts[1]+"."+parts[0];if(hostName.toLowerCase().indexOf(".co.")>-1||hostName.toLowerCase().indexOf(".com.")>
-1&&parts.length>2)domain=parts[2]+"."+domain}}domain="."+domain;return domain}catch(e){return window.location.hostname}};var getCookieLifetime=function(){try{var documentHost=document.location.host,documentHref=document.location.href,documentPath=document.location.pathname,documentLang=document.documentElement.lang,publishPath=Bootstrapper.ensightenOptions.publishPath;if(documentHost.split(".").pop()==="fr"||documentHost.split(".").pop()==="re"||publishPath==="iph30"&&/\/fr.html|\/fr\//i.test(documentHref)||
publishPath==="ecom-lite"&&documentLang==="fr"||publishPath==="myAudi_global"&&documentLang==="fr-FR"||publishPath==="globalbrandportal"&&/^\/progress\/fr_FR/.test(documentPath)){Bootstrapper.notify("008 - Note: changed default cookie lifetime to 13 months.");return"34164000"}return""}catch(e){return""}};var e=function(){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&
e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();
"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!U.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function r(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}
function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function s(e,t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return r(n.concat(i))?(a(n,i),o(n,i)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function u(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=
arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=Ie("log",e,t),this.warn=Ie("warn",e,t),this.error=Ie("error",e,t)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cookieName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cookies;if(!t||!i)return{get:xe,set:xe,remove:xe};var r={remove:function(){i.remove(t)},get:function(){var e=i.get(t),n={};try{n=JSON.parse(e)}catch(e){n=
{}}return n},set:function(e,n){n=n||{};var a=r.get(),o=Object.assign(a,e);i.set(t,JSON.stringify(o),{domain:n.optInCookieDomain||"",cookieLifetime:n.optInStorageExpiry||3419E4,secure:n.secure,sameSite:n.sameSite,expires:!0})}};return r}function f(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error(e)).stack}function p(){function e(e,t){var n=Ae(e);return n.length?n.every(function(e){return!!t[e]}):
Oe(t)}function t(){E(M),k(de.COMPLETE),S(C.status,C.permissions),s&&_.set(C.permissions,{optInCookieDomain:c,optInStorageExpiry:u,secure:f,sameSite:p}),I.execute(He)}function n(e){return function(n,i){if(!Me(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return k(de.CHANGED),Object.assign(M,ke(Ae(n),e)),i||t(),C}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,
c=i.optInCookieDomain,u=i.optInStorageExpiry,l=i.isIabContext,f=i.secureCookie,p=i.sameSiteCookie,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=g.cookies,h=Ne(a);Fe(h,"Invalid `previousPermissions`!"),Fe(o,"Invalid `preOptInApprovals`!");var _=d({cookieName:"adobeujs-optin"},{cookies:m}),C=this,S=le(C),I=_e(),v=Le(h),D=Le(o),y=s?_.get():{},b={},A=function(e,t){return Pe(e)||t&&Pe(t)?de.COMPLETE:de.PENDING}(v,y),O=function(e,t,n){var i=ke(he,!r);return r?Object.assign({},i,e,t,n):i}(D,
v,y),M=Ee(O),k=function(e){return A=e},E=function(e){return O=e};C.deny=n(!1),C.approve=n(!0),C.denyAll=C.deny.bind(C,he),C.approveAll=C.approve.bind(C,he),C.isApproved=function(t){return e(t,C.permissions)},C.isPreApproved=function(t){return e(t,D)},C.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?C.on(de.COMPLETE,e):xe;return!r||r&&C.isComplete||!!o?e(C.permissions):t||I.add(He,function(){return e(C.permissions)}),n},C.complete=function(){C.status===
de.CHANGED&&t()},C.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Be);b[e.name]||(b[e.name]=e,e.onRegister.call(e,C))},C.execute=Ue(b),C.memoizeContent=function(e){we(e)&&_.set(e,{optInCookieDomain:c,optInStorageExpiry:u,secure:f,sameSite:p})},C.getMemoizedContent=function(e){var t=_.get();if(t)return t[e]},Object.defineProperties(C,{permissions:{get:function(){return O}},status:{get:function(){return A}},Categories:{get:function(){return fe}},doesOptInApply:{get:function(){return!!r}},
isPending:{get:function(){return C.status===de.PENDING}},isComplete:{get:function(){return C.status===de.COMPLETE}},__plugins:{get:function(){return Object.keys(b)}},isIabContext:{get:function(){return l}}})}function g(e,t){function n(){r=null,e.call(e,new f("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e===window.top)return void ye.error("__tcfapi not found");
for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void ye.error("__tcfapi not found");var n={};return window.__tcfapi=function(e,i,r,a){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:a,version:i,callId:o}};n[o]=r,t.postMessage(s,"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var i=t.__tcfapiReturn;"function"==typeof n[i.callId]&&(n[i.callId](i.returnValue,
i.success),delete n[i.callId])}},!1),window.__tcfapi}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0===e.vendor.consents[t],r=n.every(function(t){return!0===e.purpose.consents[t]});return i&&r}function _(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,n=_e(),i={transparencyAndConsentData:null},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);
a({callback:i})},e.isApproved=function(e){var t=e.callback,n=e.category,r=e.timeout;if(i.transparencyAndConsentData)return t(null,h(i.transparencyAndConsentData,pe[n],ge[n]));var o=g(function(e,i){t(e,h(i,pe[n],ge[n]))},r);a({category:n,callback:o})},e.onRegister=function(n){t=n;var i=Object.keys(pe),r=function(e,t){!e&&t&&(i.forEach(function(e){var i=h(t,pe[e],ge[e]);n[i?"approve":"deny"](e,!0)}),n.complete())};e.fetchConsentData({callback:r})};var a=function(e){var a=e.callback;if(i.transparencyAndConsentData)return a(null,
i.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",a),o(function(e,a){if(a){var o=Ee(e),s=t.getMemoizedContent("iabConsentHash"),c=De(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==c,r("transparencyAndConsentData",o),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},o=function(e){var t=Ve(pe),n=m();"function"==typeof n&&n("getTCData",2,e,t)}}var C="undefined"!=typeof globalThis?globalThis:
"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};var S,I,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},D={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},y={MCMID:"getMarketingCloudVisitorID",
MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},b={CUSTOMERIDS:"getCustomerIDs"},A={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},O={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},M={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",
MCAAMB:"MCAAMB"},k={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},E={GLOBAL:"global"},T={LAX:"Lax",STRICT:"Strict",NONE:"None"},L={MESSAGES:v,STATE_KEYS_MAP:D,ASYNC_API_MAP:y,SYNC_API_MAP:b,ALL_APIS:A,FIELDGROUP_TO_FIELD:O,FIELDS:M,AUTH_STATE:k,OPT_OUT:E,SAME_SITE_VALUES:T},P=L.STATE_KEYS_MAP,R=function(e){function t(){}function n(t,n){var i=this;return function(){var r=e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(P.MCMID,
e),r=n.call(this,P.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},w=L.MESSAGES,x=L.ASYNC_API_MAP,N=L.SYNC_API_MAP,F=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(w.GETSTATE),""}}function n(n){this[x[n]]=function(i){i=i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[N[t]]=function(){return this.findField(t,
e)||{}}}Object.keys(x).forEach(n,this),Object.keys(N).forEach(i,this)},j=L.ASYNC_API_MAP,V=function(){Object.keys(j).forEach(function(e){this[j[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},U=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=function(e){return""===e||n.isObjectEmpty(e)};var i=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===
e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:i()?7:null},n.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=function(){return window.adobe=n.isObject(window.adobe)?
window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),H=(U.isObjectEmpty,U.isValueEmpty,U.getIeVersion,U.isFirefox,U.encodeAndBuildRequest,U.isObject,U.defineGlobalNamespace,
U.pluck,U.parseOptOut,U.normalizeBoolean,n),B=L.MESSAGES,G={0:"prefix",1:"orgID",2:"state"},Y=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e)t[G[n]]=2!==n?e:JSON.parse(e)}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(B).indexOf(i.prefix);return r||a||o},this.send=function(n,i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));
try{n.postMessage(a,t)}catch(e){}}},q=L.MESSAGES,W=function(e,t,n,i){function r(e){Object.assign(p,e)}function a(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(i,e))}function c(){r(new R(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,!0),C.removeEventListener("message",u)}function u(e){if(!h.isInvalid(e)){var t=
h.parse(e);m=!1,C.clearTimeout(p._handshakeTimeout),C.removeEventListener("message",u),r(new F(p)),C.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(q.GETSTATE)}}function l(){g&&postMessage?(C.addEventListener("message",u),s(q.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function d(){C.s_c_in||(C.s_c_il=[],C.s_c_in=0),p._c="Visitor",p._il=C.s_c_il,p._in=C.s_c_in,p._il[p._in]=p,C.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==
typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var m=!1,h=new Y(e,g);p.callbackRegistry=H(),p.init=function(){d(),f(),r(new V(p)),l()},p.findField=function(e,t){if(void 0!==p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=
a},X=L.MESSAGES,K=L.ALL_APIS,J=L.ASYNC_API_MAP,z=L.FIELDGROUP_TO_FIELD,Q=function(e,t){function n(){var t={};return Object.keys(K).forEach(function(n){var i=K[n],r=e[i]();U.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=z[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=J[a[0]];e[o](n,!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){c(e),a(e,X.HANDSHAKE)}
function s(e){r(function(){a(e,X.PARENTSTATE)})()}function c(n){function i(i){r.call(e,i),t.send(n,X.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e))(t.parse(e).prefix===X.HANDSHAKE?o:s)(e.source)}},$=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,
r)}})},Z={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"\x3d"),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var r=i(n,"cookieLifetime"),a=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure"),c=i(n,"sameSite"),u=s?"Secure":"",l=c?"SameSite\x3d"+c+";":"";if(a&&"SESSION"!==r&&"NONE"!==r){var d=""!==t?parseInt(r||0,10):-60;if(d)a=new Date,a.setTime(a.getTime()+1E3*d);else if(1===
a){a=new Date;var f=a.getYear();a.setYear(f+2+(f<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"\x3d"+encodeURIComponent(t)+"; path\x3d/;"+(a?" expires\x3d"+a.toGMTString()+";":"")+(o?" domain\x3d"+o+";":"")+l+u,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain\x3d"+n+";":"";var r=i(t,"secure"),a=i(t,"sameSite"),o=r?"Secure":"",s=a?"SameSite\x3d"+a+";":"";document.cookie=encodeURIComponent(e)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+
n+s+o}},ee=function(e,t){var n;!e&&C.location&&(e=C.location.hostname),n=e;var i,r=n.split("."),a=t||{};for(i=r.length-2;i>=0;i--)if(a.domain=r.slice(i).join("."),Z.set("TEST_AMCV_COOKIE_WRITE","cookie",a))return Z.remove("TEST_AMCV_COOKIE_WRITE",a),a.domain;return""},te={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},ne=!!C.postMessage,ie={postMessage:function(e,
t,n){var i=1;t&&(ne?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i++ +"\x26"+e))},receiveMessage:function(e,t){var n;try{ne&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),C.addEventListener?C[e?"addEventListener":"removeEventListener"]("message",n):C[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},re=function(e){var t,n,i="0123456789",
r="",a="",o=8,s=10,c=10,u=""+Date.now(),l=u.substr(-6).split("").reverse("").join("");if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),4>t&&l[t]<o&&(n=+l[t]),r+=i.substring(n,n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),6>t&&l[t]<s?(r+=l[t],n=l[t]):r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),a+=i.substring(n,n+1),0===t&&9==n?c=3:(1==t||
2==t)&&10!=c&&2>n?c=10:2<t&&(c=10);return r+a},ae=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(C.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?
null:new C[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var i=t.callback,r=C,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"\x26ts\x3d"+(new Date).getTime(),
!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,
error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},oe={POST_MESSAGE_ENABLED:!!C.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864E5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},se=function(e,t){var n=C.document;return{THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,
id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",r="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+
this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,
newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:oe.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||
e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText=
"display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):
(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),
r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,c=!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!oe.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u),this.requestToProcess()}e.idSyncDisableSyncs||
e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){r.messageSendingInterval=oe.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,
e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),U.encodeAndBuildRequest(r.url||
[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,c=e._getField(a),u=!1,l=!1,d=Math.ceil((new Date).getTime()/oe.MILLIS_PER_DAY);c?(o=c.split("*"),s=this.pruneSyncData(o,t.id,d),u=s.dataPresent,l=s.dataValid,u&&l||this.fireSync(r,
t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,
n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var c,u,l,d,f=n.url,p=e.loadSSL?"https:":"http:";for(c=0,u=f.length;c<u;c++){l=f[c],d=/^\/\//.test(l);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,c=e._getField(a),u=[];if(c){o=c.split("*");var l,d,f;for(l=0,d=o.length;l<d;l++)f=o[l],f.match("^"+n.id+"-")||u.push(f)}s.setSyncTrackingData(u,n,i,r)}}(this.onPagePixels.length,n,a,o)),g.src=(d?p:"")+l,this.onPagePixels.push(g)}}}else this.addMessage(i),
this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((oe.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?oe.POST_MESSAGE_ENABLED?
(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ie.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===
t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?
(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>oe.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},
ce={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},
isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},
useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},ue={getConfigNames:function(){return Object.keys(ce)},getConfigs:function(){return ce},normalizeConfig:function(e,t){return ce[e]&&"boolean"===ce[e].type?"function"!=typeof t?t:t():t}},le=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,
1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},de={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},fe={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},pe=(S={},
t(S,fe.AAM,565),t(S,fe.ECID,565),S),ge=(I={},t(I,fe.AAM,[1,10]),t(I,fe.ECID,[1,10]),I),me=["videoaa","iabConsentHash"],he=function(e){return Object.keys(e).map(function(t){return e[t]})}(fe),_e=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!u(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=
function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},Ce=function(){},Se=function(e){var t=
window,n=t.console;return!!n&&"function"==typeof n[e]},Ie=function(e,t,n){return n()?function(){if(Se(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:Ce},ve=l,De=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=-1;for(var i=0;i<t.length;i++){var r=255&(n^t.charCodeAt(i));n=n>>>8^e[r]}return(n^=-1)>>>0}}(),ye=new ve("[ADOBE OPT-IN]"),
be=function(t,n){return e(t)===n},Ae=function(e,t){return e instanceof Array?e:be(e,"string")?[e]:t||[]},Oe=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||Te(e))&&Ae(e).every(function(e){return he.indexOf(e)>-1||t&&me.indexOf(e)>-1})},ke=function(e,t){return e.reduce(function(e,n){return e[n]=t,e},{})},Ee=function(e){return JSON.parse(JSON.stringify(e))},Te=function(e){return"[object Array]"===
Object.prototype.toString.call(e)&&!e.length},Le=function(e){if(we(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Pe=function(e){return void 0===e||(we(e)?Me(Object.keys(e),!0):Re(e))},Re=function(e){try{var t=JSON.parse(e);return!!e&&be(e,"string")&&Me(Object.keys(t),!0)}catch(e){return!1}},we=function(e){return null!==e&&be(e,"object")&&!1===Array.isArray(e)},xe=function(){},Ne=function(e){return be(e,"function")?e():e},Fe=function(e,t){Pe(e)||ye.error("".concat(t))},je=function(e){return Object.keys(e).map(function(t){return e[t]})},
Ve=function(e){return je(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ue=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?xe:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var s=n.split("."),c=e[s[0]],u=s[1];if(!c||"function"!=typeof c[u])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(r,{callback:o});
c[u].call(c,l)}catch(e){ye.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var He="fetchPermissions",Be="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=fe,p.TimeoutError=f;var Ge=Object.freeze({OptIn:p,IabPlugin:_}),Ye=function(e,t){e.publishDestinations=function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});
if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!U.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});
var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var u=[];c.forEach(function(e){U.isObject(e)&&(e.hideReferrer?e.message&&a.addMessage(e.message):u.push(e))});!function e(){u.length&&setTimeout(function(){var t=new Image,n=u.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&
e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+
(e.message||"no result")})})}},qe=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,a=Math.pow,o=a(2,32),s="",c=[],u=8*t.length,l=e.h=e.h||[],d=e.k=e.k||[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;l[f]=a(g,.5)*o|0,d[f++]=a(g,1/3)*o|0}for(t+="\u0080";t.length%64-56;)t+="\x00";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;c[i>>2]|=r<<(3-i)%4*8}for(c[c.length]=u/o|0,c[c.length]=u,r=0;r<c.length;){var m=c.slice(r,r+=16),h=l;for(l=l.slice(0,8),i=0;i<64;i++){var _=
m[i-15],C=m[i-2],S=l[0],I=l[4],v=l[7]+(n(I,6)^n(I,11)^n(I,25))+(I&l[5]^~I&l[6])+d[i]+(m[i]=i<16?m[i]:m[i-16]+(n(_,7)^n(_,18)^_>>>3)+m[i-7]+(n(C,17)^n(C,19)^C>>>10)|0);l=[v+((n(S,2)^n(S,13)^n(S,22))+(S&l[1]^S&l[2]^l[1]&l[2]))|0].concat(l),l[4]=l[4]+v|0}for(i=0;i<8;i++)l[i]=l[i]+h[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var D=l[i]>>8*r&255;s+=(D<16?0:"")+D.toString(16)}return s},We=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=qe(e)),e},Xe=function(e){return String(e).trim().toLowerCase()},
Ke=Ge.OptIn;U.defineGlobalNamespace(),window.adobe.OptInCategories=Ke.Categories;var Je=function(t,n,i){function r(){S._customerIDsHashChanged=!1}function a(e){var t=e;return function(e){var n=e||A.location.href;try{var i=S._extractParamFromUri(n,t);if(i)return q.parsePipeDelimetedKeyValues(i)}catch(e){}}}function o(e){function t(e,t,n){e&&e.match(oe.VALID_VISITOR_ID_REGEX)&&(n===T&&(b=!0),t(e))}t(e[T],S.setMarketingCloudVisitorID,T),S._setFieldExpire(N,-1),t(e[w],S.setAnalyticsVisitorID)}function s(e){e=
e||{},S._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",S._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},S._supplementalDataIDLast=e.supplementalDataIDLast||"",S._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"\x3d"+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==F&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=q.getTimestampInSeconds();return e=
e?e+="|":e,e+="TS\x3d"+t}(i)}function u(e){var t=e.minutesToLive,n="";return(S.idSyncDisableSyncs||S.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function l(){return!!S.configs.doesOptInApply&&!(I.optIn.isComplete&&
d())}function d(){return S.configs.doesOptInApply&&S.configs.isIabContext?I.optIn.isApproved(I.optIn.Categories.ECID)&&y:I.optIn.isApproved(I.optIn.Categories.ECID)}function f(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=S[t];S[t]=function(e){return d()&&S.isAllowed()?i.apply(S,arguments):("function"==
typeof e&&S._callCallback(e,[n]),n)}})}function p(){var e=S._getAudienceManagerURLData(),t=e.url;return S._loadData(E,t,null,e)}function g(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),p(),_()}function m(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),S.init(),_()}function h(){I.optIn.isComplete&&(I.optIn.isApproved(I.optIn.Categories.ECID)?
S.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(S.init(),_()):S.configs.isIabContext?I.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(f(),_()))}function _(){I.optIn.off("complete",h)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var S=this,I=window.adobe,v="",D=0,y=!1,b=!1;S.version="5.5.0";var A=C,O=A.Visitor;O.version=S.version,O.AuthState=L.AUTH_STATE,O.OptOut=L.OPT_OUT,
A.s_c_in||(A.s_c_il=[],A.s_c_in=0),S._c="Visitor",S._il=A.s_c_il,S._in=A.s_c_in,S._il[S._in]=S,A.s_c_in++,S._instanceType="regular",S._log={requests:[]},S.marketingCloudOrgID=t,S.cookieName="AMCV_"+t,S.sessionCookieName="AMCVS_"+t;var M={};n&&n.secureCookie&&n.sameSiteCookie&&(M={sameSite:n.sameSiteCookie,secure:n.secureCookie}),S.cookieDomain=S.useLocalStorage?"":ee(null,M),S.loadSSL=!0,S.loadTimeout=3E4,S.CORSErrors=[],S.marketingCloudServer=S.audienceManagerServer="dpm.demdex.net",S.sdidParamExpiry=
30;var k=null,E="MC",T="MCMID",P="MCIDTS",R="A",w="MCAID",x="AAM",N="MCAAMB",F="NONE",j=function(e){return!Object.prototype[e]},V=ae(S);S.FIELDS=L.FIELDS,S.cookieRead=function(e){return S.useLocalStorage?e===S.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):Z.get(e)},S.cookieWrite=function(e,t,n){var i=""+t;if(S.useLocalStorage)return e===S.sessionCookieName?sessionStorage.setItem(e,i):localStorage.setItem(e,i);var r=S.cookieLifetime?(""+S.cookieLifetime).toUpperCase():"",a={expires:n,
domain:S.cookieDomain,cookieLifetime:r};return S.configs&&S.configs.secureCookie&&"https:"===location.protocol&&(a.secure=!0),S.configs&&S.configs.sameSiteCookie&&"https:"===location.protocol&&(a.sameSite=L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()]||"Lax"),Z.set(e,i,a)},S.removeCookie=function(e){if(S.useLocalStorage)return e===S.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:S.cookieDomain};return S.configs&&S.configs.secureCookie&&"https:"===
location.protocol&&(t.secure=!0),S.configs&&S.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=L.SAME_SITE_VALUES[S.configs.sameSiteCookie.toUpperCase()]||"Lax"),Z.remove(e,t)},S.resetState=function(e){e?S._mergeServerState(e):s()},S._isAllowedDone=!1,S._isAllowedFlag=!1,S.isAllowed=function(){return S._isAllowedDone||(S._isAllowedDone=!0,(S.cookieRead(S.cookieName)||S.cookieWrite(S.cookieName,"T",1))&&(S._isAllowedFlag=!0)),"T"===S.cookieRead(S.cookieName)&&S.removeCookie(S.cookieName),
S._isAllowedFlag},S.setMarketingCloudVisitorID=function(e){S._setMarketingCloudFields(e)},S._use1stPartyMarketingCloudServer=!1,S.getMarketingCloudVisitorID=function(e,t){S.marketingCloudServer&&S.marketingCloudServer.indexOf(".demdex.net")<0&&(S._use1stPartyMarketingCloudServer=!0);var n=S._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return S._getRemoteField(T,i,e,t,n)};var H=function(e,t){var n={};S.getMarketingCloudVisitorID(function(){t.forEach(function(e){n[e]=S._getField(e,
!0)}),-1!==t.indexOf("MCOPTOUT")?S.isOptedOut(function(t){n.MCOPTOUT=t,e(n)},null,!0):e(n)},!0)};S.getVisitorValues=function(e,t){var n={MCMID:{fn:S.getMarketingCloudVisitorID,args:[!0],context:S},MCOPTOUT:{fn:S.isOptedOut,args:[void 0,!0],context:S},MCAID:{fn:S.getAnalyticsVisitorID,args:[!0],context:S},MCAAMLH:{fn:S.getAudienceManagerLocationHint,args:[!0],context:S},MCAAMB:{fn:S.getAudienceManagerBlob,args:[!0],context:S}},i=t&&t.length?U.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?H(e,t):$(i,e)},
S._currentCustomerIDs={},S._customerIDsHashChanged=!1,S._newCustomerIDsHash="",S.setCustomerIDs=function(t,n){if(!S.isOptedOut()&&t){if(!U.isObject(t)||U.isObjectEmpty(t))return!1;S._readVisitor();var i,a,o,s;for(i in t)if(j(i)&&(S._currentCustomerIDs.dataSources=S._currentCustomerIDs.dataSources||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var c={};if(a.id){if(n){if(!(s=We(Xe(a.id),n)))return;a.id=s,c.hashType=n}c.id=a.id}void 0!=a.authState&&(c.authState=a.authState),
S._currentCustomerIDs.dataSources[i]=c}else if(n){if(!(s=We(Xe(a),n)))return;S._currentCustomerIDs.dataSources[i]={id:s,hashType:n}}else S._currentCustomerIDs.dataSources[i]={id:a};var u=S.getCustomerIDs(!0),l=S._getField("MCCIDH"),d="";l||(l=0);for(o in u){var f=u[o];if(!U.isObjectEmpty(f))for(i in f)j(i)&&(a=f[i],d+=(d?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}S._newCustomerIDsHash=String(S._hash(d)),S._newCustomerIDsHash!==l&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(r))}},
S.syncIdentity=function(t,n){if(!S.isOptedOut()&&t){if(!U.isObject(t)||U.isObjectEmpty(t))return!1;S._readVisitor();var i,a,o,s,c;for(i in t)if(j(i)&&(S._currentCustomerIDs.nameSpaces=S._currentCustomerIDs.nameSpaces||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a&&"object"===e(a))){var u={};if(a.id){if(n){if(!(o=We(Xe(a.id),n)))return;a.id=o,u.hashType=n}u.id=a.id}void 0!=a.authState&&(u.authState=a.authState),a.dataSource&&(S._currentCustomerIDs.dataSources=S._currentCustomerIDs.dataSources||
{},s=a.dataSource,S._currentCustomerIDs.dataSources[s]=u),S._currentCustomerIDs.nameSpaces[i]=u}var l=S.getCustomerIDs(!0),d=S._getField("MCCIDH"),f="";d||(d="0");for(c in l){var p=l[c];if(!U.isObjectEmpty(p))for(i in p)j(i)&&(a=p[i],f+=(f?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}S._newCustomerIDsHash=String(S._hash(f)),S._newCustomerIDsHash!==d&&(S._customerIDsHashChanged=!0,S._mapCustomerIDs(r))}},S.getCustomerIDs=function(e){S._readVisitor();var t,n,i={dataSources:{},nameSpaces:{}},
r=S._currentCustomerIDs.dataSources;for(t in r)j(t)&&(n=r[t],n.id&&(i.dataSources[t]||(i.dataSources[t]={}),i.dataSources[t].id=n.id,void 0!=n.authState?i.dataSources[t].authState=n.authState:i.dataSources[t].authState=O.AuthState.UNKNOWN,n.hashType&&(i.dataSources[t].hashType=n.hashType)));var a=S._currentCustomerIDs.nameSpaces;for(t in a)j(t)&&(n=a[t],n.id&&(i.nameSpaces[t]||(i.nameSpaces[t]={}),i.nameSpaces[t].id=n.id,void 0!=n.authState?i.nameSpaces[t].authState=n.authState:i.nameSpaces[t].authState=
O.AuthState.UNKNOWN,n.hashType&&(i.nameSpaces[t].hashType=n.hashType)));return e?i:i.dataSources},S.setAnalyticsVisitorID=function(e){S._setAnalyticsFields(e)},S.getAnalyticsVisitorID=function(e,t,n){if(!q.isTrackingServerPopulated()&&!n)return S._callCallback(e,[""]),"";var i="";if(n||(i=S.getMarketingCloudVisitorID(function(t){S.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?S.marketingCloudServer:S.trackingServer,a="";S.loadSSL&&(n?S.marketingCloudServerSecure&&(r=S.marketingCloudServerSecure):S.trackingServerSecure&&
(r=S.trackingServerSecure));var o={};if(r){var s="http"+(S.loadSSL?"s":"")+"://"+r+"/id",c=S.configs.cookieLifetime,u="d_visid_ver\x3d"+S.version+"\x26mcorgid\x3d"+encodeURIComponent(S.marketingCloudOrgID)+(i?"\x26mid\x3d"+encodeURIComponent(i):"")+(c?"\x26cl\x3d"+encodeURIComponent(c):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":""),l=["s_c_il",S._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+u+"\x26callback\x3ds_c_il%5B"+S._in+"%5D._set"+(n?
"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+u,o.callback=l}return o.url=a,S._getRemoteField(n?T:w,a,e,t,o)}return""},S.getAudienceManagerLocationHint=function(e,t){if(S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})){var n=S._getField(w);if(!n&&q.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerLocationHint(e,!0)})),n||!q.isTrackingServerPopulated()){var i=S._getAudienceManagerURLData(),r=i.url;return S._getRemoteField("MCAAMLH",
r,e,t,i)}}return""},S.getLocationHint=S.getAudienceManagerLocationHint,S.getAudienceManagerBlob=function(e,t){if(S.getMarketingCloudVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})){var n=S._getField(w);if(!n&&q.isTrackingServerPopulated()&&(n=S.getAnalyticsVisitorID(function(t){S.getAudienceManagerBlob(e,!0)})),n||!q.isTrackingServerPopulated()){var i=S._getAudienceManagerURLData(),r=i.url;return S._customerIDsHashChanged&&S._setFieldExpire(N,-1),S._getRemoteField(N,r,e,t,i)}}return""},S._supplementalDataIDCurrent=
"",S._supplementalDataIDCurrentConsumed={},S._supplementalDataIDLast="",S._supplementalDataIDLastConsumed={},S.getSupplementalDataID=function(e,t){S._supplementalDataIDCurrent||t||(S._supplementalDataIDCurrent=S._generateID(1));var n=S._supplementalDataIDCurrent;return S._supplementalDataIDLast&&!S._supplementalDataIDLastConsumed[e]?(n=S._supplementalDataIDLast,S._supplementalDataIDLastConsumed[e]=!0):n&&(S._supplementalDataIDCurrentConsumed[e]&&(S._supplementalDataIDLast=S._supplementalDataIDCurrent,
S._supplementalDataIDLastConsumed=S._supplementalDataIDCurrentConsumed,S._supplementalDataIDCurrent=n=t?"":S._generateID(1),S._supplementalDataIDCurrentConsumed={}),n&&(S._supplementalDataIDCurrentConsumed[e]=!0)),n};var B=!1;S._liberatedOptOut=null,S.getOptOut=function(e,t){var n=S._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(d())return S._getRemoteField("MCOPTOUT",i,e,t,n);if(S._registerCallback("liberatedOptOut",e),null!==S._liberatedOptOut)return S._callAllCallbacks("liberatedOptOut",
[S._liberatedOptOut]),B=!1,S._liberatedOptOut;if(B)return null;B=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[r],C[r]=function(e){if(e===Object(e)){var t,n,i=U.parseOptOut(e,t,F);t=i.optOut,n=1E3*i.d_ottl,S._liberatedOptOut=t,setTimeout(function(){S._liberatedOptOut=null},n)}S._callAllCallbacks("liberatedOptOut",[t]),B=!1},V.fireCORS(n),null},S.isOptedOut=function(e,t,n){t||(t=O.OptOut.GLOBAL);var i=S.getOptOut(function(n){var i=
n===O.OptOut.GLOBAL||n.indexOf(t)>=0;S._callCallback(e,[i])},n);return i?i===O.OptOut.GLOBAL||i.indexOf(t)>=0:null};var G={subscribed:!1,callbacks:[]};S.onReceiveEcid=function(e){if(d())return S.getMarketingCloudVisitorID(e,!0);G.subscribed=!0,e&&"function"==typeof e&&G.callbacks.push(e)},S._fields=null,S._fieldsExpired=null,S._hash=function(e){var t,n,i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},S._generateID=re,S._generateLocalMID=function(){var e=S._generateID(0);
return X.isClientSideMarketingCloudVisitorID=!0,e},S._callbackList=null,S._callCallback=function(e,t){try{"function"==typeof e?e.apply(A,t):e[1].apply(e[0],t)}catch(e){}},S._registerCallback=function(e,t){t&&(null==S._callbackList&&(S._callbackList={}),void 0==S._callbackList[e]&&(S._callbackList[e]=[]),S._callbackList[e].push(t))},S._callAllCallbacks=function(e,t){if(null!=S._callbackList){var n=S._callbackList[e];if(n)for(;n.length>0;)S._callCallback(n.shift(),t)}},S._addQuerystringParam=function(e,
t,n,i){var r=encodeURIComponent(t)+"\x3d"+encodeURIComponent(n),a=q.parseHash(e),o=q.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+q.addQueryParamAtLocation(u,r,i)+a},S._extractParamFromUri=function(e,t){var n=new RegExp("[\\?\x26#]"+t+"\x3d([^\x26#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},S._parseAdobeMcFromUrl=a(oe.ADOBE_MC),S._parseAdobeMcSdidFromUrl=a(oe.ADOBE_MC_SDID),S._attemptToPopulateSdidFromUrl=function(e){var n=
S._parseAdobeMcSdidFromUrl(e),i=1E9;n&&n.TS&&(i=q.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<S.sdidParamExpiry&&(S._supplementalDataIDCurrent=n.SDID,S._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},S._attemptToPopulateIdsFromUrl=function(){var e=S._parseAdobeMcFromUrl();if(e&&e.TS){var n=q.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>oe.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},S._mergeServerState=function(e){if(e)try{if(e=function(e){return q.isObject(e)?e:JSON.parse(e)}(e),
e[S.marketingCloudOrgID]){var t=e[S.marketingCloudOrgID];!function(e){q.isObject(e)&&S.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.");}},S._timeout=null,S._loadData=function(e,t,n,i){t=S._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=S._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=S._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),X.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===V.corsMetadata.corsType&&
V.fireCORS(i,n,e)},S._clearTimeout=function(e){null!=S._timeout&&S._timeout[e]&&(clearTimeout(S._timeout[e]),S._timeout[e]=0)},S._settingsDigest=0,S._getSettingsDigest=function(){if(!S._settingsDigest){var e=S.version;S.audienceManagerServer&&(e+="|"+S.audienceManagerServer),S.audienceManagerServerSecure&&(e+="|"+S.audienceManagerServerSecure),S._settingsDigest=S._hash(e)}return S._settingsDigest},S._readVisitorDone=!1,S._readVisitor=function(){if(!S._readVisitorDone){S._readVisitorDone=!0;var e,
t,n,i,r,a,o=S._getSettingsDigest(),s=!1,c=S.cookieRead(S.cookieName),u=new Date;if(c||b||S.discardTrackingServerECID||(c=S.cookieRead(oe.FIRST_PARTY_SERVER_COOKIE)),null==S._fields&&(S._fields={}),c&&"T"!==c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)t=c[e].split("-"),n=t[0],i=c[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=u.getTime()/1E3-60)),n&&i&&(S._setField(n,
i,1),r>0&&(S._fields["expire"+n]=r+(a?"s":""),(u.getTime()>=1E3*r||a&&!S.cookieRead(S.sessionCookieName))&&(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[n]=!0)));!S._getField(w)&&q.isTrackingServerPopulated()&&(c=S.cookieRead("s_vi"))&&(c=c.split("|"),c.length>1&&c[0].indexOf("v1")>=0&&(i=c[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&i.match(oe.VALID_VISITOR_ID_REGEX)&&S._setField(w,i)))}},S._appendVersionTo=function(e){var t="vVersion|"+S.version,n=e?S._getCookieVersion(e):null;
return n?te.areVersionsDifferent(n,S.version)&&(e=e.replace(oe.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},S._writeVisitor=function(){var e,t,n=S._getSettingsDigest();for(e in S._fields)j(e)&&S._fields[e]&&"expire"!==e.substring(0,6)&&(t=S._fields[e],n+=(n?"|":"")+e+(S._fields["expire"+e]?"-"+S._fields["expire"+e]:"")+"|"+t);n=S._appendVersionTo(n),S.cookieWrite(S.cookieName,n,1)},S._getField=function(e,t){return null==S._fields||!t&&S._fieldsExpired&&S._fieldsExpired[e]?null:S._fields[e]},S._setField=function(e,
t,n){null==S._fields&&(S._fields={}),S._fields[e]=t,n||S._writeVisitor()},S._getFieldList=function(e,t){var n=S._getField(e,t);return n?n.split("*"):null},S._setFieldList=function(e,t,n){S._setField(e,t?t.join("*"):"",n)},S._getFieldMap=function(e,t){var n=S._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},S._setFieldMap=function(e,t,n){var i,r=null;if(t){r=[];for(i in t)j(i)&&(r.push(i),r.push(t[i]))}S._setFieldList(e,r,n)},S._setFieldExpire=function(e,
t,n){var i=new Date;i.setTime(i.getTime()+1E3*t),null==S._fields&&(S._fields={}),S._fields["expire"+e]=Math.floor(i.getTime()/1E3)+(n?"s":""),t<0?(S._fieldsExpired||(S._fieldsExpired={}),S._fieldsExpired[e]=!0):S._fieldsExpired&&(S._fieldsExpired[e]=!1),n&&(S.cookieRead(S.sessionCookieName)||S.cookieWrite(S.sessionCookieName,"1"))},S._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&
(t=F),t&&(t===F||t.match(oe.VALID_VISITOR_ID_REGEX))||(t="")),t},S._setFields=function(t,n){if(S._clearTimeout(t),null!=S._loading&&(S._loading[t]=!1),X.fieldGroupObj[t]&&X.setState(t,!1),t===E){!0!==X.isClientSideMarketingCloudVisitorID&&(X.isClientSideMarketingCloudVisitorID=!1);var i=S._getField(T);if(!i||S.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?n.mid:S._findVisitorID(n))){if(S._use1stPartyMarketingCloudServer&&!S.tried1stPartyMarketingCloudServer)return S.tried1stPartyMarketingCloudServer=
!0,void S.getAnalyticsVisitorID(null,!1,!0);i=S._generateLocalMID()}S._setField(T,i)}i&&i!==F||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&S._setFields(x,n),S._use1stPartyMarketingCloudServer&&n.mid&&S._setFields(R,{id:n.id})),S._callAllCallbacks(T,[i])}if(t===x&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&(r=parseInt(n.id_sync_ttl,10));var a=W.getRegionAndCheckIfChanged(n,r);S._callAllCallbacks("MCAAMLH",[a]);var o=S._getField(N);(n.d_blob||n.blob)&&
(o=n.d_blob,o||(o=n.blob),S._setFieldExpire(N,r),S._setField(N,o)),o||(o=""),S._callAllCallbacks(N,[o]),!n.error_msg&&S._newCustomerIDsHash&&S._setField("MCCIDH",S._newCustomerIDsHash)}if(t===R){var s=S._getField(w);s&&!S.overwriteCrossDomainMCIDAndAID||(s=S._findVisitorID(n),s?s!==F&&S._setFieldExpire(N,-1):s=F,S._setField(w,s)),s&&s!==F||(s=""),S._callAllCallbacks(w,[s])}if(S.idSyncDisableSyncs||S.disableIdSyncs)W.idCallNotProcesssed=!0;else{W.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=
n.subdomain,W.processIDCallData(c)}if(n===Object(n)){var u,l;d()&&S.isAllowed()&&(u=S._getField("MCOPTOUT"));var f=U.parseOptOut(n,u,F);u=f.optOut,l=f.d_ottl,S._setFieldExpire("MCOPTOUT",l,!0),S._setField("MCOPTOUT",u),S._callAllCallbacks("MCOPTOUT",[u])}},S._loading=null,S._getRemoteField=function(e,t,n,i,r){var a,o="",s=q.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(d()&&S.isAllowed()){S._readVisitor(),o=S._getField(e,!0===c[e]);if(function(){return(!o||S._fieldsExpired&&S._fieldsExpired[e])&&
(!S.disableThirdPartyCalls||s)}()){if(e===T||"MCOPTOUT"===e?a=E:"MCAAMLH"===e||e===N?a=x:e===w&&(a=R),a)return!t||null!=S._loading&&S._loading[a]||(null==S._loading&&(S._loading={}),S._loading[a]=!0,a===x&&(D=0),S._loadData(a,t,function(t){if(!S._getField(e)){t&&X.setState(a,!0);var n="";e===T?n=S._generateLocalMID():a===x&&(n={error_msg:"timeout"}),S._setFields(a,n)}},r)),S._registerCallback(e,n),o||(t||S._setFields(a,{id:F}),"")}else o||(e===T?(S._registerCallback(e,n),o=S._generateLocalMID(),S.setMarketingCloudVisitorID(o)):
e===w?(S._registerCallback(e,n),o="",S.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==T&&e!==w||o!==F||(o="",i=!0),n&&i&&S._callCallback(n,[o]),e===T&&G.subscribed&&(G.callbacks&&G.callbacks.length&&G.callbacks.forEach(function(e){S._callCallback(e,[o])}),G.subscribed=!1,G.callbacks.length=0),o},S._setMarketingCloudFields=function(e){S._readVisitor(),S._setFields(E,e)},S._mapCustomerIDs=function(e){S.getAudienceManagerBlob(e,!0)},S._setAnalyticsFields=function(e){S._readVisitor(),S._setFields(R,
e)},S._setAudienceManagerFields=function(e){S._readVisitor(),S._setFields(x,e)},S._getAudienceManagerURLData=function(e){var t=S.audienceManagerServer,n="",i=S._getField(T),r=S._getField(N,!0),a=S._getField(w),o=a&&a!==F?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(a):"";if(S.loadSSL&&S.audienceManagerServerSecure&&(t=S.audienceManagerServerSecure),t){var s,c,u,l=S.getCustomerIDs(!0);if(l)for(c in l){var d=l[c];if(!U.isObjectEmpty(d)){var f="nameSpaces"===c?"\x26d_cid_ns\x3d":"\x26d_cid_ic\x3d";for(s in d)j(s)&&
(u=d[s],o+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(S.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver\x3d"+S.version+(v&&-1!==p.indexOf("demdex.net")?"\x26gdpr\x3d1\x26gdpr_consent\x3d"+v:"")+(D&&-1!==p.indexOf("demdex.net")?"\x26d_cf\x3d"+D:"")+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!i&&S._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(S.marketingCloudOrgID)+
"\x26d_nsid\x3d"+(S.idSyncContainerID||0)+(i?"\x26d_mid\x3d"+encodeURIComponent(i):"")+(S.idSyncDisable3rdPartySyncing||S.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"")+(!0===k?"\x26d_coop_safe\x3d1":!1===k?"\x26d_coop_unsafe\x3d1":"")+(r?"\x26d_blob\x3d"+encodeURIComponent(r):"")+o,m=["s_c_il",S._in,e];return n=p+"?"+g+"\x26d_cb\x3ds_c_il%5B"+S._in+"%5D."+e,{url:n,corsUrl:p+"?"+g,callback:m}}return{url:n}},S.appendVisitorIDsTo=function(e){try{var t=[[T,S._getField(T)],[w,S._getField(w)],["MCORGID",
S.marketingCloudOrgID]];return S._addQuerystringParam(e,oe.ADOBE_MC,c(t))}catch(t){return e}},S.appendSupplementalDataIDTo=function(e,t){if(!(t=t||S.getSupplementalDataID(q.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",S.marketingCloudOrgID]]);return S._addQuerystringParam(e,oe.ADOBE_MC_SDID,n)}catch(t){return e}};var q={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,
t,n){var i=e.split("\x26");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==w)return!1;var i;return t||(t=S.trackingServer),n||(n=S.trackingServerSecure),!("string"!=typeof(i=S.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){Z.remove(e,{domain:S.cookieDomain})},isTrackingServerPopulated:function(){return!!S.trackingServer||
!!S.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1E3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("\x3d");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===
e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};S._helpers=q;var W=se(S,O);S._destinationPublishing=W,S.timeoutMetricsLog=[];var X={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case E:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case R:!1===
t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case x:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};S.isClientSideMarketingCloudVisitorID=function(){return X.isClientSideMarketingCloudVisitorID},S.MCIDCallTimedOut=function(){return X.MCIDCallTimedOut},S.AnalyticsIDCallTimedOut=function(){return X.AnalyticsIDCallTimedOut},S.AAMIDCallTimedOut=function(){return X.AAMIDCallTimedOut},S.idSyncGetOnPageSyncInfo=
function(){return S._readVisitor(),S._getField("MCSYNCSOP")},S.idSyncByURL=function(e){if(!S.isOptedOut()){var t=u(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=W;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=U.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},S.idSyncByDataSource=function(e){if(!S.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&
e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid\x3d"+e.dpid+"\x26dpuuid\x3d"+e.dpuuid,S.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ye(S,W),S._getCookieVersion=function(e){e=e||S.cookieRead(S.cookieName);var t=oe.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},S._resetAmcvCookie=function(e){var t=S._getCookieVersion();t&&!te.isLessThan(t,e)||S.removeCookie(S.cookieName)},S.setAsCoopSafe=function(){k=!0},S.setAsCoopUnsafe=function(){k=!1},function(){if(S.configs=Object.create(null),
q.isObject(n))for(var e in n)j(e)&&(S[e]=n[e],S.configs[e]=n[e])}(),f();var K;S.init=function(){l()&&(I.optIn.fetchPermissions(h,!0),!I.optIn.isApproved(I.optIn.Categories.ECID))||K||(K=!0,function(){if(q.isObject(n)){S.idSyncContainerID=S.idSyncContainerID||0,k="boolean"==typeof S.isCoopSafe?S.isCoopSafe:q.parseBoolean(S.isCoopSafe),S.resetBeforeVersion&&S._resetAmcvCookie(S.resetBeforeVersion),S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl(),S._readVisitor();var e=S._getField(P),
t=Math.ceil((new Date).getTime()/oe.MILLIS_PER_DAY);S.idSyncDisableSyncs||S.disableIdSyncs||!W.canMakeSyncIDCall(e,t)||(S._setFieldExpire(N,-1),S._setField(P,t)),S.getMarketingCloudVisitorID(),S.getAudienceManagerLocationHint(),S.getAudienceManagerBlob(),S._mergeServerState(S.serverState)}else S._attemptToPopulateIdsFromUrl(),S._attemptToPopulateSdidFromUrl()}(),function(){if(!S.idSyncDisableSyncs&&!S.disableIdSyncs){W.checkDPIframeSrc();var e=function(){var e=W;e.readyToAttachIframe()&&e.attachIframe()};
A.addEventListener("load",function(){O.windowLoaded=!0,e()});try{ie.receiveMessage(function(e){W.receiveMessage(e.data)},W.iframeHost)}catch(e){}}}(),function(){S.whitelistIframeDomains&&oe.POST_MESSAGE_ENABLED&&(S.whitelistIframeDomains=S.whitelistIframeDomains instanceof Array?S.whitelistIframeDomains:[S.whitelistIframeDomains],S.whitelistIframeDomains.forEach(function(e){var n=new Y(t,e),i=Q(S,n);ie.receiveMessage(i,e)}))}())}};Je.config=ue,C.Visitor=Je;var ze=Je,Qe=function(e){if(U.isObject(e))return Object.keys(e).filter(function(t){return""!==
e[t]&&ue.getConfigs()[t]}).reduce(function(t,n){var i=ue.normalizeConfig(n,e[n]),r=U.normalizeBoolean(i);return t[n]=r,t},Object.create(null))},$e=Ge.OptIn,Ze=Ge.IabPlugin;return ze.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=C.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=Qe(t)||{};!function(e){C.adobe.optIn=
C.adobe.optIn||function(){var t=U.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),n=e.optInCookieDomain||e.cookieDomain;n=n||ee(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new $e(t,{cookies:Z});if(t.isIabContext&&t.doesOptInApply){var r=new Ze;i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new ze(e,null,a);i.cookieDomain&&(o.cookieDomain=
i.cookieDomain),i.sameSiteCookie&&i.secureCookie&&(o.configs={sameSiteCookie:i.sameSiteCookie,secureCookie:i.secureCookie}),function(){C.s_c_il.splice(--C.s_c_in,1)}();var s=U.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c=function(){try{return C.self!==C.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)||U.isFirefox()&&
!function(t){var n="AMCV_"+e;return!!t.cookieRead(n)}(o)&&i.whitelistParentDomain)&&C.parent?new W(e,i,o,C.parent):new ze(e,i,a);return o=null,c.init(),c},function(){function e(){ze.windowLoaded=!0}C.addEventListener?C.addEventListener("load",e):C.attachEvent&&C.attachEvent("onload",e),ze.codeLoadEnd=(new Date).getTime()}(),ze}();var options={};options.trackingServer="dc.audi.com";if("dcs.audi.com")options.trackingServerSecure="dcs.audi.com";if("dc.audi.com")options.marketingCloudServer="dc.audi.com";
if("dcs.audi.com")options.marketingCloudServerSecure="dcs.audi.com";if(ensVar0.call(this))options.cookieDomain=ensVar0.call(this);options.cookieLifetime=parseInt(ensVar1.call(this),10);options.secureCookie=true;options.disableThirdPartyCookies=true;options.disableIdSyncs=true;options.overwriteCrossDomainMCIDAndAID=true;options["disableThirdPartyCalls"]=true;var consent_defaults={};Object.keys(adobe.OptInCategories).forEach(function(e){consent_defaults[adobe.OptInCategories[e]]=false});options.doesOptInApply=
true;options.preOptInApprovals=consent_defaults;options.isOptInStorageEnabled=false;window.visitor=Visitor.getInstance("097B467352782F130A490D45@AdobeOrg",options);Bootstrapper.notify("008 - Experience Cloud ID Service");Bootstrapper.ensEvent.add(["enable-analytics"],function(){Bootstrapper.notify("analytics consent given");adobe.optIn.approveAll()});function enable(){if(Bootstrapper.analyticsConsent.consentGiven()){Bootstrapper.ensEvent.trigger("enable-analytics");return true}return false}var isEnabled=
enable();if(!isEnabled)Bootstrapper.bindPageSpecificCompletion(function(){if(!enable()&&Bootstrapper.nanoAPI.checkEventConsent())Bootstrapper.nanoAPI.adobeReadyCallback()})},3970912,[3909643,3977529],730633,[538648,753298],758);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","form_field","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.data.resolve("Manage.Event.iframeID")==="central-wega-forms"){var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var errorName=Bootstrapper.data.resolve("Manage.Error.errorName");var codeInternal=Bootstrapper.data.resolve("Manage.Error.codeInternal");var codeExternal=Bootstrapper.data.resolve("Manage.Error.codeExternal");
var errorUrl=Bootstrapper.data.resolve("Manage.Error.errorUrl");var userMessage=Bootstrapper.data.resolve("Manage.Error.userMessage");var dealerID=Bootstrapper.data.resolve("Manage.Dealer.dealerID");var dealerName=Bootstrapper.data.resolve("Manage.Dealer.dealerName");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var v88=Bootstrapper.data.resolve("Manage.Adobe.eVar88 - Click Tracking Details");var v16="";var sProducts=
"";var list3="";if(_audiDataLayer.iframe&&_audiDataLayer.iframe.product&&_audiDataLayer.iframe.product[0]&&_audiDataLayer.iframe.product[0].category&&_audiDataLayer.iframe.product[0].productInfo){var productCategory=_audiDataLayer.iframe.product[0].category;var productPrimaryCategory=productCategory.primaryCategory;var productSubCategory1=productCategory.subCategory1;var productType=productCategory.productType;var productName=_audiDataLayer.iframe.product[0].productInfo.productName;v16="line|"+productPrimaryCategory+
";model|"+productSubCategory1;sProducts=productType+";"+productSubCategory1+";1;;";list3="pr*pi:"+productSubCategory1+"~cl:"+productPrimaryCategory+"~pn:"+productName}var list2=[];var fields=_audiDataLayer.iframe.form[0].fields;var setFields=function(currentField){var fieldID=currentField.fieldID||"";var fieldName=currentField.fieldName||"";var fieldType=currentField.fieldType||"";var fieldSet=currentField.fieldSet||"false";var fieldRequired=currentField.fieldRequired||"false";var fieldVisible=currentField.fieldVisible||
"false";var fieldValidationText="";if(eventName.indexOf("validation error")>-1)fieldValidationText="~fiet:"+currentField.fieldValidationText;return"fo*fiid:"+fieldID+"~fina:"+fieldName+"~fity:"+fieldType+"~fise:"+fieldSet.toString()+"~fire:"+fieldRequired.toString()+"~fivi:"+fieldVisible.toString()+fieldValidationText};if(_audiDataLayer.iframe&&_audiDataLayer.iframe.form&&_audiDataLayer.iframe.form[0]&&_audiDataLayer.iframe.form[0].fields){if(eventName.indexOf("validation error")>-1)for(var i=0;i<
fields.length;i++){if(fields[i].fieldValidationText)list2.push(setFields(fields[i]))}else for(var i=0;i<fields.length;i++)list2.push(setFields(fields[i]));list2=list2.join(";")}var v23=Bootstrapper.data.resolve("Manage.Event.relatedFieldID");var v36="ut|"+Bootstrapper.data.resolve("Manage.User.userType");var v58=Bootstrapper.data.resolve("Manage.Dealer.dealerName");var v12="na|"+errorName+";ce|"+codeExternal+";ci|"+codeInternal+";um|"+userMessage+";ur|"+errorUrl;var v57=dealerID;var v58=dealerName;
if(eventName.indexOf("form field - change")>-1)faTracking.setVariable("events","event112");if(eventName.indexOf("form field - access")>-1)faTracking.setVariable("events","event111");if(eventName.indexOf("form_field - validation error")>-1)faTracking.setVariable("events","event116");if(sProducts)faTracking.setVariable("products",sProducts);if(list2)faTracking.setVariable("list2",list2);if(list3)faTracking.setVariable("list3",list3);if(v16)faTracking.setVariable("eVar16",v16);if(v23)faTracking.setVariable("eVar23",
v23);if(v36!=="ut|")faTracking.setVariable("eVar36",v36);if(v12!=="na|;ce|;ci|;um|;ur|"){faTracking.setVariable("eVar12",v12);faTracking.setVariable("events","event113")}if(eventAction=="content"){var split88=v88.split(";");split88[3]="va|";v88=split88.join(";");faTracking.setVariable("eVar88",v88)}}}catch(e){Bootstrapper.analyticsError.report(e,"041 - Central Forms")}})},3834572,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],683845,[538665,538667,
540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["search_result_load"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join",
"__s","dl","53844"]);Bootstrapper.AF.push(["join","__s","dl","53461"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar100","027"],["events","event28"],["events",function anon(){try{return"event26\x3d"+Bootstrapper.data.resolve("Manage.Search.results")}catch(e){return""}}],["eVar24",function(){return Bootstrapper._SC.dataHandler(arguments,"53844")}],["prop17",function(){return Bootstrapper._SC.dataHandler(arguments,"53461")}]]])})},2483260,
[3954161],542116,[538663],55);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var appName=Bootstrapper.data.resolve("Manage.Page.applicationName");if(window.location.pathname.indexOf("/jp/web/ja/new-car-search")>-1&&appName==="cms"){window._audiDataLayer.page.attributes.applicationName="vtp 3.0-new-cus";var tagIDs=
Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"177,")}}catch(e){Bootstrapper.analyticsError.report(e,"177 - Error")}})},3823082,655394,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["exit_link"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events","event3"],["eVar100","023"],["events",function anon(){try{var eventType=Bootstrapper.data.resolve("Manage.Event.type"),targetUrl=
Bootstrapper.data.resolve("Manage.Event.targetUrl_href"),socialNet=Bootstrapper.data.resolve("Manage.URL.Social Networks Regex");if(eventType==="sharing")return"event20";else if(socialNet.test(targetUrl))return"event17";return""}catch(e){Bootstrapper.notify("022-exit_link / social events error: "+e);return""}}]]])})},2816395,[3970001],538667,[549281],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["view_change"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){if(Bootstrapper.data.resolve("Manage.Event.eventName")==="car compare - comparison screen")return"event60";
return""}],["eVar100","132"]]])})},3826378,[3970496],653876,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["filter"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var events=[];if(eventName.indexOf("remove filter")>
-1)events.push("event96");else if(eventName.indexOf("add filter")>-1)events.push("event95");else if(eventName.indexOf("change filter")>-1)events.push("event97");var searchEventsonVTP=Bootstrapper.analyticsHelper.nemo.getSearchEventsOnVTP();if(searchEventsonVTP!=="")events.push(searchEventsonVTP);return events.join(",")}],["list2",function anon(){try{if(Array.isArray(_audiDataLayer.event[0].attributes.relatedFilter))return Bootstrapper.analyticsHelper.nemo.getVTPFilterValues(_audiDataLayer.event[0].attributes.relatedFilter);
if(Bootstrapper.data.resolve("Manage.Page.pageType")==="modelFinder"){var filterName=Bootstrapper.data.resolve("Manage.Event.label")||"",filterValue=Bootstrapper.data.resolve("Manage.Event.value")||"",elemName=Bootstrapper.data.resolve("Manage.Event.elementName")||"";return"fna:"+filterName+"~fva:"+filterValue+(elemName==="slider"?"~fra:nomin-"+filterValue+"~fmin:nomin"+"~fmax:"+filterValue:"")}return""}catch(e){Bootstrapper.notify("129 - filter variables listVar2:"+e);return""}}],["eVar100","129"]]])})},
3822542,[3970496],619355,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var setVariables=function(event){var productAvailable=false;var configuredItems="";var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;if(event.attributes&&event.attributes.relatedProducts&&event.attributes.relatedProducts.configuredItems){configuredItems=event.attributes.relatedProducts.configuredItems;productAvailable=true}else if(event.attributes&&
event.attributes.relatedProducts&&event.attributes.relatedProducts[0].productInfo){configuredItems=event.attributes.relatedProducts;productAvailable=true}if(productAvailable){var sProducts=[];var list3=[];for(var i=0;i<configuredItems.length;i++){sProducts.push(";"+configuredItems[i].productInfo.productID+";1;;"+";eVar90\x3did:"+configuredItems[i].productInfo.productID);list3.push("pr*pi:"+configuredItems[i].productInfo.productID)}faTracking.setVariable("products",sProducts.join());faTracking.setVariable("list3",
list3.join(";"));Bootstrapper.notify("046 - Equipment Highlights - Set Feature App Variables")}};try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="audi-feature-app-equipment-highlights")if(Bootstrapper.data.resolve("Manage.Event.eventAction")==="internal_link"){var enhancement={attributes:{relatedProducts:_audiDataLayer.event[0].attributes.relatedProducts}};Bootstrapper.analyticsStorage.enhanceClickStorage(enhancement);Bootstrapper.notify("046 - Equipment Highlights - Enhance Cookie by Feature App")}else setVariables(_audiDataLayer.event[0]);
var ea=Bootstrapper.data.resolve("Manage.Event.eventAction");if(Bootstrapper.data.resolve("Manage.localStorage.featureAppName")==="audi-feature-app-equipment-highlights"&&(ea==="page_load"||ea==="step"||ea==="view_change"))setVariables(Bootstrapper.data.resolve("Manage.localStorage.event"))}catch(e){Bootstrapper.analyticsError.report(e,"046 - Eqipment Highlights - Error")}})},3834578,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],700290,[538665,538667,
540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");if(eventAction==="internal_link"&&!Bootstrapper.analyticsHelper.isFeatureAppEvent()){function createDOMLink(t){var a=document.createElement("a");a.href=t;if(a.host==
"")a.href=a.href;return a}var turl=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var targetLink=createDOMLink(turl);if(document.location.pathname===targetLink.pathname&&targetLink.hash!==""&&targetLink.hash!=="#"){var eva="anchor";if(targetLink.hash.indexOf("#layer")>-1){eva="internal_link";_audiDataLayer.event[0].eventInfo.eventName="layer open"}_audiDataLayer.event[0].eventInfo.eventAction=eva;Bootstrapper.notify("183 - "+eva);var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",
tagIDs+"183,")}}}catch(e){Bootstrapper.analyticsError.report(e,"183 - anchor link")}})},3796629,[3104368],594218,[592572],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var relatedProduct=Bootstrapper.data.resolve("Manage.localStorage.relatedProduct");var eventNameFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.eventName");
var labelFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.label");var componentNameFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.componentName");var elementNameFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.elementName");if(eventName==="vtp consumption layer"){_audiDataLayer.event[0].eventInfo.eventAction="content";_audiDataLayer.event[0].eventInfo.eventName="vtp consumption - layer open";_audiDataLayer.event[0].attributes.label=labelFromLocalStorage;
_audiDataLayer.event[0].attributes.componentName=componentNameFromLocalStorage;_audiDataLayer.event[0].attributes.elementName=elementNameFromLocalStorage;if(relatedProduct!=="")_audiDataLayer.event[0].attributes.relatedProduct=relatedProduct;Bootstrapper.analyticsStorage.removeSessionItem("lc");Bootstrapper.analyticsStorage.removePrefixedCookie("lc");Bootstrapper.setVariable("lc","")}if(eventNameFromLocalStorage==="vtp close consumption layer"||eventNameFromLocalStorage==="vtp close consumption layer - layer close"){_audiDataLayer.event[0].eventInfo.eventAction=
"content";_audiDataLayer.event[0].eventInfo.eventName="vtp consumption - layer close";Bootstrapper.analyticsStorage.removeSessionItem("lc");Bootstrapper.analyticsStorage.removePrefixedCookie("lc");Bootstrapper.setVariable("lc","")}}catch(e){Bootstrapper.notify("186 ConsumptionLayerWorkaroundError:"+e)}})},3110937,625885,24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");if(eventAction==="internal_link"&&targetURL.indexOf("/poa-starten.html")>-1)try{Bootstrapper.notify("184 - workaround: track clicks on online beratung and website feedback");
window._audiDataLayer.event[0].eventInfo.eventAction="content";var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"184,")}catch(e){Bootstrapper.analyticsError.report(e,"184 - Error")}})},3822648,594062,24);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF=function(){var i={data:{},_dataConfig:{},logHistory:[],debug:!0,dataObj:function(t){var i=t?[]:"";return i.finalized=!1,i.type=t,i},validateInput:function(t){return"object"!=typeof t||"number"!=typeof t.length?this.log("Error, input must be type Array"):(/set|push|call|eval|finalize|join/.test(t[0])||this.log("Error, '"+t[0]+"' is not a valid command"),
!0)},storeData:function(t,i,o,e,n){return n=this.getConfig(i,o,n),i=this.data[i][o],n.finalized?(this.log("Error, cannot modify finalized key '"+o+"'"),i):void 0!==i&&n.multi?("join"==t?i=i.concat(e):i.push(e),i):(n.multi?(o=[e],"join"==t&&(o=[].concat(e))):o=e,o)},getConfig:function(t,i,o,e){return e={},void 0===(t=this._dataConfig[t]||{})[i]?(e.multi=o,e.finalized=!1,e):t[i]},store:function(t,i,o,e,n){return this.data[i]=this.data[i]||{},this.data[i][o]=this.storeData(t,i,o,e,n),this.data[i][o]},
parseCode:function(t){return((t||function(){})+"").replace(/^functions*(s*)s*{|}$/g,"")},callFn:function(t,i,o,e){if("function"==typeof t){if(!o)return t.apply(window,e);void 0!==window.execScript?window.execScript(this.parseCode(t)):t.call(window)}else{if("function"!=typeof this.data[t][i])return this.log("Error, '"+i+"' is not a function");if(!o)return e="object"==typeof e&&"number"==typeof e.length?e:[],this.data[t][i].apply(this.data[t],e);void 0!==window.execScript?window.execScript(this.parseCode(this.data[t][i])):
this.data[t][i].call(window)}},parse:function(t){if(this.validateInput(t)){var i=(t=Array.prototype.slice.call(t,0)).shift(),o=t.shift(),e=t.shift(),n=t[0];if(/set|push|join/.test(i))return this.store(i,o,e,n,/push|join/.test(i));if(/call|eval/.test(i))return this.callFn(o,e,"eval"==i,t);if("finalize"==i)return(t=(t=this._dataConfig[o]=this._dataConfig[o]||{})[e]||{multi:!1}).finalized=!0,this._dataConfig[o][e]=t}},log:function(t){return this.logHistory.push(t),!(!this.debug||"object"!=typeof console)&&
(console.log(t)&&!1)}};if("object"==typeof Bootstrapper.AF&&"[object Array]"!==Object.prototype.toString.call(Bootstrapper.AF))return Bootstrapper.AF;if("[object Array]"===Object.prototype.toString.call(Bootstrapper.AF))for(var t=Bootstrapper.AF,o=0;o<t.length;o++)i.parse(t[o]);return{push:function(t){return i.parse(t)}}}();Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.log=function(a){if(Bootstrapper._SC.logEnabled)try{console.log("AA App Log - "+a)}catch(f){}};Bootstrapper.AF.push(["set",
"SiteCatalyst","block",function(a){this.ignore=this.ignore||{};this.ignore[a]=1}]);Bootstrapper.AF.push(["set","SiteCatalyst","exec",function(){if(!this.ar){Bootstrapper.AF.push(["push","SiteCatalyst","ar",!0]);for(var a=this.ns||[],f={},c=0;c<a.length;c++)f[a[c]]=1,Bootstrapper.AF.push(["set",a[c],"exec",function(a){return function(){var c=this.dl||[],b=this.DMFDelay||!1;Bootstrapper._SC.log("Delay for DMF: "+b);var f=function(c){if("object"!=typeof window[a])setTimeout.call(this,function(){f.call(this,
c)},250);else{for(var g=["pre","post"],e=0;e<g.length;e++){var b=this[g[e]];if("object"==typeof b)for(var k=0;k<b.length;k++){var d=b[k],h=window[a];if("object"==typeof d[0]&&d[0].length){do h=h[d[0].shift()];while(1<d[0].length);d[0]=d[0].shift()}if(d[1]&&"function"==typeof d[1])try{h[d[0]]=d[1].call(this,c)}catch(l){}else h[d[0]]=d[1]}}window[a].t();Bootstrapper.AF.push(["set",a,"getCallbacks",function(){return this.callback||[]}]);g=Bootstrapper.AF.push(["call",a,"getCallbacks"]);for(e=0;e<g.length;e++)"function"==
typeof g[e]&&g[e].call(window)}},l=function(){Bootstrapper.data?Bootstrapper.data.resolve.call(this,c,function(){for(var a={},b=0;b<c.length;b++)a[c[b]]=arguments[b];f.call(this,a)}):f.call(this,{})},m=this;b?Bootstrapper.bindDOMParsed(function(){l.call(m)}):l.call(this)}}(a[c])]);var a=0,b;for(b in f)this.ignore&&b in this.ignore||(a?setTimeout(function(a){return function(){Bootstrapper.AF.push(["call",a,"exec"])}}(b),250*a):Bootstrapper.AF.push(["call",b,"exec"]),a++)}}]);Bootstrapper.bindPageSpecificCompletion(function(){setTimeout(function(){Bootstrapper.AF.push(["call",
"SiteCatalyst","exec"])},250)});Bootstrapper.AF.push(["eval",function(){sObjectName="__s";window.sName=sObjectName;window[sObjectName+"_gi"]=sgiFn;window[sObjectName+"_pgicq"]=spgicqFn;window["AppMeasurement"]=AppMeasurement;function AppMeasurement(r){var a=this;a.version="2.22.0";var h=window;h.s_c_in||(h.s_c_il=[],h.s_c_in=0);a._il=h.s_c_il;a._in=h.s_c_in;a._il[a._in]=a;h.s_c_in++;a._c="s_c";var q=h.AppMeasurement.ic;q||(q=null);var p=h,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+m.location!==
""+s&&p.location&&""+m.location!==""+p.location&&m.location.host===s.host;)p=m,m=p.parent}catch(u){}a.C=function(a){try{console.log(a)}catch(b){}};a.Ra=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;
c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.Nb=function(){var c=h.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ka&&!/^[0-9.]+$/.test(c)&&(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ka=0<d?c.substring(d):c}return a.Ka};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"\x3d"),f=0>d?d:b.indexOf(";",d);c=0>
d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.Nb(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"\x3d"+a.escape(""!=b?b:"[[B]]")+"; path\x3d/;"+(d&&"SESSION"!=e?" expires\x3d"+d.toUTCString()+";":"")+
(f?" domain\x3d"+f+";":"")+(a.writeSecureCookies?" secure;":""),a.cookieRead(c)==b):0};a.Kb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.xb(a,function(){}))};a.ya=function(){var a=navigator.userAgent;return"Microsoft Internet Explorer"===navigator.appName||0<=a.indexOf("MSIE ")||0<=a.indexOf("Trident/")&&0<=a.indexOf("Windows NT 6")?!0:!1};a.xb=function(a,b){for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&"function"===typeof a[d]&&(a[d]=b)};
a.K=[];a.fa=function(c,b,d){if(a.La)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,k=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ga)for(a.ga=1,d=0;d<k.length;d++)a.d.addEventListener(k[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ga=0,a.delayReady())});f=1;e=0}else d||a.u("_d")&&(f=1);f&&(a.K.push({m:c,a:b,t:e}),a.ga||setTimeout(a.delayReady,
a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.u("_d")?b=1:a.Aa();0<a.K.length;){d=a.K.shift();if(b&&!d.t&&d.t>c){a.K.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.La=1;a[d.m].apply(a,d.a);a.La=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.fa("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=
c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,k="";e=f="";if(a.lightProfileID)d=a.O,(k=a.lightTrackVars)&&(k=","+k+","+a.la.join(",")+",");else{d=a.g;if(a.pe||a.linkType)k=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(k=a[e].ec,f=a[e].cc));k&&(k=","+k+","+a.F.join(",")+",");f&&k&&(k+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!k||0<=k.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.o=function(c,
b,d,f,e){var g="",k,l,h,n,m=0;"contextData"==c&&(c="c");if(b){for(k in b)if(!(Object.prototype[k]||e&&k.substring(0,e.length)!=e)&&b[k]&&(!d||0<=d.indexOf(","+(f?f+".":"")+k+","))){h=!1;if(m)for(l=0;l<m.length;l++)if(k.substring(0,m[l].length)==m[l]){h=!0;break}if(!h&&(""==g&&(g+="\x26"+c+"."),l=b[k],e&&(k=k.substring(e.length)),0<k.length))if(h=k.indexOf("."),0<h)l=k.substring(0,h),h=(e?e:"")+l+".",m||(m=[]),m.push(h),g+=a.o(l,b,d,f,h);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==
f&&0>e.indexOf(".contextData."))switch(h=k.substring(0,4),n=k.substring(4),k){case "transactionID":k="xact";break;case "channel":k="ch";break;case "campaign":k="v0";break;default:a.Ra(n)&&("prop"==h?k="c"+n:"eVar"==h?k="v"+n:"list"==h?k="l"+n:"hier"==h&&(k="h"+n,l=l.substring(0,255)))}g+="\x26"+a.escape(k)+"\x3d"+a.escape(l)}}""!=g&&(g+="\x26."+c)}return g};a.usePostbacks=0;a.Qb=function(){var c="",b,d,f,e,g,k,l,h,n="",m="",p=e="",r=a.T();if(a.lightProfileID)b=a.O,(n=a.lightTrackVars)&&(n=","+n+","+
a.la.join(",")+",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].ec,m=a[e].cc));n&&(n=","+n+","+a.F.join(",")+",");m&&(m=","+m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.o("cid",e))}a.AudienceManagement&&
a.AudienceManagement.isReady()&&(c+=a.o("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);k=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.V("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case "customerPerspective":e="cp";break;case "marketingCloudOrgID":e="mcorgid";break;case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e=
"D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&
a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;
case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":p&&(g+=(""!=g?",":"")+p);if(m)for(k=g.split(","),g="",f=0;f<k.length;f++)l=k[f],h=l.indexOf("\x3d"),0<=h&&(l=l.substring(0,h)),h=l.indexOf(":"),0<=h&&(l=l.substring(0,h)),0<=m.indexOf(","+l+",")&&
(g+=(g?",":"")+k[f]);break;case "events2":g="";break;case "contextData":c+=a.o("c",a[e],n,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.o("mts",a[e],n,e));g="";break;default:a.Ra(k)&&("prop"==f?e="c"+k:"eVar"==f?e="v"+k:"list"==
f?e="l"+k:"hier"==f&&(e="h"+k,g=g.substring(0,255)))}g&&(c+="\x26"+e+"\x3d"+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.ka&&(c+="\x26lrt\x3d"+a.ka,a.ka=null);return c};a.B=function(a){var b=a.tagName;if("undefined"!=""+a.lc||"undefined"!=""+a.Zb&&"HTML"!=(""+a.Zb).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.Na=function(a){var b=
h.location,d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.L=function(c){var b=a.B(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?
(e=a.replace(a.replace(a.replace(a.replace(""+f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.Na(c),e)?{id:e.substring(0,100),type:g}:0};a.jc=function(c){for(var b=a.B(c),d=a.L(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.B(c),d=a.L(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&
(c=0);return c};a.Yb=function(){var c,b,d=a.linkObject,f=a.linkType,e=a.linkURL,g,k;a.ma=1;d||(a.ma=0,d=a.clickObject);if(d){c=a.B(d);for(b=a.L(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.B(d),b=a.L(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.ma=1;!e&&d&&(e=a.Na(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&
a.linkDownloadFileTypes)for(l=e.toLowerCase(),g=l.indexOf("?"),k=l.indexOf("#"),0<=g?0<=k&&k<g&&(g=k):g=k,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),k=0;k<g.length;k++)(p=g[k])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Qa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=h.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),
g))){for(k=0;k<g.length;k++)p=g[k],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),h.s_objectID&&(b.id=h.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="\x26pid\x3d"+a.escape(f.substring(0,255))+(e?"\x26pidt\x3d"+e:"")+"\x26oid\x3d"+a.escape(b.id.substring(0,100))+(b.type?"\x26oidt\x3d"+b.type:"")+"\x26ot\x3d"+c+(d?"\x26oi\x3d"+d:"")))};a.Rb=function(){var c=
a.ma,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Ub()){var b={},d=0,e=a.rb(),g=e?e.split("\x26"):0,k,l,h,e=0;if(g)for(k=0;k<g.length;k++)l=g[k].split("\x3d"),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");k={};for(h in a.contextData)h&&!Object.prototype[h]&&"a.activitymap."==h.substring(0,14)&&(k[h]=
a.contextData[h],a.contextData[h]="");a.e=a.o("c",k)+(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(h=0;h<f.length;h++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("\x26"!=l.charAt(0)?"\x26":"")+l,b[l]=[],d=1)),k=0;k<b[l].length;k++)g=b[l][k],g==f[h]&&(e&&(a.e+="\x26u\x3d"+a.escape(g)+("\x26"!=l.charAt(0)?"\x26":"")+l+"\x26u\x3d0"),b[l].splice(k,1),d=1);c||(d=1);if(d){e="";k=2;!c&&a.e&&(e=a.escape(f.join(","))+"\x3d"+a.escape(a.e),k=1);for(l in b)!Object.prototype[l]&&
0<k&&0<b[l].length&&(e+=(e?"\x26":"")+a.escape(b[l].join(","))+"\x3d"+a.escape(l),k--);a.zb(e)}}}return c};a.rb=function(){if(a.useLinkTrackSessionStorage){if(a.Ea())return h.sessionStorage.getItem(a.P)}else return a.cookieRead(a.P)};a.Ea=function(){return h.sessionStorage?!0:!1};a.zb=function(c){a.useLinkTrackSessionStorage?a.Ea()&&h.sessionStorage.setItem(a.P,c):a.cookieWrite(a.P,c)};a.Sb=function(){if(!a.bc){var c=new Date,b=p.location,d,f,e=f=d="",g="",k="",l="1.2",h=a.cookieWrite("s_cc","true",
0)?"Y":"N",m="",q="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l="1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;k=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;
try{a.b.addBehavior("#default#homePage"),m=a.b.kc(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=h;a.browserWidth=g;a.browserHeight=k;a.connectionType=q;a.homepage=m;a.bc=1}};a.Q={};a.loadModule=function(c,b){var d=a.Q[c];if(!d){d=h["AppMeasurement_Module_"+c]?new h["AppMeasurement_Module_"+c](a):{};a.Q[c]=a[c]=d;d.kb=function(){return d.ub};d.Ab=function(b){if(d.ub=
b)a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",{get:d.kb,set:d.Ab}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d))};a.u=function(c){var b,d;for(b in a.Q)if(!Object.prototype[b]&&(d=a.Q[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Ub=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Vb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,
d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.S=function(c,b){var d,f,e,g,k,h,m;m={};for(d=0;2>d;d++)for(f=0<d?a.Ga:a.g,e=0;e<f.length;e++)if(g=f[e],(k=c[g])||c["!"+g]){if(k&&!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(h in a[g])k[h]||(k[h]=a[g][h]);a[g]||(m["!"+g]=1);m[g]=a[g];a[g]=k}return m};a.hc=function(c){var b,
d,f,e;for(b=0;2>b;b++)for(d=0<b?a.Ga:a.g,f=0;f<d.length;f++)e=d[f],c[e]=a[e],c[e]||"prop"!==e.substring(0,4)&&"eVar"!==e.substring(0,4)&&"hier"!==e.substring(0,4)&&"list"!==e.substring(0,4)&&"channel"!==e&&"events"!==e&&"eventList"!==e&&"products"!==e&&"productList"!==e&&"purchaseID"!==e&&"transactionID"!==e&&"state"!==e&&"zip"!==e&&"campaign"!==e&&"events2"!==e&&"latitude"!==e&&"longitude"!==e&&"ms_a"!==e&&"contextData"!==e&&"supplementalDataID"!==e&&"tnt"!==e&&"timestamp"!==e&&"abort"!==e&&"useBeacon"!==
e&&"linkObject"!==e&&"clickObject"!==e&&"linkType"!==e&&"linkName"!==e&&"linkURL"!==e&&"bodyClickTarget"!==e&&"bodyClickFunction"!==e||(c["!"+e]=1)};a.Mb=function(a){var b,d,f,e,g,k=0,h,m="",n="";if(a&&255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(h=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?k=",q,ie,start,search_key,word,kw,cd,":
0<=e.indexOf("yahoo.co")?k=",p,ei,":0<=e.indexOf("baidu.")&&(k=",wd,word,"),k&&h)))){if((a=h.split("\x26"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("\x3d"),0<d&&0<=k.indexOf(","+e.substring(0,d)+",")?m+=(m?"\x26":"")+e:n+=(n?"\x26":"")+e;m&&n?h=m+"\x26"+n:n=""}d=253-(h.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+h}return a};a.eb=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=
0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ca=!1;a.H=!1;a.Cb=function(){a.H=!0;a.p()};a.I=!1;a.Db=function(c){a.marketingCloudVisitorID=c.MCMID;a.visitorOptedOut=c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.I=!1;a.p()};a.cb=function(c){a.maxDelay||(a.maxDelay=250);return a.u("_d")?(c&&setTimeout(function(){c()},a.maxDelay),
!1):!0};a.aa=!1;a.G=!1;a.Aa=function(){a.G=!0;a.p()};a.isReadyToTrack=function(){var c=!0;if(!a.ob()||!a.mb())return!1;a.qb()||(c=!1);a.tb()||(c=!1);return c};a.ob=function(){a.ca||a.H||(a.eb(a.Cb)?a.H=!0:a.ca=!0);return a.ca&&!a.H?!1:!0};a.mb=function(){var c=a.wa();if(c)if(a.ta||a.ba)if(a.ta){if(!c.isApproved(c.Categories.ANALYTICS))return!1}else return!1;else return c.fetchPermissions(a.vb,!0),a.ba=!0,!1;return!0};a.V=function(c){var b=a.wa();return b&&!b.isApproved(b.Categories[c])?!1:!0};a.wa=
function(){return h.adobe&&h.adobe.optIn?h.adobe.optIn:null};a.Y=!0;a.qb=function(){var c=a.T();if(!c||!c.getVisitorValues)return!0;a.Y&&(a.Y=!1,a.I||(a.I=!0,c.getVisitorValues(a.Db)));return!a.I};a.T=function(){var c=a.visitor;c&&!c.isAllowed()&&(c=null);return c};a.tb=function(){a.aa||a.G||(a.cb(a.Aa)?a.G=!0:a.aa=!0);return a.aa&&!a.G?!1:!0};a.ba=!1;a.vb=function(){a.ba=!1;a.ta=!0};a.j=q;a.q=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Hb=c;f.Gb=b;f.Eb=d;a.j==q&&(a.j=[]);a.j.push(f);
0==a.q&&(a.q=setInterval(a.p,100))};a.p=function(){var c;if(a.isReadyToTrack()&&(a.Bb(),a.j!=q))for(;0<a.j.length;)c=a.j.shift(),c.Gb.apply(c.Hb,c.Eb)};a.Bb=function(){a.q&&(clearInterval(a.q),a.q=0)};a.ua=function(c){var b,d={};a.hc(d);if(c!=q)for(b in c)d[b]=c[b];a.callbackWhenReadyToTrack(a,a.Fa,[d]);a.Da()};a.Ob=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*
e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.Fa=function(c){var b=new Date,d="s"+Math.floor(b.getTime()/108E5)%10+Math.floor(1E13*Math.random()),f=b.getYear(),f="t\x3d"+a.escape(b.getDate()+"/"+b.getMonth()+"/"+(1900>f?f+1900:f)+" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+" "+b.getDay()+" "+b.getTimezoneOffset()),e=a.T(),g;c&&(g=a.S(c,1));a.Vb()&&!a.visitorOptedOut&&(a.xa()||(a.fid=a.Ob()),a.Yb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),
a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(b.getTime()/1E3)),c=h.location,a.pageURL||(a.pageURL=c.href?c.href:c),a.referrer||a.$a||(c=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=c||void 0===c?void 0===c?"":c:p.document.referrer),a.$a=1,!a.referrer&&a.Z&&(a.referrer=a.Z),a.Z=0,a.referrer=a.Mb(a.referrer),a.u("_g")),a.Rb()&&!a.abort&&(e&&a.V("TARGET")&&!a.supplementalDataID&&e.getSupplementalDataID&&(a.supplementalDataID=e.getSupplementalDataID("AppMeasurement:"+
a._in,a.expectSupplementalData?!1:!0)),a.V("AAM")||(a.contextData["cm.ssf"]=1),a.Sb(),a.wb(),f+=a.Qb(),a.sb(d,f),a.u("_t"),a.referrer="")));a.referrer&&(a.Z=a.referrer);a.Da();g&&a.S(g,1)};a.t=a.track=function(c,b){b&&a.S(b);a.Y=!0;a.isReadyToTrack()?null!=a.j&&0<a.j.length?(a.ua(c),a.p()):a.Fa(c):a.ua(c)};a.wb=function(){a.writeSecureCookies&&!a.ssl&&a.ab()};a.ab=function(){a.contextData.excCodes=a.contextData.excCodes?a.contextData.excCodes:[];a.contextData.excCodes.push(1)};a.Da=function(){a.abort=
a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=h.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=a.useBeacon=a.referrer=0;a.contextData&&a.contextData.excCodes&&(a.contextData.excCodes=0)};a.Ca=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Ca.push([c,b]):a.debugTracking&&a.C("DEBUG: Non function type passed to registerPreTrackCallback")};a.hb=function(c){a.va(a.Ca,
c)};a.Ba=[];a.registerPostTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Ba.push([c,b]):a.debugTracking&&a.C("DEBUG: Non function type passed to registerPostTrackCallback")};a.gb=function(c){a.va(a.Ba,c)};a.va=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.C(g.message)}}};a.tl=a.trackLink=function(c,b,d,
f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.bodyClickTarget=c,a.bodyClickFunction=e);return a.track(f)};a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==
b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.sb=function(c,b){var d=a.ib()+"/"+c+"?AQB\x3d1\x26ndh\x3d1\x26pf\x3d1\x26"+(a.za()?"callback\x3ds_c_il["+a._in+"].doPostbacks\x26et\x3d1\x26":"")+b+"\x26AQE\x3d1";a.hb(d);a.fb(d);a.U()};a.ib=function(){var c=a.jb();return"http"+(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.za()?"10":"1")+"/JS-"+a.version+(a.ac?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.za=function(){return a.AudienceManagement&&
a.AudienceManagement.isReady()||0!=a.usePostbacks};a.jb=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=a.lb()+"."+c+".2o7.net");return b};a.lb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Za=/{(%?)(.*?)(%?)}/;a.gc=RegExp(a.Za.source,"g");a.Lb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=
c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.gc),e=0;e<f.length;++e){var g=f[e],k=g.match(a.Za),h="";"%"==k[1]&&"timezone_offset"==k[2]?h=(new Date).getTimezoneOffset():"%"==k[1]&&"timestampz"==k[2]&&(h=a.Pb());d.c=d.c.replace(g,a.escape(h))}}};a.Pb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.k(4,c.getFullYear())+"-"+a.k(2,c.getMonth()+1)+"-"+a.k(2,c.getDate())+"T"+a.k(2,c.getHours())+":"+a.k(2,c.getMinutes())+":"+a.k(2,c.getSeconds())+
(0<c.getTimezoneOffset()?"-":"+")+a.k(2,b.getUTCHours())+":"+a.k(2,b.getUTCMinutes())};a.k=function(a,b){return(Array(a+1).join(0)+b).slice(-a)};a.qa={};a.doPostbacks=function(c){if("object"==typeof c)if(a.Lb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=
c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.qa[d.id]=new Image,a.qa[d.id].alt="",a.qa[d.id].src=d.c)}};a.fb=function(c){a.i||a.Tb();a.i.push(c);a.ja=a.A();a.Ya()};a.Tb=function(){a.i=a.Wb();a.i||(a.i=[])};a.Wb=function(){var c,b;if(a.pa()){try{(b=h.localStorage.getItem(a.na()))&&(c=h.JSON.parse(b))}catch(d){}return c}};a.pa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&h.localStorage&&h.JSON||(c=!1);return c};a.Oa=function(){var c=
0;a.i&&(c=a.i.length);a.l&&c++;return c};a.U=function(){if(a.l&&(a.v&&a.v.complete&&a.v.D&&a.v.R(),a.l))return;a.Pa=q;if(a.oa)a.ja>a.N&&a.Wa(a.i),a.ra(500);else{var c=a.Fb();if(0<c)a.ra(c);else if(c=a.Ma())a.l=1,a.Xb(c),a.$b(c)}};a.ra=function(c){a.Pa||(c||(c=0),a.Pa=setTimeout(a.U,c))};a.Fb=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.A()-a.Ua;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ma=function(){if(0<a.i.length)return a.i.shift()};a.Xb=function(c){if(a.debugTracking){var b=
"AppMeasurement Debug: "+c;c=c.split("\x26");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.C(b)}};a.xa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.X=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(v){t=null}t&&"y"==t.x?(a.X=!0,a.W=function(a){return JSON.parse(a)}):h.$&&h.$.parseJSON?(a.W=function(a){return h.$.parseJSON(a)},a.X=!0):a.W=function(){return null};a.$b=function(c){var b,d,f;a.nb(c)&&(d=1,b={send:function(c){a.useBeacon=!1;navigator.sendBeacon(c)?b.R():
b.ha()}});!b&&a.xa()&&2047<c.length&&(a.bb()&&(d=2,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.X?b.Ha=!0:b=0));!b&&a.fc&&(c=c.substring(0,2047));!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=3):b=0);b||(b=new Image,b.alt="",
b.abort||"undefined"===typeof h.InstallTrigger||(b.abort=function(){b.src=q}));b.Va=Date.now();b.Ja=function(){try{b.D&&(clearTimeout(b.D),b.D=0)}catch(a){}};b.onload=b.R=function(){b.Va&&(a.ka=Date.now()-b.Va);a.gb(c);b.Ja();a.Jb();a.da();a.l=0;a.U();if(b.Ha){b.Ha=!1;try{a.doPostbacks(a.W(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.ha=function(){b.Ja();(a.trackOffline||a.oa)&&a.l&&a.i.unshift(a.Ib);a.l=0;a.ja>a.N&&a.Wa(a.i);a.da();a.ra(500)};b.onreadystatechange=function(){4==b.readyState&&
(200==b.status?b.R():b.ha())};a.Ua=a.A();if(1===d)b.send(c);else if(2===d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);else if(b.src=c,3===d){if(a.Sa)try{f.removeChild(a.Sa)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Sa=a.v}b.D=setTimeout(function(){b.D&&(b.complete?b.R():(a.trackOffline&&b.abort&&b.abort(),b.ha()))},5E3);a.Ib=c;a.v=h["s_i_"+a.replace(a.account,
",","_")]=b;if(a.useForcedLinkTracking&&a.J||a.bodyClickFunction)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ea=setTimeout(a.da,a.forcedLinkTrackingTimeout)};a.nb=function(c){var b=!1;navigator.sendBeacon&&(a.pb(c)?b=!0:a.useBeacon&&(b=!0));a.yb(c)&&(b=!1);return b};a.pb=function(a){return a&&0<a.indexOf("pe\x3dlnk_e")?!0:!1};a.yb=function(a){return 64E3<=a.length};a.bb=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?!0:!1};a.Jb=function(){if(a.pa()&&
!(a.Ta>a.N))try{h.localStorage.removeItem(a.na()),a.Ta=a.A()}catch(c){}};a.Wa=function(c){if(a.pa()){a.Ya();try{h.localStorage.setItem(a.na(),h.JSON.stringify(c)),a.N=a.A()}catch(b){}}};a.Ya=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ma()}};a.forceOffline=function(){a.oa=!0};a.forceOnline=function(){a.oa=!1};a.na=function(){return a.offlineFilename+"-"+a.visitorNamespace+a.account};a.A=function(){return(new Date).getTime()};
a.Qa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.ac=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.S(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=
0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:h.location);d=d?d:"\x26";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+
c+"\x3d"+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"\x3d");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){return document.documentMode?document.documentMode:a.ya()?7:null}};a.F="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.F.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.la="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.O=a.la.slice(0);a.Ga="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout writeSecureCookies useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData useBeacon usePostbacks registerPreTrackCallback registerPostTrackCallback bodyClickTarget bodyClickFunction AudienceManagement".split(" ");
for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.O.push("prop"+m)),a.g.push("eVar"+m),a.O.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.g=a.g.concat(m);a.F=a.F.concat(m);a.ssl=0<=h.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.writeSecureCookies=
!1;a.offlineThrottleDelay=0;a.offlineFilename="AppMeasurement.offline";a.P="s_sq";a.Ua=0;a.ja=0;a.N=0;a.Ta=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=h;a.d=h.document;a.da=function(){a.ea&&(h.clearTimeout(a.ea),a.ea=q);a.bodyClickTarget&&a.J&&a.bodyClickTarget.dispatchEvent(a.J);a.bodyClickFunction&&("function"==typeof a.bodyClickFunction?a.bodyClickFunction():a.bodyClickTarget&&a.bodyClickTarget.href&&(a.d.location=a.bodyClickTarget.href));a.bodyClickTarget=
a.J=a.bodyClickFunction=0};a.Xa=function(){a.b=a.d.body;a.b?(a.r=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Ia)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.r,!1);else{a.b.removeEventListener("click",a.r,!0);a.Ia=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.M&&a.M==a.clickObject||!(a.clickObject.tagName||a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=
0;else{var k=a.M=a.clickObject;a.ia&&(clearTimeout(a.ia),a.ia=0);a.ia=setTimeout(function(){a.M==k&&(a.M=0)},1E4);f=a.Oa();a.track();if(f<a.Oa()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Qa(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||h.name&&d==h.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=new h.MouseEvent}if(b){try{b.initMouseEvent("click",
c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.bodyClickTarget=c.target,a.J=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.r):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&a.d.createEvent||
0<=navigator.userAgent.indexOf("Firefox/2")&&h.MouseEvent)&&(a.Ia=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.r,!0)),a.b.addEventListener("click",a.r,!1))):setTimeout(a.Xa,30)};a.fc=a.ya();a.Kb();a.mc||(r?a.setAccount(r):a.C("Error, missing Report Suite ID in AppMeasurement initialization"),a.Xa(),a.loadModule("ActivityMap"))}function sgiFn(r){var a,h=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(h)for(q=0;!t&&q<h.length;){a=h[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==
r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=__s_gi;window.s_objectID||(window.s_objectID=0);function spgicqFn(){var r=window,a=r.s_giq,h,q,p;if(a)for(h=0;h<a.length;h++)q=a[h],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}spgicqFn();__s=new AppMeasurement("audiag.global.dev.test");
__s.trackingServer="dc.audi.com";__s.trackingServerSecure="dcs.audi.com";__s.trackDownloadLinks=false;__s.trackExternalLinks=false;__s.trackInlineStats=false;__s.writeSecureCookies=true;__s.linkDownloadFileTypes="";__s.linkInternalFilters="";__s.linkLeaveQueryString=false;__s.linkTrackVars="None";__s.linkTrackEvents="None";__s.visitor=window.Visitor.getInstance("097B467352782F130A490D45@AdobeOrg");__s.useBeacon=false;__s.usePlugins=true;__s.usePlugins=true;__s.doPlugins=function(s){var __s=s;var rsid=
"audiag.global.dev";try{if(Bootstrapper.ensightenOptions.nexus=="nexus.ensighten.com"&&digitalData.page.pageInfo.sysEnv=="prod"&&digitalData.page.attributes.applicationName=="myAudi 2.0")rsid="audiag.global.prod";s.account=rsid}catch(e){s.account="audiag.global.dev"}};Bootstrapper.notify("012 - AppMeasurement");__s.callbackWhenReadyToTrack(undefined,Bootstrapper.nanoAPI.adobeReadyCallback,[])}]);Bootstrapper.AF.push(["call","SiteCatalyst","block","__s"]);Bootstrapper.AF.push(["push","SiteCatalyst",
"ns","__s"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearData",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearData",function(){this.pre=[]}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearData"]);Bootstrapper.AF.push(["set","SiteCatalyst","clearVars",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"clearVars",function(){this.pre=this.pre||[];for(var i=0;i<this.pre.length;i++){var adobeVar=
this.pre[i][0];if(/^(channel|events|eventList|products|productList|purchaseID|transactionID|state|zip|campaign)$/.test(adobeVar)||/^(prop|eVar|hier|list)$/.test(adobeVar.substring(0,4))){this.pre.splice(this.pre.indexOf(i,1));i--}}}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVars"])},3970905,[3970912],538653,[730633],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName").indexOf("audi:oneshop-frontend-cart")===0){var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]},createProductVariables:function(prod){try{var sprod=[];for(var i=0;i<prod.length;i++)if(prod[i].productInfo.productID!==
"not available")sprod.push(prod[i].category.productType+";"+prod[i].productInfo.productID+";1;;;eVar90\x3did:"+prod[i].productInfo.productID+"~pn:"+prod[i].productInfo.productName+"~ma:"+prod[i].productInfo.manufacturer+"|eVar91\x3dpc:"+prod[i].category.primaryCategory+"~sc1:"+prod[i].category.subCategory1+"~pt:"+prod[i].category.productType+"|eVar92\x3dmy:"+prod[i].attributes.modelYear);return sprod}catch(e){Bootstrapper.notify("createProductVariable-Function-Error in 058 - OneShop - Cart - Feature App");
return""}}};var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var currentComponent=helperFunctions.getComp(compInd);if(["view_change","content"].indexOf(evAct)>-1){var cartArray=currentComponent&&currentComponent.products&&currentComponent.products.cart&&currentComponent.products.cart.item;var productVar=
Array.isArray(cartArray)?helperFunctions.createProductVariables(cartArray):"";if(productVar)faTracking.setVariable("products",productVar.join())}if(evAct==="view_change")faTracking.setVariable("eVar45",evName);Bootstrapper.notify("058 - OneShop - Cart - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"058 - OneShop - Cart - Error")}})},3873031,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],742799,[538665,538667,540513,543976,
549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["callback"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl",
"52936"]);Bootstrapper.AF.push(["join","__s","dl","53829"]);Bootstrapper.AF.push(["join","__s","dl","54420"]);Bootstrapper.AF.push(["join","__s","dl","54479"]);Bootstrapper.AF.push(["join","__s","dl","54459"]);Bootstrapper.AF.push(["join","__s","dl","57708"]);Bootstrapper.AF.push(["join","__s","dl","54499"]);Bootstrapper.AF.push(["join","__s","dl","65195"]);Bootstrapper.AF.push(["join","__s","dl","65196"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s",
"pre",[["events",function anon(){try{if(Bootstrapper.data.resolve("Manage.Event.eventName")==="car compare - comparison screen")return"event60";return""}catch(e){return""}}],["eVar100","033"],["eVar81",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"52936")}],["eVar82",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53829")}],["eVar86",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54420")}],["eVar84",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"54479")}],["eVar88",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54459")}],["eVar87",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"57708")}],["eVar85",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54499")}],["eVar89",function anon(){return"no target page available (callback event)"}],["eVar46",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65195")}],["eVar43",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"65196")}]]])})},3707696,[3954161],653876,[538663],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","configuration","content","download","email","exit_link","favorite","filter","form_error","form_field","impression","navigation","non_interaction","opt-in","order","page_load","search_result_click","search_result_load","step","tooltip","video"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;
Bootstrapper.analyticsHelper.nemo={getVtpProductContext:function(){try{var pages={DETAIL:".sc_detail",FORMLAYER:"name_form.html?vehicleid",VTP30:"vtp 3.0"};var makeSureProductIsArray=function(productinput){try{switch(typeof productinput){case "number":productOnDetail=_audiDataLayer.product[productinput]||"";return[productOnDetail];case "object":return[productinput];default:return""}}catch(e){return""}};var destinationURL=Bootstrapper.data.resolve("Manage.Page.destinationURL");var applicationName=
Bootstrapper.data.resolve("Manage.Page.applicationName");var relatedProductInEvent=Bootstrapper.data.resolve("Manage.Event.relatedProduct");var relatedProductInLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.relatedProduct");var eventNameFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.eventName")||"no context";var eventNameFromEvent=Bootstrapper.data.resolve("Manage.Event.eventName")||"no context";var componentFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.eVar88 - Click Tracking Details")||
"";var eventActionFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.eventAction");var eventActionFromEvent=Bootstrapper.data.resolve("Manage.Event.eventAction");var labelFromLocalStorage=Bootstrapper.data.resolve("Manage.localStorage.label");relatedProductInEvent=makeSureProductIsArray(relatedProductInEvent);relatedProductInLocalStorage=makeSureProductIsArray(relatedProductInLocalStorage);if(applicationName=="nemo"){if(destinationURL.indexOf(pages.FORMLAYER)>-1&&Array.isArray(JSON.parse(sessionStorage.getItem("currentVTPCarOnNeMo")))){var currentVTPCarOnNemo=
JSON.parse(sessionStorage.getItem("currentVTPCarOnNeMo"));return[currentVTPCarOnNemo,"vtp","generic"]}if((eventActionFromEvent==="step"||eventActionFromEvent==="page_load")&&(destinationURL.indexOf(pages.DETAIL)===-1&&destinationURL.indexOf(pages.FORMLAYER)===-1))sessionStorage.removeItem("currentVTPCarOnNeMo");if(destinationURL.indexOf(pages.DETAIL)>-1){if(Array.isArray(relatedProductInLocalStorage))return[relatedProductInLocalStorage,"vtp",eventNameFromLocalStorage];if(Array.isArray(relatedProductInEvent))return[relatedProductInEvent,
"vtp",eventNameFromEvent];var n=-1;for(var i=_audiDataLayer.product.length-1;i>=0;i--)if(_audiDataLayer.product[i].attributes!==undefined){n=i;break}var context=eventNameFromEvent;if(Array.isArray(relatedProductInLocalStorage))context=eventNameFromLocalStorage;if(n!==-1){sessionStorage.setItem("currentVTPCarOnNeMo",JSON.stringify([_audiDataLayer.product[n]]));return[[_audiDataLayer.product[n]],"vtp",context]}else return""}}if(destinationURL.indexOf(pages.DETAIL)>-1&&applicationName.indexOf(pages.VTP30)>
-1){if(/vtp consumption - layer close/.test(eventNameFromEvent))return"";if(Array.isArray(relatedProductInLocalStorage))return[relatedProductInLocalStorage,"vtp",eventNameFromLocalStorage];if(Array.isArray(relatedProductInEvent))return[relatedProductInEvent,"vtp",eventNameFromEvent];if(typeof _audiDataLayer.product[0]==="object")try{sessionStorage.setItem("currentVTPCar",JSON.stringify([_audiDataLayer.product[0]]));return[[_audiDataLayer.product[0]],"vtp",eventNameFromEvent]}catch(e){Bootstrapper.notify("Tag119 Push Product into sessionStorageError: "+
e);return[[_audiDataLayer.product[0]],"vtp",eventNameFromEvent]}return""}if(destinationURL.indexOf(pages.DETAIL)===-1&&applicationName.indexOf(pages.VTP30)>-1){if(eventNameFromLocalStorage==="vtp contact"&&Array.isArray(relatedProductInLocalStorage))sessionStorage.setItem("currentVTPCar",JSON.stringify(relatedProductInLocalStorage));if((eventActionFromEvent==="step"||eventActionFromEvent==="page_load")&&destinationURL.indexOf(pages.FORMLAYER)===-1)sessionStorage.removeItem("currentVTPCar");if(Array.isArray(relatedProductInLocalStorage))return[relatedProductInLocalStorage,
"vtp",eventNameFromLocalStorage];if(Array.isArray(relatedProductInEvent))return[relatedProductInEvent,"vtp",eventNameFromEvent];if(destinationURL.indexOf(pages.FORMLAYER)>-1&&Array.isArray(JSON.parse(sessionStorage.getItem("currentVTPCar")))){var currentVTPCar=JSON.parse(sessionStorage.getItem("currentVTPCar"));return[currentVTPCar,"vtp","generic"]}if(eventNameFromEvent==="vtp compare"||eventNameFromEvent==="vtp favorites"){if(Array.isArray(_audiDataLayer.product))if(_audiDataLayer.product.length>
0&&labelFromLocalStorage.indexOf("(0)")<0)return[_audiDataLayer.product,"vtp",eventNameFromEvent];return""}return""}}catch(e){Bootstrapper.notify("VTP product fetching tracking error: "+e);return""}},getCarCompareProductContext:function(){try{var comparedProducts=function(){if(_audiDataLayer&&_audiDataLayer.products&&_audiDataLayer.products&&_audiDataLayer.products.carCompare&&_audiDataLayer.products.carCompare.comparedVehicle&&_audiDataLayer.products.carCompare.comparedVehicle[0])return _audiDataLayer.products.carCompare;
else return""}();var currentEvent=_audiDataLayer.event[0];if(currentEvent.attributes&&currentEvent.attributes.componentName=="car compare"||currentEvent.eventInfo&&currentEvent.eventInfo.eventName.indexOf("car compare")>-1){if(currentEvent.eventInfo.eventName=="car compare - selection screen"||currentEvent.eventInfo.eventName=="car compare - click on 'what is an audi code?'"||currentEvent.eventInfo.eventName=="car compare - start screen"||currentEvent.eventInfo.eventName=="car compare - add to comparison - error")return"";
if(comparedProducts instanceof Object)return[comparedProducts,"car compare",currentEvent]}return""}catch(e){Bootstrapper.notify("CarCompare product fetching tracking error: "+e);return""}},getNeMoProductContext:function(){try{function getProducts(){var currentItems,addedItems,removedItems=[];if(_audiDataLayer&&_audiDataLayer.cart&&_audiDataLayer.cart.item&&_audiDataLayer.cart.item[0])currentItems=_audiDataLayer.cart.item;else return"";if(_audiDataLayer&&_audiDataLayer.event[0]&&_audiDataLayer.event[0].attributes&&
_audiDataLayer.event[0].attributes.relatedProducts){if(_audiDataLayer.event[0].attributes.relatedProducts.addedItems)addedItems=_audiDataLayer.event[0].attributes.relatedProducts.addedItems;if(_audiDataLayer.event[0].attributes.relatedProducts.removedItems)removedItems=_audiDataLayer.event[0].attributes.relatedProducts.removedItems}var products={currentItems:currentItems,addedItems:addedItems,removedItems:removedItems};return products}var configFinish=Bootstrapper.data.resolve("Manage.Adobe.nemo - config finish")||
false;var eventNameFromEvent=Bootstrapper.data.resolve("Manage.Event.eventName")||"no context";var pageType=Bootstrapper.data.resolve("Manage.Page.pageType")||"";var modelShortCode=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Shortcode");if((eventNameFromEvent==="configuration_start"||eventNameFromEvent==="configurator - configuration start")&&modelShortCode!==""&&pageType!=="configurableHome")return[getProducts(),"nemo","nemo_config_start"];else if(eventNameFromEvent==="configurator - configuration change")return[getProducts(),
"nemo","nemo_config_change"];else if(configFinish)return[getProducts(),"nemo","nemo_config_finish"];else if(eventNameFromEvent==="acc ave stream ready")return[getProducts(),"nemo","ave_stream_event"];return""}catch(e){Bootstrapper.notify("NEMO product fetching tracking error: "+e);return""}},getVTPFilterValues:function(input){try{if(!Array.isArray(input)&&input.length<1)return"";var listvariable=[];input.forEach(function(element){var id=element.id.split(".");var values=element.values;if(id[0]==="geo")if(Bootstrapper.data.resolve("Manage.Event.eventName")===
"remove filter")listvariable.push("fna:geo~fva:no value available");else switch(values.length){case 1:listvariable.push("fna:geo~fva:"+values[0]);break;case 5:listvariable.push("fna:geo~fva:"+values[4]);break;default:break}else{if(id.length===1&&values.length===0)listvariable.push("fna:"+id+"~fva:no value available");else if(id.length>1&&values.length===0)listvariable.push("fna:"+id[0]+"~fva:"+id[1]);if(values.length!==0){if(values[0]==="")values[0]="nomin";if(values[1]==="")values[1]="nomax";if(id.length===
1)listvariable.push("fna:"+id[0]+"~fva:no value available~fra:"+values[0]+"-"+values[1]+"~fmin:"+values[0]+"~fmax:"+values[1]);if(id.length>1)listvariable.push("fna:"+id[0]+"~fva:"+id[1]+"~fra:"+values[0]+"-"+values[1]+"~fmin:"+values[0]+"~fmax:"+values[1])}}});return listvariable.join(";")}catch(e){Bootstrapper.notify("getFilterValues-Function Error:"+e);return""}},getConfiguratorPrices:function(priceType){try{if(_audiDataLayer.cart&&_audiDataLayer.cart.price)return _audiDataLayer.cart.price[priceType]||
"";else return""}catch(e){Bootstrapper.notify("getConfiguratorPrices-Function Error:"+e)}},getSearchEventsOnVTP:function(){if(Bootstrapper.data.resolve("Manage.Page.Global - VTP30 - ResultComponentOnVTP"))return"event28,event26\x3d"+Bootstrapper.data.resolve("Manage.Search.results");else return""}}})},3976135,[3413868,3977641],605647,[591539,671326],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function suppressEvent(){_audiDataLayer.event[0].eventInfo.eventAction="event removed";Bootstrapper.notify("191 - suppress small layers");var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",
tagIDs+"191,")}var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var curPage=Bootstrapper.data.resolve("Manage.Page.pageID");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if((eventAction==="step"||eventAction==="page_load")&&curPage.indexOf("/new-save-configuration")>-1&&eventName==="generic")suppressEvent();if(eventAction==="step"){var prevPage=Bootstrapper.data.resolve("Manage.localStorage.eVar38 - Previous Page");var applicationname=Bootstrapper.data.resolve("Manage.Page.applicationName");
var localStorageEventName=Bootstrapper.data.resolve("Manage.localStorage.eventName");var prevClickPage=Bootstrapper.data.resolve("Manage.localStorage.eVar83 - Current Page");var pageHasPageViewRequest=Bootstrapper.getVariable("pageHasPageViewRequest");Bootstrapper.notify(prevPage,curPage,pageHasPageViewRequest);var closeFinanceLayer=eventName=="vtp details"&&eventAction=="step"&&prevClickPage=="vtp finance";if(prevPage===curPage&&pageHasPageViewRequest===true&&localStorageEventName!=="vtp apply finance calculation"&&
eventName!=="vtp finance"&&closeFinanceLayer!==true)suppressEvent()}})},3842185,[3911898],591374,[538671],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["anchor","call","configuration","content","download","exit_link","favorite","filter","internal_link","layer_open_click","non_interaction","opt-in","page_load","step","tooltip","view_change","order"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function triggerEvent(name){if(typeof name==="string")Bootstrapper.bindPageSpecificCompletion(function(){Bootstrapper.ensEvent.trigger(name);
Bootstrapper.notify("Trigger Ensighten event: "+name)})}try{var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction"),eventName=Bootstrapper.data.resolve("Manage.Event.eventName"),componentName=Bootstrapper.data.resolve("Manage.Event.componentName"),pageID=Bootstrapper.data.resolve("Manage.Page.pageID"),pageType=Bootstrapper.data.resolve("Manage.Page.pageType"),applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName"),displayType=Bootstrapper.data.resolve("Manage.Page.displayType"),
modelShortcode=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Shortcode"),modelLine=Bootstrapper.data.resolve("Manage.Product.Global - NeMo - Model Line"),configFinish=Bootstrapper.data.resolve("Manage.Adobe.nemo - config finish"),searchName=Bootstrapper.data.resolve("Manage.Search.name"),market=Bootstrapper.data.resolve("Manage.Page.market");if(modelLine==="TRON")modelLine="E-TRON";if(modelLine==="ETRON")modelLine="E-TRON";if(modelLine==="ETRONGT")modelLine="E-TRON-GT";if(!Bootstrapper.getVariable("workaroundStepEvent")){if(eventAction===
"step"||eventAction==="page_load"){if(applicationName==="nemo"||pageType==="configurableHome")triggerEvent("Global - NeMo - Model and Configurator Pages and Steps");else if(applicationName==="cms"&&pageType!="configurableHome")triggerEvent("Global - NeMo - CMS Pages and Steps");else if(applicationName.indexOf("vtp 3.0-new")==0){triggerEvent("Global - VTP 3.0 New - All Pages and Steps");triggerEvent("Global - VTP 3.0 - All Pages and Steps")}else if(applicationName.indexOf("vtp 3.0-used")==0){triggerEvent("Global - VTP 3.0 Used - All Pages and Steps");
triggerEvent("Global - VTP 3.0 - All Pages and Steps")}if(pageType==="configurableHome"&&displayType==="default"){triggerEvent("Global - NeMo - Fascination Page");triggerEvent("Global - NeMo - Model Line "+modelLine);triggerEvent("Global - NeMo - Shortcode "+modelShortcode)}else if(pageType==="configurableModel"&&displayType==="default"){triggerEvent("Global - NeMo - Configuration Steps");triggerEvent("Global - NeMo - Model Line "+modelLine);triggerEvent("Global - NeMo - Shortcode "+modelShortcode)}else if(pageType===
"configurationSummary"&&displayType==="default"){triggerEvent("Global - NeMo - Configuration Summary");triggerEvent("Global - NeMo - Model Line "+modelLine);triggerEvent("Global - NeMo - Shortcode "+modelShortcode)}else if(pageType==="modelFinder"&&displayType==="default")triggerEvent("Global - NeMo - Model Finder");else if(searchName==="main search")triggerEvent("Global - NeMo - Main Search Results Page");else if(pageID==="homepage")triggerEvent("Global - NeMo - Homepage");if(eventName==="dealer-inquiry - form start"&&
applicationName.indexOf("vtp 3.0")>-1)triggerEvent("Global - VTP 3.0 - Dealer Inquiry Form Start");if(eventName==="dealer-inquiry - form finish"&&applicationName.indexOf("vtp 3.0")>-1)triggerEvent("Global - VTP 3.0 - Dealer Inquiry Form Finish")}if((eventAction==="step"||eventAction==="page_load")&&/configurableModel|configurationSummary/.test(pageType)&&displayType==="layer")if(document.location.href.indexOf("show_audicode")>-1)triggerEvent("Global - NeMo - Show Audi Code");else if(document.location.href.indexOf("carstore_save")>
-1||document.location.href.indexOf("save-configuration")>-1)triggerEvent("Global - NeMo - Configuration Save")}if(configFinish){var firstConfigFinish=Bootstrapper.getVariable("firstConfigFinish");if(!(document.location.href.indexOf("show_audicode")>-1&&typeof document.getElementsByClassName("nm-j-audicode")[0]=="object"&&document.getElementsByClassName("nm-j-audicode")[0].innerText.length>0)){triggerEvent("Global - NeMo - Configuration Finish");if(!firstConfigFinish){triggerEvent("Global - NeMo - Configuration Finish Once per Start");
Bootstrapper.setVariable("firstConfigFinish",true)}}}else if(eventName==="configurator - configuration start")triggerEvent("Global - NeMo - Configuration Start");if(eventAction==="internal_link")if(eventName==="main search - quick search result click")triggerEvent("Global - NeMo - Main Search - Quick Search Result Click");if(eventAction==="call"){if(applicationName.indexOf("vtp 3.0-new")==0)triggerEvent("Global - VTP 3.0 New - Phone Link Click");if(applicationName.indexOf("vtp 3.0-used")==0)triggerEvent("Global - VTP 3.0 Used - Phone Link Click")}if(applicationName.indexOf("vtp 3.0")>
-1)if(eventName==="vtp audi code")triggerEvent("Global - VTP 3.0 - Click on Audi Code");else if(eventName==="vtp add to favorites")triggerEvent("Global - VTP 3.0 - Add to Favorites");else if(eventName==="vtp print")triggerEvent("Global - VTP 3.0 - Click on Print");else if(eventName==="vtp contact")triggerEvent("Global - VTP 3.0 - Click on Contact");else if(eventName==="vtp click on live consulting"){triggerEvent("Global - VTP 3.0 - Click on Live Consulting");switch(true){case applicationName.indexOf("vtp 3.0-new")==
0:{triggerEvent("Global - VTP 3.0 new - Click on Live Consulting");break}case applicationName.indexOf("vtp 3.0-used")==0:{triggerEvent("Global - VTP 3.0 used - Click on Live Consulting");break}}}else if(eventName==="vtp click on oneaudi shop")triggerEvent("Global - VTP 3.0 - Click on oneAudi Shop");else if(eventName==="vtp details"){triggerEvent("Global - VTP 3.0 - Detail Page");switch(true){case applicationName.indexOf("vtp 3.0-new")==0:{triggerEvent("Global - VTP 3.0 new - Detail Page");break}case applicationName.indexOf("vtp 3.0-used")==
0:{triggerEvent("Global - VTP 3.0 used - Detail Page");break}}}else if(eventName==="vtp neuwagenboerse"&&market==="DE")triggerEvent("DE - VTP 3.0 New - Start Page");else if(eventName==="vtp ergebnisse"&&market==="DE")triggerEvent("DE - VTP 3.0 - Result Page");else if(eventName==="vtp voitures-occasion"&&market==="FR")triggerEvent("FR - VTP 3.0 Used - Start Page");else if(eventName==="vtp nouvelles-voitures"&&market==="FR")triggerEvent("FR - VTP 3.0 New - Start Page");else if(eventName==="vtp resultats"&&
market==="FR")triggerEvent("FR - VTP 3.0 Used - Result Page");else if(eventName==="vtp results"&&market==="FR")triggerEvent("FR - VTP 3.0 New - Result Page");else if(eventName==="vtp hitta-begagnade-audi"&&market==="SE")triggerEvent("SE - VTP 3.0 Used - Start Page");else if(eventName==="vtp resultat"&&market==="SE")triggerEvent("SE - VTP 3.0 - Result Page");if(pageID==="business-edition"&&market==="PL"&&(eventAction==="anchor"||eventName==="drawer open"||componentName==="mediatext-combination-fullwidth-framed"||
componentName==="numbers"))triggerEvent("PL - CMS - Clicks on Business Edition Landing Page");if(eventAction==="filter"&&applicationName.indexOf("vtp 3.0")>-1)triggerEvent("Global - VTP 3.0 New - Filter Action");if(eventAction==="opt-in")triggerEvent("Global - All - Consent Change");if(eventAction==="page_load")triggerEvent("Global - All - Page Load");if(document.location.hostname.indexOf("pre-www.audi.")>-1){if(eventAction==="page_load")triggerEvent("Global - NeMo - Pre-Live Page Loads");if(eventAction===
"step")triggerEvent("Global - NeMo - Pre-Live Steps")}if(eventAction==="page_load"||eventAction==="step"||eventAction==="view_change")if(eventName.indexOf("- form start")>-1&&eventName.indexOf("error")===-1)if(applicationName.indexOf("vtp 3.0")>-1){triggerEvent("Global - VTP 3.0 - Form Start");if(applicationName.indexOf("vtp 3.0-new")>-1)triggerEvent("Global - VTP 3.0 New - Form Start");else if(applicationName.indexOf("vtp 3.0-used")>-1)triggerEvent("Global - VTP 3.0 Used - Form Start")}else{if(applicationName===
"nemo")triggerEvent("Global - NeMo - Form Start")}else if(eventName.indexOf("- form finish")>-1)if(applicationName.indexOf("vtp 3.0")>-1){triggerEvent("Global - VTP 3.0 - Form Finish");if(applicationName.indexOf("vtp 3.0-new")>-1)triggerEvent("Global - VTP 3.0 New - Form Finish");else if(applicationName.indexOf("vtp 3.0-used")>-1)triggerEvent("Global - VTP 3.0 Used - Form Finish")}else if(applicationName==="nemo")triggerEvent("Global - NeMo - Form Finish");if(eventName==="oneShop - product detail page view")triggerEvent("Global - OneShop - product detail page view");
if(eventName==="oneShop - cart page view")triggerEvent("Global - OneShop - cart page view");if(eventName==="StepPersonalData")triggerEvent("Global - OneShop - step personal data");if(eventName==="oneShop - order successful")triggerEvent("Global - OneShop - order successful");if(eventAction==="non_interaction"&&eventName==="30 seconds on page after entry")triggerEvent("Global - All - 30 seconds on page after entry")}catch(e){Bootstrapper.notify("NeMo Event Listener error: "+e)}})},3977183,597763,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["page_load"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if(Bootstrapper.analyticsHelper.isNextGenConfiUrl()&&eventName==="generic"){Bootstrapper.setVariable("suppressPageView",true);var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||
"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"170,");Bootstrapper.notify("170 - suppress page views")}})},3969162,[3939418],757990,[538665],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");if(eventName==="teaser click"&&eventAction!=="download"){Bootstrapper.notify("197 - Delete teaser headline in value");
window._audiDataLayer.event[0].attributes.value="";var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"197,")}}catch(e){Bootstrapper.analyticsError.report(e,"197 - Error")}})},3400502,592382,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["click","internal_link","layer_close_click","layer_open_click"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){try{Bootstrapper.notify("087 - click / internal_link / layer_open_click / layer_close_click to storage")}catch(e){}try{var eventObject=window._audiDataLayer.event[0];if(typeof eventObject===
"object"){var eventInfo=eventObject.eventInfo||{};var attributes=eventObject.attributes||{};var featureAppName="";var featureAppID="";var elementName="";var elementValue="";if(eventObject.attributes&&eventObject.attributes.featureAppName&&eventObject.attributes.featureAppId){featureAppName=eventObject.attributes.featureAppName;featureAppID=eventObject.attributes.featureAppId}if(eventObject.attributes&&eventObject.attributes.relatedComponent&&eventObject.attributes.relatedComponent.featureAppName){featureAppName=
eventObject.attributes.relatedComponent.featureAppName;featureAppID=eventObject.attributes.relatedComponent.featureAppID}if(eventObject.attributes&&eventObject.attributes.relatedElements&&eventObject.attributes.relatedElements[0].elementName&&eventObject.attributes.relatedElements[0].elementValue){elementName=eventObject.attributes.relatedElements[0].elementName;elementValue=eventObject.attributes.relatedElements[0].elementValue}var event={eventInfo:{eventAction:eventInfo.eventAction||"",eventName:eventInfo.eventName||
"",type:eventInfo.type||""},attributes:{componentName:attributes.componentName||"",label:attributes.label||"",currentURL:attributes.currentURL||"",targetURL:attributes.targetURL||"",clickID:attributes.clickID||"",elementName:attributes.elementName||"",value:attributes.value||"",pos:attributes.pos||"",actionType:attributes.actionType||""}};if(featureAppName!==""&&featureAppID!=="")event.attributes.relatedComponent={featureAppName:featureAppName||"",featureAppID:featureAppID||""};if(elementName!==""&&
elementValue!=="")event.attributes.relatedElements=[{elementName:elementName,elementValue:elementValue}];var searchObject=window._audiDataLayer.search;if(typeof searchObject==="object"&&eventInfo.eventName.indexOf("- result click")>-1)event.search={name:searchObject.name||"",results:searchObject.results||"",term:searchObject.term||""};if(event.eventInfo.eventAction=="click"){event.attributes.targetURL=event.attributes.href||"";event.attributes.componentName=event.eventInfo.type||""}if(typeof event.attributes.currentURL==
"undefined")event.attributes.currentURL=Bootstrapper.getVariable("prev_url");if(typeof eventObject.attributes.relatedComponent==="string")event.attributes.relatedComponent=eventObject.attributes.relatedComponent;event.attributes.label=event.attributes.label.substring(0,256);event.attributes.currentURL=event.attributes.currentURL.substring(0,256);event.attributes.targetURL=event.attributes.targetURL.substring(0,256);var lastStep=Bootstrapper.getVariable("lastStep");if(lastStep!==null)event.eventInfo.stepName=
lastStep;var eventName=event.eventInfo.eventName;if(eventName.indexOf("layer open")>-1||eventName.indexOf("layer close")>-1){if(attributes.relatedProduct)event.attributes.relatedProduct=attributes.relatedProduct;if(attributes.relatedFilter)event.attributes.relatedFilter=attributes.relatedFilter;Bootstrapper.setVariable("lc",event)}else{Bootstrapper.analyticsStorage.setSessionItem("lc",JSON.stringify(event));Bootstrapper.analyticsStorage.setPrefixedCookie("lc",JSON.stringify(event),18E5);Bootstrapper.analyticsStorage.setPrefixedCookie("prev",
JSON.stringify(Bootstrapper.analyticsHelper.getPrevValue()))}}}catch(e){Bootstrapper.analyticsError.report(e,"087 - Error")}})()})},3826408,[3373775],540513,[625362],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName").indexOf("fa-axs-ngc")===0||Bootstrapper.data.resolve("Manage.Event.eventAction")==="opt-in"&&Bootstrapper.analyticsHelper.isNextGenConfiUrl()){var helpFn={base_getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]},
base_setProductsStructure:function(product,merchEvents,mercheVars){var cat=product.category.productType;var pro=product.productInfo.productID;return helpFn.base_clearFuncCh(cat)+";"+helpFn.base_clearFuncCh(pro)+";"+";"+";"+merchEvents+";"+mercheVars},base_clearFuncCh:function(string){if(typeof string==="string")return string.replace(/,/g,".").replace(/;/g,".").replace(/\|/g," ").replace(/\s\s+/g," ").replace(/^ /,"").replace(/ $/,"");else return string},base_clearPrice:function(price){if(typeof price==
"number")return price;if(typeof price=="string")return price.replace(/,/g,".").replace(/\s/g,"").replace(/[a-zA-z]/g,"").replace(/;/g,"").replace(/\|/g,"");return""},base_eVarCombineFunc:function(eVarObject){var finalString=[];Object.keys(eVarObject).forEach(function(o){finalString.push(o+"\x3d"+helpFn.base_clearFuncCh(eVarObject[o]))});return finalString.join("|")},base_getSerializationID:function(){var sessionID=Bootstrapper.data.resolve("Manage.localStorage.sessionID");var carInf=Bootstrapper.analyticsHelper.hashCode(dl_vehicle.category.primaryCategory,
5);return sessionID+carInf},base_getSerializationIDforClicks:function(eventName){var sessionID=Bootstrapper.data.resolve("Manage.localStorage.sessionID");var carInf=Bootstrapper.analyticsHelper.hashCode(dl_vehicle.category.primaryCategory,5);var interaction=Bootstrapper.analyticsHelper.hashCode(eventName,3);return sessionID+carInf+interaction},stage1_getMainVehicle:function(){if(window.digitalData.product&&Array.isArray(window.digitalData.product)&&window.digitalData.product[window.digitalData.product.length-
1].configuredVehicle&&Array.isArray(window.digitalData.product[window.digitalData.product.length-1].configuredVehicle)&&window.digitalData.product[window.digitalData.product.length-1].configuredVehicle[0].productInfo&&window.digitalData.product[window.digitalData.product.length-1].configuredVehicle[0].category&&window.digitalData.product[window.digitalData.product.length-1].configuredVehicle[0].price&&window.digitalData.product[window.digitalData.product.length-1].configuredVehicle[0].attributes)return window.digitalData.product[window.digitalData.product.length-
1].configuredVehicle[0];else{Bootstrapper.notify("061 - NextGenConfi by SII - stage1_getMainVehicle -\x3e No Main Vehicle");return""}},stage1_getCarParts:function(){var mainVehicle=helpFn.stage1_getMainVehicle();if(Array.isArray(mainVehicle.carParts))return mainVehicle.carParts;else{Bootstrapper.notify("061 - NextGenConfi by SII - stage1_getCarParts -\x3e No Car Parts");return""}},stage1_getPackages:function(){var mainVehicle=helpFn.stage1_getMainVehicle();if(Array.isArray(mainVehicle.packages))return mainVehicle.packages;
else{Bootstrapper.notify("061 - NextGenConfi by SII - getPackage -\x3e No Packages");return""}},stage1_getRelatedProducts:function(){if(_audiDataLayer.event[0].attributes.relatedProducts&&_audiDataLayer.event[0].attributes&&_audiDataLayer.event[0].attributes.relatedProducts)return _audiDataLayer.event[0].attributes.relatedProducts;return""},stage1_getRemovedRelatedCarParts:function(){var remParts=[];var relProd=helpFn.stage1_getRelatedProducts();if(relProd&&relProd.removedItems&&relProd.removedItems.carParts){var carParts=
relProd.removedItems.carParts;if(carParts&&Array.isArray(carParts))carParts.forEach(function(e){remParts.push(e)})}return remParts},stage1_getRemovedRelatedPackages:function(){var remPackages=[];var relProd=helpFn.stage1_getRelatedProducts();if(relProd&&relProd.removedItems&&relProd.removedItems.packages){var packageCarParts=relProd.removedItems.packages;if(packageCarParts&&Array.isArray(packageCarParts))packageCarParts.forEach(function(e){remPackages.push(e)})}return remPackages},stage1_getAddedRelatedCarParts:function(){var addPart=
[];var relProd=helpFn.stage1_getRelatedProducts();if(relProd&&relProd.addedItems&&relProd.addedItems.carParts){var carParts=relProd.addedItems.carParts;if(carParts&&Array.isArray(carParts))carParts.forEach(function(e){addPart.push(e)})}return addPart},stage1_getAddedRelatedPackages:function(){var addPackage=[];var relProd=helpFn.stage1_getRelatedProducts();if(relProd&&relProd.addedItems&&relProd.addedItems.packages){var packageCarParts=relProd.addedItems.packages;if(packageCarParts&&Array.isArray(packageCarParts))packageCarParts.forEach(function(e){addPackage.push(e)})}return addPackage},
stage2_setBasiceVarObjectForMainVehicle:function(vehicle){var prodeVars={eVar90:"pn:"+vehicle.productInfo.productName,eVar91:"pc:"+vehicle.category.primaryCategory+"~sc1:"+vehicle.category.subCategory1+"~cis:configured car",eVar92:"ml:"+vehicle.attributes.modelLine+"~my:"+vehicle.attributes.modelYear+"~bt:"+vehicle.attributes.bodyType,eVar93:"en:"+vehicle.attributes.engine,eVar95:"pp:"+vehicle.price.totalPrice+"~pr:"+vehicle.price.rateTotalPrice+"~pbp:"+vehicle.price.modelPrice+"~otp:"+vehicle.price.optionsPrice};
return prodeVars},stage2_setBasiceVarObjectForCarPart:function(cpart){var carParteVars={eVar90:"pn:"+cpart.productInfo.productName+"~id:"+cpart.productInfo.productID,eVar91:"pc:"+cpart.category.primaryCategory+"~se:"+cpart.attributes.isStandardEquipment,eVar95:"pp:"+cpart.price.price};return carParteVars},stage2_setlistVar3:function(prod){var pr=prod.price.totalPrice||prod.price.price;var listVar3String="pr*pi:"+prod.productInfo.productID+"~pp:"+pr+"~pn:"+prod.productInfo.productName;return listVar3String},
stage2_setConfigStartPrices:function(price){Bootstrapper.setVariable("config_start_prices",price)},stage2_getConfigStartPrices:function(){return Bootstrapper.getVariable("config_start_prices")},stage2_isConfigStarted:function(){return Bootstrapper.getVariable("startedNextGenConfig")},stage2_setStartedConfigFlag:function(){Bootstrapper.setVariable("startedNextGenConfig",true)},stage2_seteVar48:function(){var localeApplication="dom|"+Bootstrapper.data.resolve("Manage.URL.hostname")+";"+"cc|"+Bootstrapper.data.resolve("Manage.Page.market")+
";"+"lang|"+Bootstrapper.data.resolve("Manage.Page.language")+";"+"sa|product portal;"+"app|nemo;"+"ver|"+Bootstrapper.data.resolve("Manage.Page.applicationVersion")+";"+"pla|"+Bootstrapper.data.resolve("Manage.Page.platform");return localeApplication}};var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");
var currentComponent=helpFn.base_getComp(compInd);var dl_vehicle=helpFn.stage1_getMainVehicle();var dl_carParts=helpFn.stage1_getCarParts();var dl_packages=helpFn.stage1_getPackages();var prod=[];var events=[];var eVar96=[];var listVar3=[];switch(true){case evName==="configurator - summary page"&&helpFn.stage2_isConfigStarted():var mainProducteVarObject=helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));
listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=carParteVarObject.eVar91+"~pg:single item"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,merchEvents,helpFn.base_eVarCombineFunc(carParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=
helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=packageeVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(pack,"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+"~pg:package"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,
merchEvents,helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});events.push("event341");events.push("event8");events.push("event89");if(dl_vehicle.price.totalPrice)events.push("event333\x3d"+dl_vehicle.price.totalPrice);events.push("event67\x3d"+dl_vehicle.price.totalPrice+":"+helpFn.base_getSerializationID());if(dl_vehicle.price.modelPrice)events.push("event335\x3d"+dl_vehicle.price.modelPrice+",event71\x3d"+dl_vehicle.price.modelPrice);if(dl_vehicle.price.optionsPrice)events.push("event337\x3d"+
dl_vehicle.price.optionsPrice+",event72\x3d"+dl_vehicle.price.optionsPrice);if(dl_vehicle.price.rateTotalPrice)events.push("event339\x3d"+dl_vehicle.price.rateTotalPrice);eVar96.push("cur:"+dl_vehicle.price.currency+"~tp:"+dl_vehicle.price.totalPrice+"~rtp:"+dl_vehicle.price.rateTotalPrice+"~bp:"+dl_vehicle.price.modelPrice+"~op:"+dl_vehicle.price.optionsPrice);faTracking.setVariable("eVar30","YourAudiPageOpened");break;case evName==="configurator - start (state before change)":var mainProducteVarObject=
helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=carParteVarObject.eVar91+"~pg:single item"+"~cis:before change";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,
merchEvents,helpFn.base_eVarCombineFunc(carParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=packageeVarObject.eVar91+"~pg:package"+"~cis:before change";prod.push(helpFn.base_setProductsStructure(pack,"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);
packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+"~pg:package"+"~cis:before change";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,merchEvents,helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});events.push("event341");if(dl_vehicle.price.totalPrice)events.push("event343\x3d"+dl_vehicle.price.totalPrice);if(dl_vehicle.price.modelPrice)events.push("event345\x3d"+dl_vehicle.price.modelPrice);
if(dl_vehicle.price.optionsPrice)events.push("event347\x3d"+dl_vehicle.price.optionsPrice);if(dl_vehicle.price.rateTotalPrice)events.push("event349\x3d"+dl_vehicle.price.rateTotalPrice);events.push("event7","event66:"+helpFn.base_getSerializationID(),"event79:"+helpFn.base_getSerializationID());eVar96.push("cur:"+dl_vehicle.price.currency+"~ptp:"+dl_vehicle.price.totalPrice+"~prp:"+dl_vehicle.price.rateTotalPrice+"~pbp:"+dl_vehicle.price.modelPrice+"~pop:"+dl_vehicle.price.optionsPrice);helpFn.stage2_setConfigStartPrices(dl_vehicle.price);
helpFn.stage2_setStartedConfigFlag();break;case evName==="configurator - start (state after change)":var isAdded=false;var isRemoved=false;var mainProducteVarObject=helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=
carParteVarObject.eVar91+"~pg:single item"+"~cis:current";var merchEvents=[];merchEvents.push("event341\x3d"+part.price.price);prod.push(helpFn.base_setProductsStructure(part,merchEvents.join("|"),helpFn.base_eVarCombineFunc(carParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=packageeVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(pack,
"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+"~pg:package"+"~cis:current";var merchEvents=[];merchEvents.push("event341\x3d"+part.price.price);prod.push(helpFn.base_setProductsStructure(part,merchEvents.join("|"),helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});
var dl_addedProducts=helpFn.stage1_getAddedRelatedCarParts();dl_addedProducts.forEach(function(addpro){var merchEvents=[];var addedProducteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(addpro);addedProducteVarObject.eVar91=addedProducteVarObject.eVar91+"~pg:single item"+"~cis:added";merchEvents.push("event69");merchEvents.push("event341\x3d"+addpro.price.price);isAdded=true;prod.push(helpFn.base_setProductsStructure(addpro,merchEvents.join("|"),helpFn.base_eVarCombineFunc(addedProducteVarObject)))});
var dl_addedPackages=helpFn.stage1_getAddedRelatedPackages();dl_addedPackages.forEach(function(addedPack){var addedPackageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(addedPack);addedPackageeVarObject.eVar91=addedPackageeVarObject.eVar91+"~pg:package"+"~cis:added";var merchEvents=[];merchEvents.push("event341\x3d"+addedPack.price.price);merchEvents.push("event69");isAdded=true;prod.push(helpFn.base_setProductsStructure(addedPack,merchEvents.join("|"),helpFn.base_eVarCombineFunc(addedPackageeVarObject)));
addedPack.carParts.forEach(function(addedPackagePart){var addedPackageCarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(addedPackagePart);addedPackageCarParteVarObject.eVar91=addedPackageCarParteVarObject.eVar91+"~pg:package"+"~cis:added";var merchEvents=[];merchEvents.push("event341\x3d"+addedPackagePart.price.price);merchEvents.push("event69");isAdded=true;prod.push(helpFn.base_setProductsStructure(addedPackagePart,merchEvents.join("|"),helpFn.base_eVarCombineFunc(addedPackageCarParteVarObject)))})});
var dl_removedProducts=helpFn.stage1_getRemovedRelatedCarParts();dl_removedProducts.forEach(function(removedPro){var merchEvents=[];var removedProductseVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(removedPro);removedProductseVarObject.eVar91=removedProductseVarObject.eVar91+"~pg:single item"+"~cis:removed";merchEvents.push("event70");merchEvents.push("event341\x3d"+removedPro.price.price);isAdded=true;prod.push(helpFn.base_setProductsStructure(removedPro,merchEvents.join("|"),helpFn.base_eVarCombineFunc(removedProductseVarObject)))});
var dl_RemovedPackages=helpFn.stage1_getRemovedRelatedPackages();dl_RemovedPackages.forEach(function(removedPack){var removedPackageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(removedPack);removedPackageeVarObject.eVar91=removedPackageeVarObject.eVar91+"~pg:package"+"~cis:removed";var merchEvents=[];merchEvents.push("event341\x3d"+removedPack.price.price);merchEvents.push("event70");isRemoved=true;prod.push(helpFn.base_setProductsStructure(removedPack,merchEvents.join("|"),helpFn.base_eVarCombineFunc(removedPackageeVarObject)));
removedPack.carParts.forEach(function(removedPackagePart){var removedPackageCarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(removedPackagePart);removedPackageCarParteVarObject.eVar91=removedPackageCarParteVarObject.eVar91+"~pg:package"+"~cis:removed";var merchEvents=[];merchEvents.push("event341\x3d"+removedPackagePart.price.price);merchEvents.push("event70");isRemoved=true;prod.push(helpFn.base_setProductsStructure(removedPackagePart,merchEvents.join("|"),helpFn.base_eVarCombineFunc(removedPackageCarParteVarObject)))})});
events.push("event341");var confStartPrices=helpFn.stage2_getConfigStartPrices();if(dl_vehicle.price.totalPrice)events.push("event333\x3d"+dl_vehicle.price.totalPrice);if(dl_vehicle.price.modelPrice)events.push("event335\x3d"+dl_vehicle.price.modelPrice);if(dl_vehicle.price.optionsPrice)events.push("event337\x3d"+dl_vehicle.price.optionsPrice);if(dl_vehicle.price.rateTotalPrice)events.push("event339\x3d"+dl_vehicle.price.rateTotalPrice);if(confStartPrices&&confStartPrices.totalPrice)events.push("event343\x3d"+
confStartPrices.totalPrice);if(confStartPrices&&confStartPrices.modelPrice)events.push("event345\x3d"+confStartPrices.modelPrice);if(confStartPrices&&confStartPrices.optionsPrice)events.push("event347\x3d"+confStartPrices.optionsPrice);if(confStartPrices&&confStartPrices.rateTotalPrice)events.push("event349\x3d"+confStartPrices.rateTotalPrice);events.push("event139");events.push("event78");if(isAdded)events.push("event69");if(isRemoved)events.push("event70");events.push("event140:"+helpFn.base_getSerializationID());
eVar96.push("cur:"+dl_vehicle.price.currency+"~tp:"+dl_vehicle.price.totalPrice+"~rtp:"+dl_vehicle.price.rateTotalPrice+"~bp:"+dl_vehicle.price.modelPrice+"~op:"+dl_vehicle.price.optionsPrice);if(confStartPrices)eVar96.push("~ptp:"+confStartPrices.totalPrice+"~prp:"+confStartPrices.rateTotalPrice+"~pbp:"+confStartPrices.modelPrice+"~pop:"+confStartPrices.optionsPrice);faTracking.setVariable("eVar82",evName);break;case evName.indexOf("configurator (NBA) - click on")===0:var mainProducteVarObject=helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);
prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=carParteVarObject.eVar91+"~pg:single item"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,merchEvents,helpFn.base_eVarCombineFunc(carParteVarObject)));
listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=packageeVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(pack,"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+
"~pg:package"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,merchEvents,helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});events.push("event341");events.push("event137");events.push("event138:"+helpFn.base_getSerializationIDforClicks(evName));switch(true){case evName==="configurator (NBA) - click on testdrive"||evName==="configurator (NBA) - click on contact"||evName==="configurator (NBA) - click on request a trade-in appraisal":events.push("event135");
events.push("event136:"+helpFn.base_getSerializationIDforClicks(evName));break;case evName==="configurator (NBA) - click on go to vtp"||evName==="configurator (NBA) - click on configuration save"||evName==="configurator (NBA) - click on show audicode"||evName==="configurator (NBA) - click on pdf download":events.push("event133");events.push("event134:"+helpFn.base_getSerializationIDforClicks(evName));break}if(dl_vehicle.price.totalPrice)events.push("event333\x3d"+dl_vehicle.price.totalPrice);if(dl_vehicle.price.modelPrice)events.push("event335\x3d"+
dl_vehicle.price.modelPrice);if(dl_vehicle.price.optionsPrice)events.push("event337\x3d"+dl_vehicle.price.optionsPrice);if(dl_vehicle.price.rateTotalPrice)events.push("event339\x3d"+dl_vehicle.price.rateTotalPrice);eVar96.push("cur:"+dl_vehicle.price.currency+"~tp:"+dl_vehicle.price.totalPrice+"~rtp:"+dl_vehicle.price.rateTotalPrice+"~bp:"+dl_vehicle.price.modelPrice+"~op:"+dl_vehicle.price.optionsPrice);faTracking.setVariable("eVar30",evName);break;case evName.indexOf("configurator (Basket) - click")===
0:var mainProducteVarObject=helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=carParteVarObject.eVar91+"~pg:single item"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,
merchEvents,helpFn.base_eVarCombineFunc(carParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=packageeVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(pack,"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);
packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+"~pg:package"+"~cis:current";var merchEvents="event341\x3d"+part.price.price;prod.push(helpFn.base_setProductsStructure(part,merchEvents,helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});events.push("event341");events.push("event137");events.push("event138:"+helpFn.base_getSerializationIDforClicks(evName));switch(true){case evName==="configurator (Basket) - click on contact":events.push("event135");
events.push("event136:"+helpFn.base_getSerializationIDforClicks(evName));break;case evName==="configurator (Basket) - click on show audicode":events.push("event133");events.push("event134:"+helpFn.base_getSerializationIDforClicks(evName));break}if(dl_vehicle.price.totalPrice)events.push("event333\x3d"+dl_vehicle.price.totalPrice);if(dl_vehicle.price.modelPrice)events.push("event335\x3d"+dl_vehicle.price.modelPrice);if(dl_vehicle.price.optionsPrice)events.push("event337\x3d"+dl_vehicle.price.optionsPrice);
if(dl_vehicle.price.rateTotalPrice)events.push("event339\x3d"+dl_vehicle.price.rateTotalPrice);eVar96.push("cur:"+dl_vehicle.price.currency+"~tp:"+dl_vehicle.price.totalPrice+"~rtp:"+dl_vehicle.price.rateTotalPrice+"~bp:"+dl_vehicle.price.modelPrice+"~op:"+dl_vehicle.price.optionsPrice);faTracking.setVariable("eVar30",evName);break;default:var mainProducteVarObject=helpFn.stage2_setBasiceVarObjectForMainVehicle(dl_vehicle);prod.push(helpFn.base_setProductsStructure(dl_vehicle,"",helpFn.base_eVarCombineFunc(mainProducteVarObject)));
listVar3.push(helpFn.stage2_setlistVar3(dl_vehicle));dl_carParts.forEach(function(part){var carParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);carParteVarObject.eVar91=carParteVarObject.eVar91+"~pg:single item"+"~cis:current";prod.push(helpFn.base_setProductsStructure(part,"",helpFn.base_eVarCombineFunc(carParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))});dl_packages.forEach(function(pack){var packageeVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(pack);packageeVarObject.eVar91=
packageeVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(pack,"",helpFn.base_eVarCombineFunc(packageeVarObject)));pack.carParts.forEach(function(part){var packagecarParteVarObject=helpFn.stage2_setBasiceVarObjectForCarPart(part);packagecarParteVarObject.eVar91=packagecarParteVarObject.eVar91+"~pg:package"+"~cis:current";prod.push(helpFn.base_setProductsStructure(part,"",helpFn.base_eVarCombineFunc(packagecarParteVarObject)));listVar3.push(helpFn.stage2_setlistVar3(part))})});
if(dl_vehicle.price.totalPrice)events.push("event333\x3d"+dl_vehicle.price.totalPrice);if(dl_vehicle.price.modelPrice)events.push("event335\x3d"+dl_vehicle.price.modelPrice);if(dl_vehicle.price.optionsPrice)events.push("event337\x3d"+dl_vehicle.price.optionsPrice);if(dl_vehicle.price.rateTotalPrice)events.push("event339\x3d"+dl_vehicle.price.rateTotalPrice);eVar96.push("cur:"+dl_vehicle.price.currency+"~tp:"+dl_vehicle.price.totalPrice+"~rtp:"+dl_vehicle.price.rateTotalPrice+"~bp:"+dl_vehicle.price.modelPrice+
"~op:"+dl_vehicle.price.optionsPrice)}if(prod)faTracking.setVariable("products",prod.join(","));if(dl_vehicle){faTracking.setVariable("eVar16","line|"+dl_vehicle.category.primaryCategory+";model|"+dl_vehicle.category.subCategory1);faTracking.setVariable("eVar70",dl_vehicle.attributes.entryType);faTracking.setVariable("eVar10",dl_vehicle.attributes.audiCode);faTracking.setVariable("eVar96",eVar96.join(""));faTracking.setVariable("events",events.join(","));faTracking.setVariable("list3",listVar3.join(","));
faTracking.setVariable("eVar48",helpFn.stage2_seteVar48())}Bootstrapper.notify("061 - NextGenConfi by SII - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"061 - NextGenConfi by SII - Feature App - Error")}})},3969997,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629,3969980],757794,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664,757996],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var site=Bootstrapper.data.resolve("Manage.Page.site");if(eventAction==="internal_link"&&targetURL.indexOf("tel:")===
0)try{Bootstrapper.notify("182 - workaround: track phone call links");var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"182,");window._audiDataLayer.event[0].eventInfo.eventAction="call";if(site==="carsearch")window._audiDataLayer.event[0].eventInfo.eventName="vtp call dealer"}catch(e){Bootstrapper.analyticsError.report(e,"182 - Error")}})},2908212,[3826408],595343,[540513],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var market=Bootstrapper.data.resolve("Manage.Page.market");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var workaroundIsExecuted=false;if(targetURL.indexOf("https://formularios-ocasion.audi.es")>
-1&&market==="ES"){_audiDataLayer.event[0].eventInfo.eventAction="exit_link";workaroundIsExecuted=true}if(market==="AR"&&eventName==="vtp contact"){_audiDataLayer.event[0].eventInfo.eventAction="exit_link";workaroundIsExecuted=true}if(workaroundIsExecuted){var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"172,")}}catch(e){Bootstrapper.analyticsError.report(e,"172 - Error")}})},3901086,745869,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["callback","content","error","view_change"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="profile"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");
var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");if(evAct==="callback"&&evName==="personal data - confirm phone number"||evAct==="callback"&&evName==="personal data - save profile picture"||evAct==="callback"&&evName==="personal data - confirm address"||evAct==="callback"&&evName==="personal data - confirm delete phone number"||evAct==="callback"&&
evName==="personal data - confirm delete address")Bootstrapper.setVariable("isViewChangeCloseEvent",true)}}catch(e){Bootstrapper.analyticsError.report(e,"063 - Profile Feature App - Error")}})},3977640,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],758989,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["download"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar100","124"],["events",function anon(){if(Bootstrapper.data.resolve("Manage.Page.applicationName")==="nemo"&&Bootstrapper.data.resolve("Manage.Event.targetUrl_href").indexOf("pdf")>
-1&&Bootstrapper.data.resolve("Manage.Event.eventName")!=="vtp print"){var events=[];events.push("event40");return events.join(",")}}]]])})},2815759,[3970496],591369,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","bounce_event","calculate","call","content","download","email","error","exit_link","filter","form_error","image","impression","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","search_result_click","search_result_load","step","tooltip","user_action","view_change","callback"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=
undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{Bootstrapper.notify("017 - Performance Timing on call");if(typeof window.perfTime!="undefined"){delete window.perfTime.URL;delete window.perfTime.events;delete window.perfTime.timesString}else window.perfTime=[];var cookie=false;cookie=Bootstrapper.analyticsStorage.getPrefixedCookie("perf");if(cookie!=""&&cookie!="[]"&&cookie!=false){cookie=JSON.parse(cookie);var timingFromCookie=cookie.shift();
if(typeof timingFromCookie.u!="string")Bootstrapper.analyticsStorage.setPrefixedCookie("perf",JSON.stringify(cookie),expire_time);else{window.perfTime.URL=timingFromCookie.u;window.perfTime.events="event92\x3d"+timingFromCookie.n+",event93\x3d"+timingFromCookie.s+",event94\x3d"+timingFromCookie.b;window.perfTime.timesString="nw:"+Math.floor(timingFromCookie.n/10)/100+"~se:"+Math.floor(timingFromCookie.s/10)/100+"~br:"+Math.floor(timingFromCookie.b/100)/10;var expire_time=30*60*1E3;Bootstrapper.analyticsStorage.setPrefixedCookie("perf",
JSON.stringify(cookie),expire_time)}}}catch(e){Bootstrapper.notify("017 - Performance Timing on call rule error: "+e)}})},3514062,[3516587],557170,[556658],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="oneaudi-feature-app-save-configuration"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");
var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;if(evAct==="view_change")faTrackingService.setVariable("eVar88","po|;en|;co|"+Bootstrapper.data.resolve("Manage.Event.componentName")+";va|"+Bootstrapper.data.resolve("Manage.Event.value")+";at|")}}catch(e){Bootstrapper.analyticsError.report(e,"051 - Safe Configuration - Error")}})},3941066,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],727170,[538665,538667,540513,543976,
549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["callback","configuration"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){if(typeof nemo==="object"&&nemo.configurator.api.getCarline()!==null&&Bootstrapper.data.resolve("Manage.Page.pageType")!==
"configurableHome"){var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if(eventName==="configuration_start"||eventName==="configurator - configuration start"){Bootstrapper.setVariable("configStarted",true);var sid=Bootstrapper.data.resolve("Manage.localStorage.sessionID");var serializationID=sid+"ac"+nemo.configurator.api.getCarline();var cartTotal=Bootstrapper.analyticsHelper.nemo.getConfiguratorPrices("cartTotal");var fixedStartPriceEvent="";try{var startType=nemo.configurator.api.getConfigurationStartType()}catch(e){var startType=
"na"}if(startType==="configuration-change")fixedStartPriceEvent=",event999\x3d"+cartTotal+":"+serializationID+",event998\x3d"+cartTotal;return"event7,event79:"+serializationID+",event66\x3d"+cartTotal+":"+serializationID+fixedStartPriceEvent}else if(eventName==="configurator - configuration change")return"event78"}}],["eVar84",function anon(){return Bootstrapper.data.resolve("Manage.URL.URL without parameter")+Bootstrapper.data.resolve("Manage.URL.URL anchors")}],["eVar82",function anon(){var eventName=
Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");if(eventAction==="configuration")return eventName;else if(eventAction==="callback")return Bootstrapper.data.resolve("Manage.localStorage.eventName")}],["eVar100","130"]]])})},3895859,[3970496],590125,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="connected applications"){var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");
var relComp=Bootstrapper.data.resolve("Manage.Event.relatedElements");var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]},transformRelatedElements:function(el){if(Array.isArray(el))return el.map(function(a){if(a.elementName&&a.elementValue)return"eln:"+a.elementName+"~elv:"+a.elementValue}).join(";");return""}};if(evAct==="callback")faTracking.setVariable("list1",helperFunctions.transformRelatedElements(relComp));Bootstrapper.notify("059 - Connected Applications - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,
"059 - Connected Applications - Error")}})},3940965,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],742918,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="fa-vtp-tiles"){var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]}};var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");
var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var currentComponent=helperFunctions.getComp(compInd);if(currentComponent&&currentComponent.page&&currentComponent.page.attributes&&currentComponent.page.attributes.promotionName)faTracking.setVariable("eVar27",currentComponent.page.attributes.promotionName);Bootstrapper.notify("060 - VTP - Result Tile - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,
"060 - VTP - Result Tile - Error")}})},3941076,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],747899,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;function onpop(){try{var lc=Bootstrapper.analyticsStorage.getPrefixedCookie("lc");if(lc===""||lc===null)return;lc=JSON.parse(lc);var eva=lc.eventInfo.eventAction;var evn=lc.eventInfo.eventName;var blacklist=["layer open","layer close"];if(eva&&
blacklist.indexOf(evn)===-1){Bootstrapper.notify("188 - SPA click tracking");var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"188,");Bootstrapper.analyticsStorage.removePrefixedCookie("lc")}}catch(e){Bootstrapper.analyticsError.report(e,"188-nemo-onpop")}}try{if(Bootstrapper.getVariable("pageHasPageViewRequest")!==true)window.addEventListener("popstate",onpop,false)}catch(e){Bootstrapper.analyticsError.report(e,"188-nemo-listener")}})},3104368,
592572,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=this;
if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.analyticsHelper.isTrackingServiceV2()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="oneaudi-feature-app-visualizer"){var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var helperFunctions=
{clearChars:function(string){if(typeof string==="string")return string.replace(/,/g,".").replace(/;/g,".").replace(/\|/g," ").replace(/\s\s+/g," ").replace(/^ /,"").replace(/ $/,"");else return string},getComponent:function(event){var index=event.attributes&&event.attributes.relatedComponent&&event.attributes.relatedComponent.componentIndex;return window._audiDataLayer&&window._audiDataLayer.component?window._audiDataLayer.component[index]:window.digitalData.component[index]},getVisualizerVehicle:function(component){try{var vehicle=
component&&component.products&&component.products.configuredVehicle[0];return helperFunctions.checkProdStructure(vehicle)?vehicle:undefined}catch(e){console.log("[ANALYTICS] FeatureApp Visualizer getVisualizerVehicle Error");return undefined}},checkProdStructure:function(product){return product.productInfo&&product.category&&product.price},createSingleProduct:function(prod){var singleProd=helperFunctions.clearChars(prod.category.productType)+";"+helperFunctions.clearChars(prod.productInfo.productName)+
";1;;"+";eVar90\x3did:"+helperFunctions.clearChars(prod.productInfo.productID)+"~pn:"+helperFunctions.clearChars(prod.productInfo.productName)+"|eVar91\x3dpc:"+helperFunctions.clearChars(prod.category.primaryCategory)+"~sc1:"+helperFunctions.clearChars(prod.category.subCategory)+"~pt:"+helperFunctions.clearChars(prod.category.productType);return singleProd}};var fillVariables={products:function(vehicle){var prodStr=[];prodStr.push(helperFunctions.createSingleProduct(vehicle));vehicle.carParts.forEach(function(e){prodStr.push(helperFunctions.createSingleProduct(e))});
window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("products",prodStr.join(","))},evar121:function(vehicle){var prodStr=[];var mainVehicleInfo=vehicle.productInfo.productID||vehicle.productInfo.productName;prodStr.push(helperFunctions.clearChars(mainVehicleInfo));vehicle.carParts.forEach(function(e){prodStr.push(helperFunctions.clearChars(e.productInfo.productID))});window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar121",prodStr.join(","))},evar41:function(component){var variant=
component.componentInfo&&component.componentInfo.variant;if(variant)window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar41","va|"+variant)}};var component=helperFunctions.getComponent(_audiDataLayer.event[0]);var curVehicle=helperFunctions.getVisualizerVehicle(component);fillVariables.evar41(component);if(eventAction!=="internal_link"){fillVariables.products(curVehicle);fillVariables.evar121(curVehicle)}}}catch(e){Bootstrapper.analyticsError.report(e,"048 - Visualizer - Error")}})},
3834582,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],705825,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var pageID=Bootstrapper.data.resolve("Manage.Page.pageID");var pageIDSplitted=pageID.split("/");var pageIDFinal="";var overwritePageID=false;var brandOrWebInUrl=function(pid){return pid.indexOf("/brand/")>=0||pid.indexOf("/web/")>=0};if(brandOrWebInUrl(pageID)){overwritePageID=
true;if(pageIDSplitted.length<5)pageIDFinal="homepage";else{for(i=4;i<pageIDSplitted.length;i++)pageIDFinal+=pageIDSplitted[i]+"/";pageIDFinal=pageIDFinal.slice(0,-1)}}else if(pageID.charAt(0)==="/"){overwritePageID=true;pageIDFinal=pageID.substr(1)}else pageIDFinal=pageID;if(pageIDSplitted.length<5&&pageID.indexOf("/foren/")>-1){overwritePageID=true;pageIDFinal="foren homepage"}if(pageIDFinal!==""){Bootstrapper.notify("195 - Correct pageID");Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=
Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};if(overwritePageID){var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"195,")}window._audiDataLayer.page.pageInfo.pageID=pageIDFinal}}catch(e){Bootstrapper.analyticsError.report(e,"195 - Error")}})},3809928,591956,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="price-details"){var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var relProd=_audiDataLayer.event[0]&&_audiDataLayer.event[0].attributes&&_audiDataLayer.event[0].attributes.relatedProducts&&_audiDataLayer.event[0].attributes.relatedProducts.configuredItems;
if(Array.isArray(relProd)){var sProducts=[];var list3=[];var v121=[];relProd.forEach(function(configuredItems){sProducts.push(";"+configuredItems.productInfo.productID+";1;;"+";eVar90\x3did:"+configuredItems.productInfo.productID);list3.push("pr*pi:"+configuredItems.productInfo.productID);v121.push(configuredItems.productInfo.productID)});faTrackingService.setVariable("products",sProducts.join());faTrackingService.setVariable("list3",list3.join(";"));faTrackingService.setVariable("eVar121",v121.join(","))}}}catch(e){Bootstrapper.analyticsError.report(e,
"053 - Price Details - Error")}})},3834589,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],730140,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var setVariables=function(event){var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;if(event.attributes&&event.attributes.relatedProducts&&event.attributes.relatedProducts.highlightedProduct){var highlightedProduct=event.attributes.relatedProducts.highlightedProduct;var segment=highlightedProduct.attributes.segment||"";var v74="ve:"+highlightedProduct.attributes.version+
"~re:"+highlightedProduct.attributes.ressource+"~it:"+highlightedProduct.attributes.iteration;var v78="uc:"+highlightedProduct.attributes.useCaseName+"~se:"+segment.split("#")[0]+"~tg:"+segment.split("#")[1]+"~pt:"+highlightedProduct.attributes.personalizationType;var v16="line|"+highlightedProduct.category.primaryCategory+";model|"+highlightedProduct.category.subCategory01;var list1="con:"+event.attributes.componentName+"~cot:"+event.attributes.value;faTracking.setVariable("eVar73",v16);faTracking.setVariable("eVar74",
v74);faTracking.setVariable("eVar78",v78);faTracking.setVariable("eVar16",v16);faTracking.setVariable("list1",list1);Bootstrapper.notify("040 - Highlighted Car Teaser - Set Feature App Variables")}};try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="audi-highlighted-car-teaser")if(Bootstrapper.data.resolve("Manage.Event.eventAction")==="internal_link"){var sessionItem=JSON.parse(Bootstrapper.analyticsStorage.getSessionItem("lc"));sessionItem.attributes.relatedProducts=
_audiDataLayer.event[0].attributes.relatedProducts;sessionStorage.setItem("_ens_lc",JSON.stringify(sessionItem));Bootstrapper.notify("040 - Highlighted Car Teaser - Enhance Cookie by Feature App")}else setVariables(_audiDataLayer.event[0]);var ea=Bootstrapper.data.resolve("Manage.Event.eventAction");if(Bootstrapper.data.resolve("Manage.localStorage.featureAppName")==="audi-highlighted-car-teaser"&&(ea==="page_load"||ea==="step"||ea==="view_change"))setVariables(Bootstrapper.data.resolve("Manage.localStorage.event"))}catch(e){Bootstrapper.analyticsError.report(e,
"040 - Highlighted Car Teaser - Error")}})},3834569,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],671514,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["step"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var pageID=Bootstrapper.data.resolve("Manage.Page.pageID");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");if(eventAction==="step"&&(pageID.indexOf(".show_audicode")>-1||pageID.indexOf(".carstore_save")>-1)){Bootstrapper.notify("193 - get Audi code");
var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"193,");var interval=1E3;var iteration=Bootstrapper.getVariable("audiCodeIteration")||0;var maxIterations=10;var audicode="";try{var audicode=document.getElementsByClassName("nm-j-audicode")[0].innerText.trim()}catch(e){}if(typeof audicode==="string"&&audicode!==""){Bootstrapper.setVariable("workaroundStepEvent",false);Bootstrapper.setVariable("audiCodeIteration",0);Bootstrapper.setVariable("audicode",
audicode)}else{Bootstrapper.setVariable("workaroundStepEvent",true);if(iteration<maxIterations){Bootstrapper.setVariable("suppressPageView",true);Bootstrapper.setVariable("audiCodeIteration",++iteration);setTimeout(function(){Bootstrapper.ensEvent.trigger("step")},interval)}else{Bootstrapper.setVariable("workaroundStepEvent",false);Bootstrapper.setVariable("audiCodeIteration",0);Bootstrapper.setVariable("audicode","no audicode found")}}}})},3413868,[3939418],591539,[538665],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["click","internal_link","layer_close_click","layer_open_click"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){try{Bootstrapper.notify("086 - replace layer_open/close_click by internal_link")}catch(e){}try{var eventObject=window._audiDataLayer.event[0];if(typeof eventObject==="object"&&
typeof eventObject.eventInfo==="object"){var openOrClose="";switch(eventObject.eventInfo.eventAction){case "layer_open_click":openOrClose="open";break;case "layer_close_click":openOrClose="close"}if(openOrClose!==""){window._audiDataLayer.event[0].eventInfo.eventAction="internal_link";if(eventObject.eventInfo.eventName==="generic")window._audiDataLayer.event[0].eventInfo.eventName="layer "+openOrClose;else window._audiDataLayer.event[0].eventInfo.eventName=eventObject.eventInfo.eventName+" - layer "+
openOrClose}}}catch(e){Bootstrapper.analyticsError.report(e,"086 - Error")}})()})},3373775,[3516587],625362,[556658],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="dealer-search-map-app"){var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var dealerSearchPageID=
Bootstrapper.data.resolve("Manage.Page.FeatureApp pageID");if(dealerSearchPageID){var search=_audiDataLayer.component[componentIndex].search;if(search&&search.name){faTracking.setVariable("eVar24",search.name+";"+search.term+";"+search.results+";"+search.type);if(dealerSearchPageID==="dealer search - display results"&&eventAction==="view_change")faTracking.setVariable("events","event28,event26\x3d"+search.results);if(Bootstrapper.data.resolve("Manage.localStorage.eventName").indexOf("result click")>
-1){faTracking.setVariable("events","event22");faTracking.setVariable("eVar25","pos:"+Bootstrapper.data.resolve("Manage.localStorage.pos")+"~tit:"+Bootstrapper.data.resolve("Manage.localStorage.label"))}}}if(eventAction==="callback"&&Bootstrapper.data.resolve("Manage.Event.eventName")==="dealer search - localization not successful"){var valueArray=Bootstrapper.data.resolve("Manage.localStorage.eVar88 - Click Tracking Details").split(";");valueArray[3]="va|"+Bootstrapper.data.resolve("Manage.Event.value");
faTracking.setVariable("eVar88",valueArray.join(";"))}Bootstrapper.notify("045 - Dealer Search - Set Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"045 - Dealer Search - Error")}})},3941059,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],699664,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["internal_link"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var component=Bootstrapper.data.resolve("Manage.Event.componentName");var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var filterValues=Bootstrapper.data.resolve("Manage.Search.filter array");if(component===
"results"&&targetURL.indexOf("sc_detail")>-1&&filterValues!==""&&Array.isArray(filterValues)&&filterValues.length>0){var enhancement={attributes:{relatedFilter:filterValues}};Bootstrapper.analyticsStorage.enhanceClickStorage(enhancement,["sessionStorage","jsvar"])}}catch(e){Bootstrapper.analyticsError.report(e,"118 - Error")}})},3546333,[3977641],624735,[671326],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if(eventName==="car compare - remove from comparison page")_audiDataLayer.event[0].eventInfo.eventName="car compare - remove from comparison bar"}catch(e){Bootstrapper.analyticsError.report(e,
"174 - Error")}})},3506182,682367,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["filter"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.eventName")==="range simulator - change filter"){var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var filters=_audiDataLayer.event[0].attributes.relatedFilter;
var filterValues=filters[0].values;var fva=filterValues.join("-");var fmin="nomin";var fmax="nomax";var fra="no range";if(filterValues.length===1)fva=filterValues[0];else if(filterValues.length===2){fmin=filterValues[0];fmax=filterValues[1];filterValues.join("-")}else if(filterValues.length>2)fra=filterValues.join("-");var list2="fna:"+filters[0].id+"~fva:"+fva+"~fmin:"+fmin+"~fmax:"+fmax+"~fra:"+fra;faTrackingService.setVariable("list2",list2)}}catch(e){Bootstrapper.analyticsError.report(e,"055 - Range Simulator - Error")}})},
3834592,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],734240,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="One Item"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var pageID=Bootstrapper.data.resolve("Manage.Page.FeatureApp pageID");
var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;if(evAct==="view_change")window._audiDataLayer.event[0].eventInfo.eventName="one item - "+pageID;if(evName==="one item - add-vehicle-success")faTrackingService.setVariable("events","event310")}}catch(e){Bootstrapper.analyticsError.report(e,"043 - One Item - Error")}})},3941053,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],698405,[538665,538667,540513,543976,549281,573307,
577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["filter"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.eventName")==="model overview - apply filter"){var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var filters=_audiDataLayer.event[0].attributes.relatedFilters;
var list2=[];for(var i=0;i<filters.length;i++){var fva="";var fmin="nomin";var fmax="nomax";var fra="no range";if(filters[i].id!=="price")for(j=0;j<filters[i].values.length;j++){fva=filters[i].values[j];list2.push("fna:"+filters[i].id+"~fva:"+fva+"~fmin:"+fmin+"~fmax:"+fmax+"~fra:"+fra)}else{fmin=filters[i].values[0]==0?"nomin":filters[i].values[0];fmax=filters[i].values[1]==0?"nomax":filters[i].values[1];fva=fmin+"-"+fmax;fra=fva;list2.push("fna:"+filters[i].id+"~fva:"+fva+"~fmin:"+fmin+"~fmax:"+
fmax+"~fra:"+fra)}}faTrackingService.setVariable("list2",list2.join(";"))}}catch(e){Bootstrapper.analyticsError.report(e,"057 - Model Finder - Error")}})},3870111,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],742129,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["callback","content","error","view_change"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="marketing consents registration"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");
var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");if(evAct==="callback"&&evName==="marketing consent - confirm deny consent"||evAct==="callback"&&evName==="marketing consent - confirm accept consent")Bootstrapper.setVariable("isViewChangeCloseEvent",true)}}catch(e){Bootstrapper.analyticsError.report(e,"064 - MEV Feature App - Error")}})},3977649,
[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],758990,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["tooltip"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar10",function anon(){try{if(Bootstrapper.data.resolve("Manage.Event.eventName")==="vtp audi code")return Bootstrapper.data.resolve("Manage.Event.value")}catch(e){return""}}],
["eVar100","131"]]])})},3768566,[3970496],619375,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["opt-in","page_load","step"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join",
"__s","dl","58571"]);Bootstrapper.AF.push(["join","__s","dl","60326"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){var pageType=Bootstrapper.data.resolve("Manage.Page.pageType");var displayType=Bootstrapper.data.resolve("Manage.Page.displayType");var pageID=Bootstrapper.data.resolve("Manage.Page.pageID");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction")||"";var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName")||
"";var events=[];if(pageType==="configurationSummary"&&displayType!=="layer")events.push("event65");if(pageID.indexOf("carstore_save")>-1||pageID.indexOf("new-save-configuration")>-1)events.push("event39,event83");else if(pageID.indexOf("show_audicode")>-1)events.push("event43,event83");var searchEventsonVTP=Bootstrapper.analyticsHelper.nemo.getSearchEventsOnVTP();if(searchEventsonVTP!=="")events.push(searchEventsonVTP);return events.join(",")}],["eVar85",function anon(){return Bootstrapper.data.resolve("Manage.URL.URL without parameter")+
Bootstrapper.data.resolve("Manage.URL.URL anchors")}],["eVar189",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"58571")}],["eVar10",function anon(){try{var pageID=Bootstrapper.data.resolve("Manage.Page.pageID");if(pageID.indexOf(".show_audicode")>-1||pageID.indexOf(".carstore_save")>-1){var audicode=Bootstrapper.getVariable("audicode");if(audicode)return audicode;audicode=document.getElementsByClassName("nm-j-audicode")[0].innerText.trim();if(typeof audicode==="string"&&audicode!==
"")return audicode;return""}}catch(e){return""}}],["eVar100","121"],["eVar69",function anon(){return Bootstrapper.Cookies.get("dcdata")}],["eVar28",function anon(){try{var destURL=Bootstrapper.data.resolve("Manage.Page.destinationURL");var searchParameter=Array.isArray(destURL.match(/\?.+?(?=#|$)/))?destURL.match(/\?.+?(?=#|$)/)[0]:"";var hashParameter=Array.isArray(destURL.match(/#.+?(?=\?|$)/))?destURL.match(/#.+?(?=\?|$)/)[0]:"";var pid="";var myRegexp=/(\?|&|#)pid=([^&#\?]+)($|&|#|\?)/i;if(searchParameter!==
"")pid=Array.isArray(myRegexp.exec(searchParameter))?myRegexp.exec(searchParameter)[2]:"";if(hashParameter!==""&&pid==="")pid=Array.isArray(myRegexp.exec(hashParameter))?myRegexp.exec(hashParameter)[2]:"";if(pid===Bootstrapper.getVariable("pid_vtp"))return"";Bootstrapper.setVariable("pid_vtp",pid);return pid}catch(e){Bootstrapper.analyticsError.report(e,"NEMO_121_eVar28_pip");return""}}],["eVar57",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"60326")}]]])})},3911898,[3970496],
538671,[540029],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","compare","configuration","content","cookie_banner_click","download","email","error","exit_layer","exit_link","favorite","filter","form_error","form_field","image","impression","navigation","non_interaction","opt-in-after-page-load-event","order","print","tooltip","user_action","video"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];
var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl","52936"]);Bootstrapper.AF.push(["join","__s","dl","53941"]);Bootstrapper.AF.push(["join","__s","dl","54342"]);Bootstrapper.AF.push(["join","__s","dl","54481"]);Bootstrapper.AF.push(["join","__s","dl","54493"]);Bootstrapper.AF.push(["join",
"__s","dl","54499"]);Bootstrapper.AF.push(["join","__s","dl","58425"]);Bootstrapper.AF.push(["join","__s","dl","64801"]);Bootstrapper.AF.push(["join","__s","dl","65196"]);Bootstrapper.AF.push(["join","__s","dl","65195"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){events=[];var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");if(eventName.indexOf(" - quick search result click")>-1)events.push("event21");
else if(eventName.indexOf(" - result click")>-1)events.push("event22");return events.join(",")}],["eVar100","022"],["eVar81",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"52936")}],["eVar82",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53941")}],["eVar86",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54342")}],["eVar84",function anon(){return Bootstrapper.analyticsHelper.cleanUrlString(Bootstrapper.data.resolve("Manage.Page.destinationURL"))}],
["eVar88",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54481")}],["eVar87",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54493")}],["eVar85",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54499")}],["eVar89",function anon(){return"no target page available ("+Bootstrapper.data.resolve("Manage.Event.eventAction")+" event)"}],["eVar25",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"58425")}],["useBeacon",true],["eVar80",
function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"64801")}],["eVar43",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65196")}],["list1",function anon(){try{var relElements=Bootstrapper.data.resolve("Manage.Event.relatedElements");if(relElements&&Bootstrapper.data.resolve("Manage.Event.eventAction")!=="impression")return"eln:"+relElements[0].elementName+"~elv:"+relElements[0].elementValue;else return""}catch(e){Bootstrapper.analyticsError.report(e,"022 - click - error in relatedElements");
return""}}],["eVar46",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65195")}]]])})},3970001,[3954161],549281,[538663],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","form_field","impression","navigation","non_interaction","order","print","tooltip","video","view_change","image"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;
var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");try{Bootstrapper.notify("199 - execute event tracking -- eventAction: "+evAct)}catch(e){}var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var pageType=Bootstrapper.data.resolve("Manage.Page.pageType");var suppressEvent=false;if(eventName==="configurator - configuration start"&&pageType==="configurableHome"){if(eventName==="configurator - configuration start")Bootstrapper.setVariable("configStarted",true);var suppressEvent=
true}if(!suppressEvent){var type="link";if(evAct==="view_change")type=evAct;Bootstrapper.analyticsHelper.executeTracking(type)}if(evAct==="content"&&eventName.indexOf("close")>0&&eventName.indexOf("layer")>0)Bootstrapper.analyticsStorage.resetPrevValuesToPageviewVars();Bootstrapper.setVariable("_ens_tagIDs","")})},3977523,[3970496,3895859,2815759,3822542,3768566,3826378],541096,[540029,590125,591369,619355,619375,653876],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["opt-in","page_load","step"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join",
"__s","dl","56352"]);Bootstrapper.AF.push(["join","__s","dl","53815"]);Bootstrapper.AF.push(["join","__s","dl","53816"]);Bootstrapper.AF.push(["join","__s","dl","60343"]);Bootstrapper.AF.push(["join","__s","dl","53755"]);Bootstrapper.AF.push(["join","__s","dl","60906"]);Bootstrapper.AF.push(["join","__s","dl","53889"]);Bootstrapper.AF.push(["join","__s","dl","53912"]);Bootstrapper.AF.push(["join","__s","dl","53461"]);Bootstrapper.AF.push(["join","__s","dl","53899"]);Bootstrapper.AF.push(["join","__s",
"dl","53931"]);Bootstrapper.AF.push(["join","__s","dl","53932"]);Bootstrapper.AF.push(["join","__s","dl","53933"]);Bootstrapper.AF.push(["join","__s","dl","53899"]);Bootstrapper.AF.push(["join","__s","dl","53829"]);Bootstrapper.AF.push(["join","__s","dl","54459"]);Bootstrapper.AF.push(["join","__s","dl","54420"]);Bootstrapper.AF.push(["join","__s","dl","53828"]);Bootstrapper.AF.push(["join","__s","dl","55910"]);Bootstrapper.AF.push(["join","__s","dl","54449"]);Bootstrapper.AF.push(["join","__s","dl",
"56826"]);Bootstrapper.AF.push(["join","__s","dl","57065"]);Bootstrapper.AF.push(["join","__s","dl","57708"]);Bootstrapper.AF.push(["join","__s","dl","64800"]);Bootstrapper.AF.push(["join","__s","dl","58425"]);Bootstrapper.AF.push(["join","__s","dl","65198"]);Bootstrapper.AF.push(["join","__s","dl","65197"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){try{var events=[];if(Bootstrapper.data.resolve("Manage.URL.pid")!==
"")events.push("event34");if(Bootstrapper.data.resolve("Manage.Adobe.eVar22 - Error Information"))events.push("event12");var eventName=Bootstrapper.data.resolve("Manage.localStorage.eventName");if(eventName==="main search - result click")events.push("event22");else if(eventName==="main search - quick search result click")events.push("event21");if(Bootstrapper.data.resolve("Manage.Event.eventName")=="main search - results")events.push("event28,event26\x3d"+Bootstrapper.data.resolve("Manage.Search.results"));
if(Bootstrapper.data.resolve("Manage.Adobe.eVar49 - Performance Timing Adobe Plugin")!=="")events.push("event16\x3d"+Bootstrapper.data.resolve("Manage.Adobe.eVar49 - Performance Timing Adobe Plugin"));return events.join(",")}catch(e){return""}}],["campaign",function anon(){if(Bootstrapper.getVariable("pageHasPageViewRequest")!==true)return Bootstrapper.data.resolve("Manage.URL.csref")}],["eVar61","D\x3dv0"],["eVar89",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"56352")}],["eVar1",
"+1"],["eVar100","021"],["eVar28",function anon(){var pid=Bootstrapper.data.resolve("Manage.URL.pid");if(pid===Bootstrapper.getVariable("pid"))return"";Bootstrapper.setVariable("pid",pid);return pid}],["eVar32","D\x3dr"],["prop38","D\x3dv38"],["prop2","D\x3dv7"],["eVar33",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53815")}],["eVar34",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53816")}],["eVar56",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"60343")}],["referrer",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53755")}],["eVar22",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"60906")}],["eVar38",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53889")}],["eVar39",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53912")}],["prop17",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53461")}],["prop6",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"53899")}],["prop7",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53931")}],["prop8",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53932")}],["prop9",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53933")}],["channel",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53899")}],["eVar82",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53829")}],["prop36","D\x3dv50"],["eVar88",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"54459")}],["eVar86",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54420")}],["eVar81",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53828")}],["eVar84",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"55910")}],["eVar85",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54449")}],["prop37","D\x3dv33"],["prop74",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"56826")}],["eVar49",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"57065")}],["eVar87",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"57708")}],["eVar80",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"64800")}],["eVar25",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"58425")}],["eVar43",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65198")}],["eVar46",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65197")}],["list1",function anon(){try{var relElements=Bootstrapper.data.resolve("Manage.localStorage.relatedElements");
if(relElements)return"eln:"+relElements[0].elementName+"~elv:"+relElements[0].elementValue;else return""}catch(e){Bootstrapper.analyticsError.report(e,"021 - page load - error in relatedElements");return""}}],["eVar160",function anon(){if(Bootstrapper.getVariable("pageHasPageViewRequest")!==true)return Bootstrapper.data.resolve("Manage.URL.utm")}],["eVar161","D\x3dv160"]]])})},3939418,[3954161],538665,[538663],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(Bootstrapper.analyticsHelper.isNextGenConfiUrl()){if(digitalData&&digitalData.page&&digitalData.page.category&&digitalData.page.category.pageType)digitalData.page.category.pageType="nextGenConfig";if(_audiDataLayer&&_audiDataLayer.page&&
_audiDataLayer.page.category&&_audiDataLayer.page.category.pageType)_audiDataLayer.page.category.pageType="nextGenConfig";var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"169,");Bootstrapper.notify("169 - overwrite pageType for NGC")}})},3969496,[3939418],758024,[538665],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="service appointment"){var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");
var helperFunctions={clearFuncCh:function(string){if(typeof string==="string")return string.replace(/,/g,".").replace(/;/g,".").replace(/\|/g," ").replace(/\s\s+/g," ").replace(/^ /,"").replace(/ $/,"");else return string},constructProductString:function(product){var evars=[],evarVal=[];if(product.productInfo){evarVal=[];var prodName=product.productInfo.productName||"";if(prodName)evarVal.push("pn:"+helperFunctions.clearFuncCh(prodName).replace("Audi ",""));evars.push("eVar90\x3d"+evarVal.join("~"))}if(product.category){evarVal=
[];var prodCat=product.category.primaryCategory||"";if(prodCat)evarVal.push("pc:"+helperFunctions.clearFuncCh(prodCat).toUpperCase());evars.push("eVar91\x3d"+evarVal.join("~"))}evarVal=[];var carline=product.category?product.category.primaryCategory||"":"",model=product.productInfo?product.productInfo.productName||"":"",modYear=product.attributes?product.attributes.modelYear||"":"";if(carline)evarVal.push("ml:"+helperFunctions.clearFuncCh(carline).toUpperCase());if(model)evarVal.push("mod:"+helperFunctions.clearFuncCh(model).replace("Audi ",
""));if(modYear)evarVal.push("my:"+helperFunctions.clearFuncCh(modYear));evars.push("eVar92\x3d"+evarVal.join("~"));if(product.attributes){evarVal=[];var engine=product.attributes.modelName||"";var fuelType=product.attributes.isElectric===true||product.attributes.isElectric=="true"?"Electric":"";if(engine)evarVal.push("en:"+helperFunctions.clearFuncCh(engine).replace("Audi ",""));if(fuelType)evarVal.push("ft:"+helperFunctions.clearFuncCh(fuelType));evars.push("eVar93\x3d"+evarVal.join("~"));evarVal=
[];var driveTrain=product.attributes.driveTrain||"";var isElectric=typeof product.attributes.isElectric!==undefined?product.attributes.isElectric:"";var ownerShip=typeof product.attributes.ownerShip!==undefined?product.attributes.ownerShip:"";var isConnectVehicle=typeof product.attributes.isConnectVehicle!==undefined?product.attributes.isConnectVehicle:"";var userRole=typeof product.attributes.userRole!==undefined?product.attributes.userRole:"";if(driveTrain)evarVal.push("dtr:"+helperFunctions.clearFuncCh(driveTrain));
if(typeof isElectric==="boolean"){var elStat="Non-Electric";if(isElectric)elStat="Electric";evarVal.push("ele:"+helperFunctions.clearFuncCh(elStat))}if(typeof ownerShip==="boolean"){var ownerShipStatus="Other car user";if(ownerShip)ownerShipStatus="Car owner";else if(isConnectVehicle)if(userRole==="PRIMARY_USER")ownerShipStatus="Car owner";evarVal.push("own:"+helperFunctions.clearFuncCh(ownerShipStatus))}if(typeof isConnectVehicle==="boolean"){var connectStatus=isConnectVehicle?"connect":"non-connect";
evarVal.push("coc:"+connectStatus)}if(userRole)evarVal.push("usr:"+userRole);evars.push("eVar98\x3d"+evarVal.join("~"))}if(evarVal.length===0)return"";return"owned car;not available;;;;"+evars.join("|")},validateProduct:function(product){if(typeof product==="object"&&product.ownedVehicle&&typeof product.ownedVehicle.attributes==="object"&&typeof product.ownedVehicle.category==="object"&&typeof product.ownedVehicle.productInfo==="object")return product;return""}};var component=_audiDataLayer.component[compInd];
var product=component?helperFunctions.validateProduct(component.product):"";if(product)faTracking.setVariable("products",helperFunctions.constructProductString(product.ownedVehicle))}}catch(e){Bootstrapper.analyticsError.report(e,"054 - Service Appointment - Error")}})},3941645,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],733613,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["video"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){var events=[];var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");switch(eventName){case "video player - start":events.push("event280");
break;case "video player - 10 percent":events.push("event281");break;case "video player - 25 percent":events.push("event282");break;case "video player - 50 percent":events.push("event283");break;case "video player - 75 percent":events.push("event284");break;case "video player - 95 percent":events.push("event285");break;case "video - seconds":var pos=Bootstrapper.data.resolve("Manage.Event.pos");switch(pos){case "00:30":events.push("event286");break;case "01:00":events.push("event287");break;case "01:30":events.push("event288");
break;case "02:00":events.push("event289");break;case "02:30":events.push("event290");break;case "03:00":events.push("event291");break}break}return events.join(",")}],["eVar100","030"],["eVar67",function anon(){var name=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var length=Bootstrapper.data.resolve("Manage.Event.value");return"vn|"+name+";vl|"+length}]]])})},3913470,[3954161,3970001],610417,[538663,549281],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName").indexOf("audi:oneshop-frontend-product-detail")===0){var helperFunctions={getComp:function(index){return _audiDataLayer.component&&_audiDataLayer.component[index]},createProductVariables:function(prod){try{var sprod=[];for(var i=0;i<prod.length;i++)sprod.push(prod[i].category.productType+
";"+prod[i].productInfo.productID+";1;;;eVar90\x3did:"+prod[i].productInfo.productID+"~pn:"+prod[i].productInfo.productName+"~ma:"+prod[i].productInfo.manufacturer+"|eVar91\x3dpc:"+prod[i].category.primaryCategory+"~sc1:"+prod[i].category.subCategory1+"~pt:"+prod[i].category.productType+"|eVar92\x3dmy:"+prod[i].attributes.modelYear);return sprod}catch(e){Bootstrapper.notify("creatreProductVariable-Function-Error in 049 - OneShop - ProductDetail - Feature App");return""}}};var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;
var compInd=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var currentComponent=helperFunctions.getComp(compInd);if(["view_change"].indexOf(evAct)>-1){var newVehicleArray=currentComponent&&currentComponent.products&&currentComponent.products.newVehicle;var usedVehicleArray=currentComponent&&currentComponent.products&&currentComponent.products.usedVehicle;var productVar=
newVehicleArray?helperFunctions.createProductVariables(newVehicleArray):usedVehicleArray?helperFunctions.createProductVariables(usedVehicleArray):"";if(productVar)faTracking.setVariable("products",productVar.join());faTracking.setVariable("events","event402");faTracking.setVariable("eVar45",evName)}Bootstrapper.notify("049 - OneShop - ProductDetail - Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"049 - OneShop - ProductDetail - Error")}})},3873029,[3939418,2816395,3826408,
2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],718626,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="automotive-visualization"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var faTrackingService=
window.Bootstrapper.analyticsHelper.featureAppTracking;var relProd=_audiDataLayer.event[0]&&_audiDataLayer.event[0].attributes&&_audiDataLayer.event[0].attributes.relatedProducts&&_audiDataLayer.event[0].attributes.relatedProducts["automotive-visualization"];if(Array.isArray(relProd)){var sProducts=[];relProd.forEach(function(configuredItems){if(!configuredItems.attributes&&configuredItems.productInfo&&configuredItems.productInfo.attributes)configuredItems=configuredItems.productInfo;var eVars=[];
var eVar90="eVar90\x3did:"+configuredItems.productInfo.productID;var eVar91="eVar91\x3dpc:"+configuredItems.category.primaryCategory+"~sc1:"+configuredItems.category.subCategory1;var eVar92="eVar92\x3dmy:"+configuredItems.attributes.modelYear;var eVar99="eVar99\x3deci:"+configuredItems.attributes.exteriorColor+"~tci:"+configuredItems.attributes.interiorColor;eVars.push(eVar90,eVar91,eVar92,eVar99);sProducts.push(configuredItems.category.productType+";"+configuredItems.productInfo.productID+";1;;"+
";"+eVars.join("|"))});faTrackingService.setVariable("products",sProducts.join())}}}catch(e){Bootstrapper.analyticsError.report(e,"052 - Automotive Visualization - Error")}})},3834588,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],729991,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["content","view_change","callback","error"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="profile completion"){var componentIndex=Bootstrapper.data.resolve("Manage.Event.componentIndex");
var faTrackingService=window.Bootstrapper.analyticsHelper.featureAppTracking;var evAct=Bootstrapper.data.resolve("Manage.Event.eventAction");var evName=Bootstrapper.data.resolve("Manage.Event.eventName");var pageID=Bootstrapper.data.resolve("Manage.Page.FeatureApp pageID");if(evAct==="view_change"&&pageID==="profile-completion"){var ser=__s&&__s.marketingCloudVisitorID?__s.marketingCloudVisitorID:"";ser=ser.substring(0,20);faTrackingService.setVariable("events","event314:"+ser,false)}if(evAct==="callback"&&
evName==="profile completion - sent information successful")Bootstrapper.setVariable("isViewChangeCloseEvent",true)}}catch(e){Bootstrapper.analyticsError.report(e,"056 - Profile Completion - Error")}})},3977634,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],741483,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var getProductData=function(displayedVehicles,path){try{if(displayedVehicles)return path.split(".").reduce(function(a,c){return a.hasOwnProperty(c)?a[c]||"":"not available"},Object.assign({},displayedVehicles));else return""}catch(e){Bootstrapper.analyticsError.report(e,"042 - Car Category Selection - getProductData Error")}};var setVariables=function(event){var faTracking=
Bootstrapper.analyticsHelper.featureAppTracking;if(event.attributes&&event.attributes.relatedProducts&&event.attributes.relatedProducts.displayedVehicles){var displayedVehicles=event.attributes.relatedProducts.displayedVehicles;if(Array.isArray(displayedVehicles[0]))displayedVehicles=displayedVehicles[0];var sProducts=[];var list3=[];for(var i=0;i<displayedVehicles.length;i++){sProducts.push(getProductData(displayedVehicles,i+".category.productType")+";"+getProductData(displayedVehicles,i+".productInfo.productID")+
";1;"+getProductData(displayedVehicles,i+".attributes.prices.base.formattedValue").replace(".","").replace(",",".")+";;eVar90\x3did:"+getProductData(displayedVehicles,i+".productInfo.productID")+"~pn:"+getProductData(displayedVehicles,i+".productInfo.productName")+"|eVar91\x3dpc:"+getProductData(displayedVehicles,i+".category.primaryCategory")+"~sc1:"+getProductData(displayedVehicles,i+".category.subCategory1")+"~pt:"+getProductData(displayedVehicles,i+".category.productType")+"|eVar93\x3dft:"+getProductData(displayedVehicles,
i+".attributes.emissionAndConsumption.fuels.0.fuel")+"~ac:"+getProductData(displayedVehicles,i+".attributes.techData.acceleration.formattedValue").replace(".","").replace(",",".")+"|eVar95\x3dpp:"+getProductData(displayedVehicles,i+".attributes.prices.base.formattedValue").replace(".","").replace(",","."));list3.push("pr*pi:"+getProductData(displayedVehicles,i+".productInfo.productID")+"~pn:"+getProductData(displayedVehicles,i+".productInfo.productName"))}faTracking.setVariable("products",sProducts.join());
faTracking.setVariable("list3",list3.join(";"));Bootstrapper.notify("042 - Car Category Selection - Set Feature App Variables")}};try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="audi-feature-app-car-category-selection")if(Bootstrapper.data.resolve("Manage.Event.eventAction")==="internal_link"){var enhancement={attributes:{relatedProducts:_audiDataLayer.event[0].attributes.relatedProducts}};Bootstrapper.analyticsStorage.enhanceClickStorage(enhancement);
Bootstrapper.notify("042 - Car Category Selection - Enhance Cookie by Feature App")}else setVariables(_audiDataLayer.event[0]);var ea=Bootstrapper.data.resolve("Manage.Event.eventAction");if(Bootstrapper.data.resolve("Manage.localStorage.featureAppName")==="audi-feature-app-car-category-selection"&&(ea==="page_load"||ea==="step"||ea==="view_change"))setVariables(Bootstrapper.data.resolve("Manage.localStorage.event"))}catch(e){Bootstrapper.analyticsError.report(e,"042 - Car Category Selection - Error")}})},
3834573,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],693233,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.analyticsHelper.isTrackingServiceV2()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="oneaudi-feature-app-cars-teaser"){var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var componentIndex=
_audiDataLayer.event[0].attributes.relatedComponent.componentIndex;var storageKey="CarsTeaser-eventNameValue";var helperFunctions={createProductVariables:function(prod){var sprod=[];for(var i=0;i<prod.length;i++){var price=helperFunctions.getPricesPerProduct(prod[i]);sprod.push(prod[i].category.productType+";"+prod[i].productInfo.productID+";1;;"+"event330\x3d"+price+"|event332\x3d"+price+";eVar90\x3did:"+prod[i].productInfo.productID+"~pn:"+prod[i].productInfo.productName+"|eVar91\x3dpc:"+prod[i].category.primaryCategory+
"~sc1:"+prod[i].category.subCategory+"~pt:"+prod[i].category.productType+"|eVar95\x3dpp:"+price)}return sprod},createList3:function(prod){var list3=[];for(var i=0;i<prod.length;i++){var price=helperFunctions.getPricesPerProduct(prod[i]);list3.push("pr*pi:"+prod[i].productInfo.productID+"~pp:"+price+"~pn:"+prod[i].productInfo.productName)}return list3},allVehicles:function(prod){var productCombination=[];for(var i=0;i<prod.length;i++)productCombination.push(prod[i].productInfo.productName);return productCombination},
createFilterVariables:function(filters){var res=[];var getMinValue=function(va){if(!Array.isArray(va))return"noMinValue";var minValue=va[0];if(minValue)return minValue;return"nomin"};var getMaxValue=function(va){if(!Array.isArray(va))return"noMaxValue";var maxValue=va[1];if(maxValue)return maxValue;return"nomax"};filters.forEach(function(fil){var filterName=fil.name;var filterCategory=fil.category;var val=fil.value;if(Array.isArray(fil.value)){var min=getMinValue(val);var max=getMaxValue(val);res.push("fna:"+
filterName+"~fva:"+filterCategory+"~fra:"+min+"-"+max+"~fmin:"+min+"~fmax:"+max)}else res.push("fna:"+filterName+"~fva:"+val)});return res.join(";")},isRemoveChangeOrAddFilter:function(eventName){return eventName==="cars teaser - add filter"||eventName==="cars teaser - change filter"||eventName==="cars teaser - remove filter"},removeInternalLinkStore:function(varName){Bootstrapper.setVariable(varName,null)},getInternalLinkEventName:function(key){var a=Bootstrapper.getVariable(key);if(a&&a.eventName)return a.eventName;
return""},getInternalLinkRelatedFilter:function(key){var a=Bootstrapper.getVariable(key);if(a&&a.relatedFilter)return a.relatedFilter;return""},getSearchResults:function(search){if(!search&&!search.results)return"no search results";return search.results==="0"?"no search results":search.results},getComponentProductData:function(componentIndex){return _audiDataLayer.component[componentIndex].products.recommendedVehicle||_audiDataLayer.component[componentIndex].products.newVehicle},getEventProductData:function(){return _audiDataLayer.event[0].attributes.relatedProducts.recommendedVehicle||
_audiDataLayer.event[0].attributes.relatedProducts.newVehicle},getPricesPerProduct:function(product){if(product.price&&product.price.totalPrice)return product.price.totalPrice;if(product.attributes.price&&product.attributes.price.value&&Bootstrapper.data.resolve("Manage.Page.market")!=="DE")return product.attributes.price.value;return"no price available"}};var fillVariable={sProducts:function(productArray){var sprod=helperFunctions.createProductVariables(productArray);window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("products",
sprod.join())},evar10:function(code){if(!code)return;window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar10",code)},setEvents:function(events){window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("events",events)},eVar82:function(varName){var v82=helperFunctions.getInternalLinkEventName(varName)?helperFunctions.getInternalLinkEventName(varName):Bootstrapper.data.resolve("Manage.localStorage.eventName");window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar82",
v82)},list3:function(productArray){var list3=helperFunctions.createList3(productArray);window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("list3",list3.join(";"))},eVar121:function(productArray){var productCombination=helperFunctions.allVehicles(productArray);window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar121",productCombination.join())},list2:function(search){if(!search)return;var filter=helperFunctions.createFilterVariables(search);window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("list2",
filter)},setFilterEvents:function(varName){var curAction=helperFunctions.getInternalLinkEventName(varName);if(!curAction)return;switch(curAction){case "cars teaser - add filter":return"event95";case "cars teaser - change filter":return"event97";case "cars teaser - remove filter":return"event96";default:return}},eVar24:function(search){if(!search)return"";window.Bootstrapper.analyticsHelper.featureAppTracking.setVariable("eVar24",search.name+";search term unknown;"+helperFunctions.getSearchResults(search))}};
if(eventAction==="internal_link"&&helperFunctions.isRemoveChangeOrAddFilter(eventName))Bootstrapper.setVariable(storageKey,{"eventName":eventName,"relatedFilter":_audiDataLayer.event[0].attributes.relatedFilters});if(eventName==="cars teaser - impression"||eventName==="cars teaser - callback success"||eventName==="cars teaser - callback failed"){var events=[];var curProduct=helperFunctions.getComponentProductData(componentIndex);if(eventName!=="cars teaser - callback failed"&&curProduct){fillVariable.sProducts(curProduct);
fillVariable.list3(curProduct);fillVariable.eVar121(curProduct);events.push("event330,event332")}else Bootstrapper.notify("Cars Teaser - no Product Data available");if((eventName==="cars teaser - callback success"||eventName==="cars teaser - callback failed")&&helperFunctions.isRemoveChangeOrAddFilter(helperFunctions.getInternalLinkEventName(storageKey))){fillVariable.list2(helperFunctions.getInternalLinkRelatedFilter(storageKey));events.push(fillVariable.setFilterEvents(storageKey));fillVariable.eVar24(_audiDataLayer.component[componentIndex].search);
events.push("event28,event26\x3d"+helperFunctions.getSearchResults(_audiDataLayer.component[componentIndex].search));fillVariable.eVar82(storageKey);helperFunctions.removeInternalLinkStore(storageKey)}fillVariable.setEvents(events.join(","))}if(eventName==="cars teaser - go to configuration"||eventName==="cars teaser - go to stock car"){var curProduct=helperFunctions.getEventProductData();if(curProduct){fillVariable.sProducts(curProduct);fillVariable.evar10(curProduct[0].attributes.audiCode);fillVariable.setEvents("event330,event332")}else Bootstrapper.notify("Cars Teaser - no Product Data available")}}}catch(e){Bootstrapper.analyticsError.report(e,
"047 - Cars Teaser - Error")}})},3834581,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],705652,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var workaroundIsExecuted=false;
if(window.location.hostname==="stories.audi.de"&&targetURL.indexOf("www.audi.de")>-1||window.location.hostname==="www.audi.de"&&targetURL.indexOf("stories.audi.de")>-1&&eventAction==="exit_link"){_audiDataLayer.event[0].eventInfo.eventAction="internal_link";workaroundIsExecuted=true}if(workaroundIsExecuted){var tagIDs=Bootstrapper.getVariable("_ens_tagIDs")||"";Bootstrapper.setVariable("_ens_tagIDs",tagIDs+"171,")}}catch(e){Bootstrapper.analyticsError.report(e,"171 - Error")}})},3945093,752800,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["view_change"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl",
"52936"]);Bootstrapper.AF.push(["join","__s","dl","53829"]);Bootstrapper.AF.push(["join","__s","dl","54420"]);Bootstrapper.AF.push(["join","__s","dl","54479"]);Bootstrapper.AF.push(["join","__s","dl","54459"]);Bootstrapper.AF.push(["join","__s","dl","57708"]);Bootstrapper.AF.push(["join","__s","dl","54499"]);Bootstrapper.AF.push(["join","__s","dl","56352"]);Bootstrapper.AF.push(["join","__s","dl","65198"]);Bootstrapper.AF.push(["join","__s","dl","65197"]);Bootstrapper.AF.push(["push","SiteCatalyst",
"ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar100","029"],["eVar81",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"52936")}],["eVar82",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53829")}],["eVar86",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54420")}],["eVar84",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54479")}],["eVar88",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"54459")}],["eVar87",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"57708")}],["eVar85",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54499")}],["eVar89",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"56352")}],["eVar43",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65198")}],["eVar46",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"65197")}]]])})},3825629,[3954161],734664,[538663],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["search_result_click"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join",
"__s","dl","53844"]);Bootstrapper.AF.push(["join","__s","dl","53461"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["eVar100","028"],["events","event22"],["eVar24",function(){return Bootstrapper._SC.dataHandler(arguments,"53844")}],["prop17",function(){return Bootstrapper._SC.dataHandler(arguments,"53461")}]]])})},2483206,[3954161],543976,[538663],55);
Bootstrapper.bindDependencyDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){function getIdFromCookie(){if(window.Bootstrapper&&window.Bootstrapper.Cookies&&window.Bootstrapper.Cookies.get){var cookieName="AMCV_097B467352782F130A490D45%40AdobeOrg";var cookieContent=window.Bootstrapper.Cookies.get(cookieName);var ecidString=/MCMID\|\d+\|/.exec(cookieContent);var ecid=ecidString?ecidString[0].split("|")[1]:"";return ecid}}function getIdFromObject(){if(window.visitor&&
window.visitor.getMarketingCloudVisitorID){var ecid=window.visitor.getMarketingCloudVisitorID();return ecid}}function getDisplayTexts(){var language=(document.documentElement.lang||navigator.language).substr(0,2);var texts={de:{found:"Ihre Adobe Experience Cloud ID (ECID):",notfound:"Es wurde keine ECID gefunden."},en:{found:"Your Adobe Experience Cloud ID (ECID):",notfound:"No ECID was found."},fr:{found:"Votre Adobe Experience Cloud ID (ECID):",notfound:"Aucun ECID n`a \u00e9t\u00e9 trouv\u00e9."}};
return language==="de"?texts.de:language==="fr"?texts.fr:texts.en}function promptId(){try{var ecid=getIdFromObject()||getIdFromCookie();var texts=getDisplayTexts();var message=ecid?texts.found:texts.notfound;window.prompt(message,ecid)}catch(err){if(window.Bootstrapper.notify)window.Bootstrapper.notify("096 - Error prompting ECID",err)}}window.Bootstrapper.bindPageSpecificCompletion(function(){var topLevelDomain=document.location.hostname;var searchParams=document.location.search;if(/\.(de|ca|com|audi)$/i.test(topLevelDomain)&&
/(_get_uvid=ecid|getid=ecid)/i.test(searchParams))promptId()});if(window.Bootstrapper.analyticsHelper)window.Bootstrapper.analyticsHelper.promptId=promptId})()},3970907,[3970912,3977529],681384,[730633,753298],24);
Bootstrapper.bindImmediate(function(){Bootstrapper.ensEvent.add(["clean-nemo"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var targetURL=Bootstrapper.data.resolve("Manage.Event.targetUrl_href");var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName");if(targetURL.indexOf("maps.google.com")>-1&&applicationName.indexOf("vtp 3.0")>-1)_audiDataLayer.event[0].eventInfo.eventName=
"vtp go to maps"}catch(e){Bootstrapper.analyticsError.report(e,"176 - Error")}})},3423011,668268,24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["error"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl","60906"]);
Bootstrapper.AF.push(["push","SiteCatalyst","ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events","event12,event48"],["eVar100","032"],["eVar22",function(){return Bootstrapper._SC.dataHandler(arguments,"60906")}]]])})},3059281,[3954161,3970001],622824,[538663,549281],55);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","cookie_banner_click","download","email","error","exit_layer","exit_link","favorite","filter","form_error","form_field","image","impression","internal_traffic","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","search_result_click","search_result_load","step","tooltip","user_action","video",
"view_change"],function(){var ensEventContext=this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","__s","dl","52859"]);Bootstrapper.AF.push(["join","__s","dl","53462"]);Bootstrapper.AF.push(["join",
"__s","dl","53465"]);Bootstrapper.AF.push(["join","__s","dl","53739"]);Bootstrapper.AF.push(["join","__s","dl","53749"]);Bootstrapper.AF.push(["join","__s","dl","53750"]);Bootstrapper.AF.push(["join","__s","dl","53751"]);Bootstrapper.AF.push(["join","__s","dl","54876"]);Bootstrapper.AF.push(["join","__s","dl","53752"]);Bootstrapper.AF.push(["join","__s","dl","53754"]);Bootstrapper.AF.push(["join","__s","dl","53753"]);Bootstrapper.AF.push(["join","__s","dl","52936"]);Bootstrapper.AF.push(["join","__s",
"dl","53921"]);Bootstrapper.AF.push(["join","__s","dl","54158"]);Bootstrapper.AF.push(["join","__s","dl","53460"]);Bootstrapper.AF.push(["join","__s","dl","53465"]);Bootstrapper.AF.push(["join","__s","dl","56327"]);Bootstrapper.AF.push(["join","__s","dl","57811"]);Bootstrapper.AF.push(["join","__s","dl","53987"]);Bootstrapper.AF.push(["join","__s","dl","64015"]);Bootstrapper.AF.push(["join","__s","dl","53941"]);Bootstrapper.AF.push(["join","__s","dl","68332"]);Bootstrapper.AF.push(["push","SiteCatalyst",
"ns","__s"]);Bootstrapper.AF.push(["join","__s","pre",[["events",function anon(){try{var events=[];var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var actionType=Bootstrapper.data.resolve("Manage.Event.actionType");if(Bootstrapper.data.resolve("Manage.Adobe.eVar15 - Login Status")=="Logged In")events.push("event1");if(eventAction!=="non_interaction"&&eventAction!=="impression"&&eventAction!=="error"&&actionType!=="automatic"&&(Bootstrapper.data.resolve("Manage.Event.componentName")!==
"component name not available"||Bootstrapper.data.resolve("Manage.localStorage.componentName")!=="component name not available"))events.push("event37");if(Bootstrapper.getVariable("internal_traffic_enabled")===true)events.push("event1000");if(typeof window.perfTime!="undefined"&&typeof window.perfTime.events!="undefined"&&window.perfTime.events!=="")events.push(window.perfTime.events);if(eventAction==="page_load"||eventAction==="step"||eventAction==="view_change"){var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");
if(eventName.indexOf("- form start")>-1&&eventName.indexOf("error")===-1)events.push("event81");else if(eventName.indexOf("- form finish")>-1)events.push("event82")}var value=Bootstrapper.data.resolve("Manage.Event.value");if(value.indexOf("click on accept")>-1)events.push("event5");if(actionType==="automatic")events.push("event48");var adblockerActive=Bootstrapper.data.resolve("Manage.Event.Global - All - Adblocker Active");if(adblockerActive)events.push("event47");function storageAvailable(type){var storage;
try{storage=window[type];var x="__storage_test__";storage.setItem(x,x);var y=storage.getItem(x);storage.removeItem(x);return y?true:false}catch(e){return e instanceof DOMException&&(e.code===22||e.code===1014||e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED")&&(storage&&storage.length!==0)}}if(!storageAvailable("localStorage"))events.push("event980");if(!navigator.cookieEnabled)events.push("event997");var _ens_vn=Bootstrapper.analyticsStorage.getVisitorItem("vn");if(!_ens_vn||
Bootstrapper.sessionTrackingHelper.setApplicationSpecificEvent)events.push("event63");if(!_ens_vn||Bootstrapper.sessionTrackingHelper.setSiteSpecificEvent)events.push("event64");if(events!=[])return events.join(",");else return""}catch(e){Bootstrapper.notify("020 core events error"+e);return""}}],["eVar6","D\x3dg"],["eVar7",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"52859")}],["eVar100","020"],["eVar3","+1"],["eVar9",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"53462")}],["eVar37",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53465")}],["eVar48",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53739")}],["eVar50",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53749")}],["eVar51",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53750")}],["eVar52",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53751")}],["eVar75","D\x3dmid"],["prop4","D\x3dv82"],["eVar5",
function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54876")}],["prop48","D\x3dv48"],["prop56",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53752")}],["prop55",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53754")}],["prop57",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53753")}],["eVar186",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"52936")}],["prop59",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"53921")}],["eVar15",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"54158")}],["pageURL",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53460")}],["eVar148",function anon(){try{var arch="arc|"+Bootstrapper.data.resolve("Manage.Page.architecture");return arch}catch(e){Bootstrapper.analyticsError.report(err,"eVar148 - architecture attribute error");return""}}],["eVar63",function anon(){if(window.innerWidth>window.innerHeight)return"landscape";else return"portrait"}],
["pageName",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53465")}],["eVar13",function(){try{return perfTime.URL}catch(e){return""}}],["eVar14",function(){try{return perfTime.timesString}catch(e){return""}}],["eVar83",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"56327")}],["prop72",function anon(){return Bootstrapper.analyticsHelper.getInvalidDataElements()}],["prop73",function anon(){return Bootstrapper.analyticsError.buildErrorProp()}],["eVar76",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,
"57811")}],["eVar31",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53987")}],["eVar24",function anon(){try{var eventAction=Bootstrapper.data.resolve("Manage.Event.eventAction");var eventName=Bootstrapper.data.resolve("Manage.Event.eventName");var name,term,results="";var navigationElement=Bootstrapper.analyticsHelper.getNavigationEvent();if(eventName.indexOf(" - results")>-1||eventName.indexOf("- result click")>-1||eventAction==="search result load"){name=Bootstrapper.data.resolve("Manage.Search.name")||
"search type unknown";term=Bootstrapper.data.resolve("Manage.Search.term")||"search term unknown";results=Bootstrapper.data.resolve("Manage.Search.results")||"no search results found"}else if(typeof navigationElement==="object"&&navigationElement.search){name=navigationElement.search.name||"search type unknown";term=navigationElement.search.term||"search term unknown";results=navigationElement.search.results||"no search results found"}else return"";return name+";"+term+";"+results}catch(err){return""}}],
["prop71",function anon(){try{var hidden=undefined;if(typeof document.hidden!=="undefined")hidden="hidden";else if(typeof document.mozHidden!=="undefined")hidden="mozHidden";else if(typeof document.msHidden!=="undefined")hidden="msHidden";else if(typeof document.webkitHidden!=="undefined")hidden="webkitHidden";if(hidden===undefined)return"unsupported";return!document[hidden]?"visible":"hidden"}catch(e){Bootstrapper.analyticsError.report(e,"tabVisibility");return"error"}}],["eVar185",function anon(){if(document.cookie)return document.cookie.length;
return""}],["doPlugins",function anon(){try{var application=_audiDataLayer.page.attributes.applicationName,site=_audiDataLayer.page.attributes.site,date=(new Date).getTime(),sho=Bootstrapper.sessionHelperObject;Bootstrapper.sessionTrackingHelper.updateSessionItem(application,site,date);__s.eVar113="app:"+sho.pa+"~si:"+sho.ps;__s.eVar114=sho.apps[application].ep;__s.eVar115=sho.sites[site].ep;__s.eVar116="app:"+sho.apps[application].vn+"~si:"+sho.sites[site].vn;__s.eVar117="app:"+sho.apps[application].lv+
"~si:"+sho.sites[site].lv;Bootstrapper.sessionTrackingHelper.setApplicationSpecificEvent=false;Bootstrapper.sessionTrackingHelper.setSiteSpecificEvent=false;if(Bootstrapper.getVariable("014-debugging"))__s.eVar200=Bootstrapper.getVariable("014-debugging");return true}catch(error){Bootstrapper.analyticsError.report(error,"020 - Failed to set up doPlugins");return false}}],["eVar77",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"64015")}],["eVar26",function anon(){if(Bootstrapper.data.resolve("Manage.Event.eventName")===
"main search - results")return"+1";return""}],["eVar79",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"53941")}],["eVar179",function anon(){return Bootstrapper.analyticsStorage.getVisitorItem("ux_research")||""}],["eVar41",function anon(){var version=Bootstrapper.data.resolve("Manage.Event.featureAppVersion");if(version)return"faver|"+version;return""}],["eVar45",function(){return window["Bootstrapper"]._SC.dataHandler(arguments,"68332")}]]])})},3954161,[3516587,3514062],538663,
[556658,557170],55);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){Bootstrapper.notify("003b - Optout Handler loaded");var debouncer;document.addEventListener("consent_change",function(event){if(Bootstrapper.analyticsConsent&&Bootstrapper.analyticsConsent.consentGiven){clearTimeout(debouncer);debouncer=setTimeout(function(){if(!Bootstrapper.analyticsConsent.consentGiven()){Bootstrapper.notify("003b - Analytics Opt-out detected, deleting Analytics cookies");if(Bootstrapper.analyticsStorage&&
Bootstrapper.analyticsStorage.removeAnalyticsCookies)Bootstrapper.analyticsStorage.removeAnalyticsCookies()}},500)}})})()},3936266,[3936265,3977529],732444,[671513,753298],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{if(Bootstrapper.analyticsHelper.isFeatureAppEvent()&&Bootstrapper.data.resolve("Manage.Event.featureAppName")==="audi-feature-app-partner-business-card"){var faTracking=Bootstrapper.analyticsHelper.featureAppTracking;var eVar41="va|"+Bootstrapper.data.resolve("Manage.Component.variant")+";favar|"+Bootstrapper.data.resolve("Manage.Event.featureAppVersion");
faTracking.setVariable("eVar41",eVar41);Bootstrapper.notify("044 - Partner Business Card - Set Feature App Variables")}}catch(e){Bootstrapper.analyticsError.report(e,"044 - Partner Business Card - Error")}})},3936915,[3939418,2816395,3826408,2483206,3970001,2783500,3913831,3834540,3913470,3059281,3707696,3825629],699461,[538665,538667,540513,543976,549281,573307,577849,589394,610417,622824,653876,734664],24);
Bootstrapper.bindDependencyImmediate(function(){Bootstrapper.ensEvent.add(["anchor","calculate","call","callback","compare","configuration","content","download","email","error","exit_link","favorite","filter","form_error","form_field","image","impression","internal_link","internal_traffic","layer_close_click","layer_open_click","navigation","non_interaction","opt-in","order","page_load","print","product interaction","registration_complete","step","tooltip","user_action","video","view_change"],function(){var ensEventContext=
this;if(ensEventContext==window)ensEventContext=undefined;var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var trackservice=Bootstrapper.analyticsHelper.featureAppTracking;trackservice.setVariable("eVar100","070");Bootstrapper.notify("070 - FeatureApp Exit Tag Executed")})},3977641,[3834569,3834572,3834573,3941053,3936915,3941059,3834578,3834581,3834582,3873029,3873761,3941066,3834588,3834589,3941645,3834592,3977634,3870111,3873031,3940965,3941076,3969997,
3969980,3977640],671326,[671514,683845,693233,698405,699461,699664,700290,705652,705825,718626,718648,727170,729991,730140,733613,734240,741483,742129,742799,742918,747899,757794,757996,758989],24);