/*! @oneaudi/audi-microkernel 4.0.0 - Thu, 03 Aug 2023 12:49:39 GMT
License information can be found in audi-microkernel.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("microkernel",[],e):"object"==typeof exports?exports.microkernel=e():t.microkernel=e()}(self,(()=>(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name="AlreadySubscribedError",this.message=""===t?"Callback function has already been subscribed.":`bad parameter \`${t}\`: callback function has already been subscribed.`}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name="NotSubscribedError",this.message=""===t?"Callback function has not been subscribed before.":`bad parameter \`${t}\`: callback function has not been subscribed before.`}function o(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}t.r(e),t.d(e,{StateRegistry:()=>_,StorageTypes:()=>p,stateRegistry:()=>d}),s.prototype=Object.create(Error.prototype),r.prototype=Object.create(Error.prototype);var i="function"==typeof Symbol&&Symbol.observable||"@@observable",n=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+n(),REPLACE:"@@redux/REPLACE"+n(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+n()}};function c(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function a(t,e,r){var s;if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error(o(1));return r(a)(t,e)}if("function"!=typeof t)throw new Error(o(2));var n=t,f=e,b=[],h=b,p=!1;function l(){h===b&&(h=b.slice())}function _(){if(p)throw new Error(o(3));return f}function d(t){if("function"!=typeof t)throw new Error(o(4));if(p)throw new Error(o(5));var e=!0;return l(),h.push(t),function(){if(e){if(p)throw new Error(o(6));e=!1,l();var r=h.indexOf(t);h.splice(r,1),b=null}}}function g(t){if(!c(t))throw new Error(o(7));if(void 0===t.type)throw new Error(o(8));if(p)throw new Error(o(9));try{p=!0,f=n(f,t)}finally{p=!1}for(var e=b=h,r=0;r<e.length;r++){(0,e[r])()}return t}return g({type:u.INIT}),(s={dispatch:g,subscribe:d,getState:_,replaceReducer:function(t){if("function"!=typeof t)throw new Error(o(10));n=t,g({type:u.REPLACE})}})[i]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(o(11));function r(){t.next&&t.next(_())}return r(),{unsubscribe:e(r)}}})[i]=function(){return this},t},s}const f=class{constructor(t,e,r){this._store=a((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;return"function"==typeof e[r.type]?e[r.type](t,r.payload):t}),t,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),this._nameOfStore=r,this._subscriptions=[]}subscribe(t){if(0!==this._subscriptions.filter((e=>e.callback===t)).length)throw new r(t.name);const e=this._store.subscribe((()=>{const e=this._store.getState();t(e,this._nameOfStore)}));this._subscriptions.push({callback:t,unsubscribe:e})}unsubscribe(t){const e=this._subscriptions.length;for(let r=0;r<e;r+=1){const e=this._subscriptions[r];if(e.callback===t)return e.unsubscribe(),void this._subscriptions.splice(r,1)}throw new s(t.name)}triggerAction(t,e){this._store.dispatch({payload:e,type:t})}getState(){return this._store.getState()}};class b{constructor(){if(b._instance)return b._instance;this._stores=[],b._instance=this}getStore(t){return void 0===this._stores[t]?null:this._stores[t]}setStore(t,e,r){if(void 0!==this._stores[t])throw new Error(`Store with name \`${t}\` already exists.`);this._stores[t]=new f(e,r,t)}}const h=b;const p=class{static get SESSION_STORAGE(){return"sessionStorage"}static get LOCAL_STORAGE(){return"localStorage"}static get LIFETIME_UNLIMITED(){return-1}static get LIFETIME_ONE_DAY(){return 864e5}};class l{constructor(){if(l._instance)return l._instance;this._state=new h,this._subscriptionQueue=[],this._storesToPersist={},l._instance=this}addStore(t,e,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(this._state.setStore(t,e,r),this._processSubscriptionQueue(t),s){const e=s.storageType?s.storageType:p.SESSION_STORAGE,o=!!s.timestamp&&s.timestamp;this._storesToPersist[t]={actions:r,storageType:e,timestamp:o}}return!0}catch(t){return!1}}getState(t){return this._state&&this._state.getStore&&"function"==typeof this._state.getStore&&this._state.getStore(t)?this._state.getStore(t).getState():{}}getPersistableActions(t){return this._storesToPersist[t].actions}getTimestampFromPersistence(t){return this._storesToPersist[t].timestamp}subscribeToStore(t,e){const r=this._state.getStore(t);null!==r?(r.subscribe(e),e(r.getState(),t)):this._enqueueSubscription(t,e)}triggerAction(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this._state.getStore(t);null!==s&&(s.triggerAction(e,r),this._storesToPersist[t]&&this._storesToPersist[t].timestamp&&(this._storesToPersist[t].timestamp=Date.now()))}unsubscribeFromStore(t,e){const r=this._state.getStore(t);null!==r?r.unsubscribe(e):this._dequeueSubscription(t,e)}get storesToPersist(){return this._storesToPersist}_enqueueSubscription(t,e){if(this._subscriptionQueue[t]instanceof Array){if(-1!==this._subscriptionQueue[t].indexOf(e))throw new r(e.name);this._subscriptionQueue[t].push(e)}else this._subscriptionQueue[t]=[e]}_processSubscriptionQueue(t){if(this._subscriptionQueue[t]instanceof Array){const e=this._subscriptionQueue[t].length;for(let r=0;r<e;r+=1)this.subscribeToStore(t,this._subscriptionQueue[t][r]);this._subscriptionQueue[t]=[]}}_dequeueSubscription(t,e){if(void 0===this._subscriptionQueue[t])throw new s(e.name);const r=this._subscriptionQueue[t].indexOf(e);if(-1===r)throw new s(e.name);this._subscriptionQueue[t].splice(r,1)}}const _=l,d=new _;return e})()));
//# sourceMappingURL=audi-microkernel.js.map